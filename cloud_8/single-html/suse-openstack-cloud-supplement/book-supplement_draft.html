<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Supplement to Administrator Guide and End User Guide | SUSE OpenStack Cloud Crowbar 8</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2)" /><meta name="product-name" content="SUSE OpenStack Cloud Crowbar" /><meta name="product-number" content="8" /><meta name="book-title" content="Supplement to Administrator Guide and End User Guide" /><meta name="description" content="SUSE® OpenStack Cloud Crowbar is an open source software solution that provides the fundamental capabilities to deploy and manage a cloud infrastructure based on SUSE Linux Enterprise. SUSE OpenStack Cloud Crowbar is powered by OpenStack, the leading community-driven, open source cloud infrastructur…" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="taroth@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 7" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft single offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs inactive"><a class="single-crumb" href="#book-supplement" accesskey="c"><span class="single-contents-icon"></span>Supplement to Administrator Guide and End User Guide</a><div class="bubble-corner active-contents"></div></div><div class="clearme"></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs inactive"><a class="single-crumb" href="#book-supplement" accesskey="c"><span class="single-contents-icon"></span>Show Contents: Supplement to Administrator Guide and End User Guide</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="clearme"></div></div><div class="clearme"></div></div><div class="active-contents bubble"><div class="bubble-container"><div id="_bubble-toc"><ol><li class="inactive"><a href="#pre-cloud-suppl"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="#cha-suppl-horizon-theme"><span class="number">1 </span><span class="name">Changing the SUSE <span class="productname">OpenStack</span> Cloud Dashboard Theme</span></a></li><li class="inactive"><a href="#cha-adm-cli-img"><span class="number">2 </span><span class="name">Managing Images</span></a></li><li class="inactive"><a href="#cha-user-dash-inst"><span class="number">3 </span><span class="name">Launching Instances from the SUSE <span class="productname">OpenStack</span> Cloud Dashboard</span></a></li><li class="inactive"><a href="#cha-user-dash-inst-access"><span class="number">4 </span><span class="name">Configuring Access to the Instances</span></a></li><li class="inactive"><a href="#cha-deploy-kubernetes"><span class="number">5 </span><span class="name">Deploying Kubernetes</span></a></li><li class="inactive"><a href="#app-suppl-docupdates"><span class="number">A </span><span class="name">Documentation Updates</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_toc-bubble-wrap"></div><div id="_content" class="draft "><div class="documentation"><div xml:lang="en" class="book" id="book-supplement" lang="en"><div class="titlepage"><div><h6 class="version-info"><span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span></span> <span class="productnumber "><span class="phrase"><span class="phrase">8</span></span></span></h6><div><h1 class="title"><em class="citetitle ">Supplement to <em class="citetitle ">Administrator Guide</em> and <em class="citetitle ">End User Guide</em></em></h1></div><div class="authorgroup"><div><span class="imprint-label">Authors: </span><span class="firstname ">Frank</span> <span class="surname ">Sundermeyer</span> and <span class="firstname ">Tanja</span> <span class="surname ">Roth</span></div></div><div class="date"><span class="imprint-label">Publication Date: </span>
September 21, 2020
</div></div></div><div class="toc"><dl><dt><span class="preface"><a href="#pre-cloud-suppl"><span class="name">About This Guide</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#id-1.5.2.7"><span class="name">Available Documentation</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.8"><span class="name">Feedback</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.9"><span class="name">Documentation Conventions</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.10"><span class="name">About the Making of This Manual</span></a></span></dt></dl></dd><dt><span class="chapter"><a href="#cha-suppl-horizon-theme"><span class="number">1 </span><span class="name">Changing the SUSE <span class="productname">OpenStack</span> Cloud Dashboard Theme</span></a></span></dt><dt><span class="chapter"><a href="#cha-adm-cli-img"><span class="number">2 </span><span class="name">Managing Images</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#sec-adm-cli-img-build-req"><span class="number">2.1 </span><span class="name">Image Requirements</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-build"><span class="number">2.2 </span><span class="name">Building Images with SUSE Studio</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-props"><span class="number">2.3 </span><span class="name">Image Properties</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-upload"><span class="number">2.4 </span><span class="name">Uploading Images</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-props-modify"><span class="number">2.5 </span><span class="name">Modifying Image Properties</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-img-custom-kernel"><span class="number">2.6 </span><span class="name">Using a Custom Kernel to Boot Btrfs Images Under Xen</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-view"><span class="number">2.7 </span><span class="name">Viewing Images and Image Properties, Deleting Images</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-member"><span class="number">2.8 </span><span class="name">Viewing and Modifying Membership of Private Images</span></a></span></dt></dl></dd><dt><span class="chapter"><a href="#cha-user-dash-inst"><span class="number">3 </span><span class="name">Launching Instances from the SUSE <span class="productname">OpenStack</span> Cloud Dashboard</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#sec-user-dash-inst-launch-params"><span class="number">3.1 </span><span class="name">Key Parameters</span></a></span></dt><dt><span class="sect1"><a href="#sec-user-dash-inst-launch-vol"><span class="number">3.2 </span><span class="name">Launching Instances from Images, Snaphots, or Volumes</span></a></span></dt></dl></dd><dt><span class="chapter"><a href="#cha-user-dash-inst-access"><span class="number">4 </span><span class="name">Configuring Access to the Instances</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#sec-user-dash-inst-access-security-rules"><span class="number">4.1 </span><span class="name">Security Group Rules</span></a></span></dt></dl></dd><dt><span class="chapter"><a href="#cha-deploy-kubernetes"><span class="number">5 </span><span class="name">Deploying Kubernetes</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#sec-deploy-kubernetes-cli"><span class="number">5.1 </span><span class="name">Deploying a Kubernetes Cluster from Command Line</span></a></span></dt><dt><span class="sect1"><a href="#sec-deploy-kubernetes-ui"><span class="number">5.2 </span><span class="name">Deploying a Kubernetes Cluster from the Dashboard</span></a></span></dt><dt><span class="sect1"><a href="#sec-deploy-kubernetes-without"><span class="number">5.3 </span><span class="name">Deploying a Kubernetes Cluster Without Internet Access</span></a></span></dt></dl></dd><dt><span class="appendix"><a href="#app-suppl-docupdates"><span class="number">A </span><span class="name">Documentation Updates</span></a></span></dt><dd><dl><dt><span class="sect1"><a href="#sec-suppl-docupdates-july"><span class="number">A.1 </span><span class="name">July 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c7-gm"><span class="number">A.2 </span><span class="name">February 2017 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c6-maint1"><span class="number">A.3 </span><span class="name">January 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 6)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c5-gm"><span class="number">A.4 </span><span class="name">February 2015 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 5)</span></a></span></dt></dl></dd></dl></div><div><div class="legalnotice" id="id-1.5.1.5"><p>
  Copyright © 2006–
2020

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Except where otherwise noted, this document is licensed under
  <span class="bold"><strong>Creative Commons Attribution 3.0 License
  </strong></span>:
  <a class="link" href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">


  </a>
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="http://www.suse.com/company/legal/" target="_blank">http://www.suse.com/company/legal/</a>. All other
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention
  to detail. However, this does not guarantee complete accuracy. Neither
  SUSE LLC, its affiliates, the authors nor the translators shall be held
  liable for possible errors or the consequences thereof.
 </p></div></div><div class="preface " id="pre-cloud-suppl"><div class="titlepage"><div><div><h1 class="title"><span class="number"> </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">About This Guide</span> <a title="Permalink" class="permalink" href="#pre-cloud-suppl">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_intro.xml</li><li><span class="ds-label">ID: </span>pre-cloud-suppl</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#id-1.5.2.7"><span class="name">Available Documentation</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.8"><span class="name">Feedback</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.9"><span class="name">Documentation Conventions</span></a></span></dt><dt><span class="sect1"><a href="#id-1.5.2.10"><span class="name">About the Making of This Manual</span></a></span></dt></dl></div></div><p>
   <span class="phrase"><span class="phrase">SUSE® <span class="productname">OpenStack</span> Cloud Crowbar</span></span> is an open source software solution that provides the
  fundamental capabilities to deploy and manage a cloud infrastructure
  based on SUSE Linux Enterprise. <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> is powered by <span class="productname">OpenStack</span>, the leading
  community-driven, open source cloud infrastructure project. It seamlessly
  manages and provisions workloads across a heterogeneous cloud environment
  in a secure, compliant, and fully-supported manner. The product tightly
  integrates with other SUSE technologies and with the SUSE maintenance
  and support infrastructure.
 </p><p>
  This guide is a supplement to the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> <em class="citetitle ">Administrator Guide</em> and
  <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> <em class="citetitle ">End User Guide</em>. It contains additional information for
  admins and end users that is specific to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>.
 </p><p>
  Many chapters in this manual contain links to additional documentation
  resources. These include additional documentation that is available on the
  system and documentation available on the Internet.
 </p><p>
  For an overview of the documentation available for your product and the
  latest documentation updates, refer to
  <a class="link" href="http://documentation.suse.com" target="_blank">http://documentation.suse.com</a>.
 </p><div class="sect1 " id="id-1.5.2.7"><div class="titlepage"><div><div><h2 class="title"><span class="number">1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Available Documentation</span> <a title="Permalink" class="permalink" href="#id-1.5.2.7">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>common_intro_available_doc_i.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div id="id-1.5.2.7.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Online Documentation and Latest Updates</h6><p>
  Documentation for our products is available at
  <a class="link" href="http://documentation.suse.com" target="_blank">http://documentation.suse.com</a>, where you can also
  find the latest updates, and browse or download the documentation in various formats.
 
 </p></div><p>
  In addition, the product documentation
  is usually available in your installed system under
  <code class="filename">/usr/share/doc/manual</code>. You can also access the
  product-specific manuals and the upstream documentation from
  the <span class="guimenu ">Help</span> links in the graphical Web interfaces.
 </p><p>The following documentation is available for this product:
 </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.2.7.6.1"><span class="term "><em class="citetitle ">Deploying With Crowbar</em></span></dt><dd><p>
     Gives an introduction to the <span class="phrase"><span class="phrase">SUSE® <span class="productname">OpenStack</span> Cloud Crowbar</span></span> architecture, lists
     the requirements, and describes how to set up, deploy, and maintain the
     individual components. Also contains information about troubleshooting,
     support, and a glossary listing the most important terms and concepts
     for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>.
    </p></dd><dt id="id-1.5.2.7.6.2"><span class="term "><em class="citetitle ">Administrator Guide</em>
   </span></dt><dd><p>
     Introduces the <span class="productname">OpenStack</span> services and their components.
    </p><p>
     Also guides you through tasks like managing images, roles, instances, flavors,
     volumes, shares, quotas, host aggregates, and viewing cloud resources. To
     complete these tasks, use either the graphical Web interface (<span class="productname">OpenStack</span> Dashboard,
     code name <code class="literal">Horizon</code>) or the <span class="productname">OpenStack</span> command line clients.
    </p></dd><dt id="id-1.5.2.7.6.3"><span class="term "><em class="citetitle ">End User Guide</em>
   </span></dt><dd><p>
     Describes how to manage images, instances, networks, object containers,
     volumes, shares, stacks, and databases. To complete these tasks, use either the graphical Web interface (<span class="productname">OpenStack</span> Dashboard, code name
     <code class="literal">Horizon</code>) or the <span class="productname">OpenStack</span> command line clients.
    </p></dd><dt id="id-1.5.2.7.6.4"><span class="term "><em class="citetitle ">Supplement to <em class="citetitle ">Administrator Guide</em> and <em class="citetitle ">End User Guide</em></em></span></dt><dd><p>
     A supplement to the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> <em class="citetitle ">Administrator Guide</em> and
     <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> <em class="citetitle ">End User Guide</em>. It contains additional information for
     admins and end users that is specific to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>.
    </p></dd><dt id="id-1.5.2.7.6.5"><span class="term "><em class="citetitle ">Overview</em></span></dt><dd><p>
     A manual introducing <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Monitoring. It is written for
     everybody interested in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Monitoring.
    </p></dd><dt id="id-1.5.2.7.6.6"><span class="term "><em class="citetitle "><span class="productname">OpenStack</span> Operator's Guide</em></span></dt><dd><p>A manual for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> operators describing how to prepare their
     <span class="productname">OpenStack</span> platform for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Monitoring. The manual also describes
     how the operators use <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Monitoring for monitoring their <span class="productname">OpenStack</span>
     services.
     </p></dd><dt id="id-1.5.2.7.6.7"><span class="term "><em class="citetitle ">Monitoring Service Operator's Guide</em></span></dt><dd><p>A manual for system operators describing how to operate <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>
     Monitoring. The manual also describes how the operators can use
     <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Monitoring for monitoring their environment.
    </p></dd></dl></div></div><div class="sect1 " id="id-1.5.2.8"><div class="titlepage"><div><div><h2 class="title"><span class="number">2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Feedback</span> <a title="Permalink" class="permalink" href="#id-1.5.2.8">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>common_intro_feedback_i.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
  Several feedback channels are available:
 </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.2.8.4.1"><span class="term ">Services and Support Options</span></dt><dd><p>
     For services and support options available for your product, refer to
     <a class="link" href="http://www.suse.com/support/" target="_blank">http://www.suse.com/support/</a>.
    </p></dd><dt id="id-1.5.2.8.4.2"><span class="term ">User Comments/Bug Reports</span></dt><dd><p>
     We want to hear your comments about and suggestions for this manual and
     the other documentation included with this product. If you are reading the
     HTML version of this guide, use the Comments feature at the bottom of each page
     in the online documentation
     at <a class="link" href="http://documentation.suse.com" target="_blank">http://documentation.suse.com</a>.
    </p><p>If you are reading the single-page HTML version of this guide, you can
     use the <span class="guimenu ">Report Bug</span> link next to each section to open
     a bug report at <a class="link" href="https://bugzilla.suse.com/" target="_blank">https://bugzilla.suse.com/</a>. A user
    account is needed for this.</p></dd><dt id="id-1.5.2.8.4.3"><span class="term ">Mail</span></dt><dd><p>
     For feedback on the documentation of this product, you can also send a
     mail to <code class="literal">doc-team@suse.com</code>. Make sure to include the
     document title, the product version, and the publication date of the
     documentation. To report errors or suggest enhancements, provide a
     concise description of the problem and refer to the respective section
     number and page (or URL).
    </p></dd></dl></div></div><div class="sect1 " id="id-1.5.2.9"><div class="titlepage"><div><div><h2 class="title"><span class="number">3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Documentation Conventions</span> <a title="Permalink" class="permalink" href="#id-1.5.2.9">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>common_intro_typografie_i.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
  The following notices and typographical conventions are used
  in this documentation:
 </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><div id="id-1.5.2.9.4.1.1" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning</h6><p>
    Vital information you must be aware of before proceeding. Warns you about
    security issues, potential loss of data, damage to hardware, or physical
    hazards.
   </p></div><div id="id-1.5.2.9.4.1.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>
    Important information you should be aware of before proceeding.
   </p></div><div id="id-1.5.2.9.4.1.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>
    Additional information, for example about differences in software
    versions.
   </p></div><div id="id-1.5.2.9.4.1.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip</h6><p>
    Helpful information, like a guideline or a piece of practical advice.
   </p></div></li><li class="listitem "><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">command</code></pre></div><p>
    Commands that can be run by any user, including the <code class="systemitem">root</code> user.
   </p></li><li class="listitem "><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">root # </code><code class="command">command</code></pre></div><p>
    Commands that must be run with <code class="systemitem">root</code> privileges. Often you
    can also prefix these commands with the <code class="command">sudo</code> command to
    run them.
   </p></li><li class="listitem "><p>
    <code class="filename">/etc/passwd</code>: directory names and file names
   </p></li><li class="listitem "><p>
    <em class="replaceable ">PLACEHOLDER</em>: replace
    <em class="replaceable ">PLACEHOLDER</em> with the actual value
   </p></li><li class="listitem "><p>
    <code class="envar">PATH</code>: the environment variable PATH
   </p></li><li class="listitem "><p>
    <code class="command">ls</code>, <code class="option">--help</code>: commands, options, and
    parameters
   </p></li><li class="listitem "><p>
    <code class="systemitem">user</code>: users or groups
   </p></li><li class="listitem "><p>
    <span class="keycap">Alt</span>, <span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span>: a key to press or a key combination;
    keys are shown in uppercase as on a keyboard
   </p></li><li class="listitem "><p>
    <span class="guimenu ">File</span>, <span class="guimenu ">File</span> › <span class="guimenu ">Save As</span>: menu items, buttons
   </p></li><li class="listitem "><p><strong class="arch-arrow-start">AMD/Intel</strong>
    This paragraph is only relevant for the AMD64/Intel 64 architecture. The
    arrows mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"></strong></p><p><strong class="arch-arrow-start">IBM Z, POWER</strong>
    This paragraph is only relevant for the architectures
    <code class="literal">z Systems</code> and <code class="literal">POWER</code>. The arrows
    mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"></strong></p></li><li class="listitem "><p>
    <span class="emphasis"><em>Dancing Penguins</em></span> (Chapter
    <span class="emphasis"><em>Penguins</em></span>, ↑Another Manual): This is a
    reference to a chapter in another manual.
   </p></li></ul></div></div><div class="sect1 " id="id-1.5.2.10"><div class="titlepage"><div><div><h2 class="title"><span class="number">4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">About the Making of This Manual</span> <a title="Permalink" class="permalink" href="#id-1.5.2.10">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>common_intro_making_i.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   This documentation is written in SUSEDoc, a subset of <a class="link" href="http://www.docbook.org" target="_blank">DocBook 5</a>. The XML source
   files were validated by <code class="command">jing</code>, processed by
   <code class="command">xsltproc</code>, and converted into XSL-FO using a customized
   version of Norman Walsh's stylesheets. The final PDF is formatted through
   <span class="phrase">FOP</span> from Apache Software Foundation. The open source tools
   and the environment used to build this documentation are provided by the
   DocBook Authoring and Publishing Suite (DAPS). The project's home page can
   be found at <a class="link" href="https://github.com/openSUSE/daps" target="_blank">https://github.com/openSUSE/daps</a>.
  </p><p>
   The XML source code of this documentation can be found at <a class="link" href="https://github.com/SUSE-Cloud/doc-cloud" target="_blank">https://github.com/SUSE-Cloud/doc-cloud</a>.
  </p></div></div><div class="chapter " id="cha-suppl-horizon-theme"><div class="titlepage"><div><div><h1 class="title"><span class="number">1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Changing the SUSE <span class="productname">OpenStack</span> Cloud Dashboard Theme</span> <a title="Permalink" class="permalink" href="#cha-suppl-horizon-theme">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>cha-suppl-horizon-theme</li></ul></div></div></div></div><div class="line"></div><p>
   The SUSE <span class="productname">OpenStack</span> Cloud Dashboard theme can now be customized. The default <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>
   theme is available in the
   <code class="systemitem">openstack-dashboard-theme-SUSE</code>
   package. If you want to replace it with a custom theme, you can explore the
   package contents as an example. When using a custom theme, make sure the
   resulting package name starts with
   <code class="systemitem">openstack-dashboard-theme-</code>. Apart
   from that, go to the Horizon barclamp in Crowbar, switch to the
   <span class="guimenu ">Raw</span> view and adjust the <span class="guimenu ">site_theme</span>
   attribute accordingly. For details about the barclamps in Crowbar, see the
   <em class="citetitle ">Deploying With Crowbar</em>.
  </p></div><div class="chapter " id="cha-adm-cli-img"><div class="titlepage"><div><div><h1 class="title"><span class="number">2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing Images</span> <a title="Permalink" class="permalink" href="#cha-adm-cli-img">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>cha-adm-cli-img</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#sec-adm-cli-img-build-req"><span class="number">2.1 </span><span class="name">Image Requirements</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-build"><span class="number">2.2 </span><span class="name">Building Images with SUSE Studio</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-props"><span class="number">2.3 </span><span class="name">Image Properties</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-upload"><span class="number">2.4 </span><span class="name">Uploading Images</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-props-modify"><span class="number">2.5 </span><span class="name">Modifying Image Properties</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-img-custom-kernel"><span class="number">2.6 </span><span class="name">Using a Custom Kernel to Boot Btrfs Images Under Xen</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-view"><span class="number">2.7 </span><span class="name">Viewing Images and Image Properties, Deleting Images</span></a></span></dt><dt><span class="sect1"><a href="#sec-adm-cli-img-member"><span class="number">2.8 </span><span class="name">Viewing and Modifying Membership of Private Images</span></a></span></dt></dl></div></div><p>
   
  </p><p>
   In the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> context, images are virtual disk images that represent
   the contents and structure of a storage medium or device, such as a hard
   disk, in a single file. Images are used as a template from which a virtual
   machine can be started. For starting a virtual machine, <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> always
   uses a copy of the image.
  </p><p>
   Images have both content and metadata. The latter are also called image
   properties.
  </p><p>
   Permissions to manage images are defined by the cloud operator during setup
   of <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>. Image upload and management may be restricted to cloud
   administrators or cloud operators only.
  </p><p>
   Managing images for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> requires the following basic steps:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     <a class="xref" href="#sec-adm-cli-img-build" title="2.2. Building Images with SUSE Studio">Building Images with SUSE Studio</a>.
     
    </p><p>
     For general and hypervisor-specific requirements, refer to
     <a class="xref" href="#sec-adm-cli-img-build-req" title="2.1. Image Requirements">Section 2.1, “Image Requirements”</a>.
    </p></li><li class="step "><p>
     <a class="xref" href="#pro-adm-cli-img-upload" title="Uploading Disk Images to SUSE OpenStack Cloud Crowbar">Uploading Disk Images to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span></a>.
    </p><p>
     Images can either be uploaded to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> with the
     unified <code class="command">python-openstackclient</code> from command line or with
     the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> Dashboard. As the Dashboard has some limitations
     regarding image upload and modification of properties, it is recommended
     to use the unified <code class="command">python-openstackclient</code> for comprehensive image
     management.
    </p></li><li class="step "><p>
     Specifying Image Properties. You can do so during image upload (using
     <code class="command">openstack image create</code>) or with
     <code class="command">openstack image set</code> after the image has already
     been uploaded. Refer to <a class="xref" href="#pro-adm-cli-img-upload" title="Uploading Disk Images to SUSE OpenStack Cloud Crowbar">Procedure 2.2, “Uploading Disk Images to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>”</a> and
     <a class="xref" href="#pro-adm-cli-img-props-modify" title="Modifying Image Properties">Procedure 2.3, “Modifying Image Properties”</a>.
    </p><div id="id-1.5.4.7.3.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Properties for Architecture, Hypervisor and VM Mode</h6><p>
      <span class="productname">OpenStack</span> Image does <span class="emphasis"><em>not</em></span> check nor automatically
      detect any image properties. Therefore you need to specify the
      image's properties manually.
     </p><p>
      This is especially important when using mixed virtualization environments
      to make sure that an image is only launched on appropriate hypervisors.
      The properties can specify a certain architecture, hypervisor type, or
      application binary interface (ABI) that the image requires.
     </p></div></li></ol></div></div><div class="sect1 " id="sec-adm-cli-img-build-req"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Image Requirements</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-build-req">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-build-req</li></ul></div></div></div></div><p>
   
  </p><p>
    To build the images to use within the cloud, use SUSE Studio or
    SUSE Studio Onsite as they provide automatic insertion of management scripts and
    agents. Make sure any images that you build for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> fulfill the
    following requirements.
   </p><div class="sect2 " id="vl-adm-img-req-general"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">General Image Requirements</span> <a title="Permalink" class="permalink" href="#vl-adm-img-req-general">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>vl-adm-img-req-general</li></ul></div></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       The network is set to DHCP.
      </p></li><li class="listitem "><p>
       The image does not include YaST2 Firstboot.
      </p></li><li class="listitem "><p>
       The image does not include any end-user license agreement (EULA)
       dialogs.
      </p></li><li class="listitem "><p>
       The image contains the
       <code class="systemitem">cloud-init</code> package. The
       package will be automatically added to the image if the following check
       box in SUSE Studio or SUSE Studio Onsite is enabled: <span class="guimenu ">Integrate with
       <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>/OpenStack</span>.
      </p><p>
       The <code class="systemitem">cloud-init</code> package
       contains tools used for communication with the instance metadata API,
       which is provided by Compute. The metadata API is only accessible from
       inside the VM. The package is needed to pull keypairs into the virtual
       machine that will run the image.
      </p></li></ul></div><p>
     If you intend to manage the image by the Orchestration module, you also need to
     include the following package:
     <code class="systemitem">openstack-heat-cfntools</code> (part of
     the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> ISO).
    </p></div><div class="sect2 " id="vl-adm-img-req-virt"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Image Requirements Depending on Hypervisor</span> <a title="Permalink" class="permalink" href="#vl-adm-img-req-virt">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>vl-adm-img-req-virt</li></ul></div></div></div></div><p>
     For a list of supported VM guests, refer to the SUSE® Linux Enterprise Server <em class="citetitle ">Virtualization Guide</em>,
     section <em class="citetitle ">Supported VM Guests</em>. It is available at
     <a class="link" href="https://documentation.suse.com/sles/12-SP5/single-html/SLES-virtualization/#virt-support-guests" target="_blank">https://documentation.suse.com/sles/12-SP5/single-html/SLES-virtualization/#virt-support-guests</a>.
    </p><p>
     Depending on the virtualization platform on which you want to use the
     image, make sure the image also fulfills the following requirements.
    </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.4.8.5.4.1"><span class="term ">KVM</span></dt><dd><p>
        Appliance format: If you are using SUSE Studio or SUSE Studio Onsite 1.3 to
        build images, use the <code class="literal"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>/OpenStack/KVM
        (.qcow2)</code> format.
       </p></dd><dt id="id-1.5.4.8.5.4.2"><span class="term ">Xen</span></dt><dd><p>
        Appliance format: If you are using SUSE Studio or SUSE Studio Onsite 1.3 to
        build images, use the <code class="literal"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>/OpenStack/KVM
        (.qcow2)</code> format.
       </p></dd><dt id="id-1.5.4.8.5.4.3"><span class="term ">VMware</span></dt><dd><p>
        Appliance format: If you are using SUSE Studio or SUSE Studio Onsite 1.3 to
        build images, use the <code class="literal">VMware/VirtualBox/KVM (.vmdk)</code>
        format.
       </p><p>
        If you are using SUSE Studio or SUSE Studio Onsite to build images, the
        resulting image will be a monolithic <code class="literal">sparse</code> file.
       </p><div id="id-1.5.4.8.5.4.3.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Image Conversion</h6><p>
         Sparse images can be uploaded to <span class="productname">OpenStack</span> Image. However, it is
         recommended to convert sparse images into a different format before
         uploading them to <span class="productname">OpenStack</span> Image (because starting VMs from sparse
         images may take longer).
        </p><p>
         For a list of supported image types, refer to
         <a class="link" href="https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html" target="_blank">https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html</a>,
         section <em class="citetitle ">Supported image types</em>.
        </p><p>
         For details on how to convert a sparse image into different formats,
         refer to
         <a class="link" href="https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html" target="_blank">https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html</a>,
         section <em class="citetitle ">Optimize images</em>.
        </p></div></dd></dl></div></div><div class="sect2 " id="tip-adm-img-req-virt-mult"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Images for Use With Multiple Hypervisors</span> <a title="Permalink" class="permalink" href="#tip-adm-img-req-virt-mult">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>tip-adm-img-req-virt-mult</li></ul></div></div></div></div><p>
     If you build the images for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> in SUSE Studio or SUSE Studio Onsite,
     they are compatible with multiple hypervisors by default—even if you
     may need to convert the resulting image formats before uploading them to
     <span class="productname">OpenStack</span> Image. See <a class="xref" href="#pro-adm-cli-img-convert" title="Converting Disk Images to Different Formats">Procedure 2.1, “Converting Disk Images to Different Formats”</a> for details.
    </p><p>
     If your image is not made in SUSE Studio or SUSE Studio Onsite, configure the
     image as follows to create an image that can be booted on KVM and Xen,
     for example:
    </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.4.8.6.4.1"><span class="term ">/etc/sysconfig/kernel
       </span></dt><dd><div class="verbatim-wrap"><pre class="screen">INITRD_MODULES="virtio_blk virtio_pci ata_piix ata_generic hv_storvsc"</pre></div></dd><dt id="id-1.5.4.8.6.4.2"><span class="term ">/boot/grub/menu.lst
       </span></dt><dd><p>
        To name the partition that should be booted, use:
       </p><div class="verbatim-wrap"><pre class="screen">root=UUID=...</pre></div><p>
        To find the respective UUID value to use, execute the following
        command:
       </p><div class="verbatim-wrap"><pre class="screen">tune2fs -l /dev/sda2|grep UUID</pre></div></dd><dt id="id-1.5.4.8.6.4.3"><span class="term ">/etc/fstab
       </span></dt><dd><p>
        Do not use device names (<code class="filename">/dev/...</code>), but
        <code class="literal">UUID=...</code> or <code class="literal">LABEL=root</code> entries.
        For the latter, add the label <code class="literal">root</code> to the root file
        system of your image (in this case, <code class="filename">/dev/sda2</code>):
       </p><div class="verbatim-wrap"><pre class="screen">tune2fs -L root /dev/sda2</pre></div></dd><dt id="id-1.5.4.8.6.4.4"><span class="term ">Disk Format</span></dt><dd><p>
        Use <code class="filename">*.qcow2</code> as disk format for your image.
       </p></dd><dt id="id-1.5.4.8.6.4.5"><span class="term ">Image Properties in <span class="productname">OpenStack</span> Image</span></dt><dd><p>
        To upload the image to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> only once and to use the same
        image for KVM and Xen, specify the following image
        options during or after upload:
       </p><div class="verbatim-wrap"><pre class="screen">--public --container-format bare \
--property architecture=x86_64 \
--property vm_mode=hvm \
--disk-format qcow2</pre></div></dd></dl></div></div></div><div class="sect1 " id="sec-adm-cli-img-build"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Building Images with SUSE Studio</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-build">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-build</li></ul></div></div></div></div><p>
    When creating an appliance for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> the following steps are
    essential:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      In SUSE Studio or SUSE Studio Onsite, switch to the <span class="guimenu ">Configuration</span> › <span class="guimenu ">Appliance</span> tab.
     </p></li><li class="step "><p>
      Enable the <span class="guimenu ">Integrate with <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>/OpenStack</span>
      check box.
     </p></li><li class="step "><p>
      On the <span class="guimenu ">Build</span> tab, choose the respective appliance
      format. It mainly depends on the hypervisor on which you want to use the
      image—see <a class="xref" href="#vl-adm-img-req-virt" title="2.1.2. Image Requirements Depending on Hypervisor">Section 2.1.2, “Image Requirements Depending on Hypervisor”</a>.
     </p></li></ol></div></div></div><div class="sect1 " id="sec-adm-cli-img-props"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Image Properties</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-props">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-props</li></ul></div></div></div></div><p>
    Images have both contents and metadata. The latter are also called
    properties. The following properties can be attached to an image in
    SUSE <span class="productname">OpenStack</span> Cloud. Set them from the command line when uploading or modifying images.
    For a list of image properties, see <a class="link" href="http://docs.openstack.org/developer/python-openstackclient/command-objects/image.html" target="_blank">http://docs.openstack.org/developer/python-openstackclient/command-objects/image.html</a>.
   </p></div><div class="sect1 " id="sec-adm-cli-img-upload"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Uploading Images</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-upload">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-upload</li></ul></div></div></div></div><p>
    If you have created an image for
    <code class="literal"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>/OpenStack/KVM</code> with SUSE Studio or with
    SUSE Studio Onsite 1.3, you can upload the image directly as described in
    <a class="xref" href="#pro-adm-cli-img-upload" title="Uploading Disk Images to SUSE OpenStack Cloud Crowbar">Procedure 2.2, “Uploading Disk Images to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>”</a>.
   </p><div class="procedure " id="pro-adm-cli-img-convert"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 2.1: </span><span class="name">Converting Disk Images to Different Formats </span><a title="Permalink" class="permalink" href="#pro-adm-cli-img-convert">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Make sure the <code class="systemitem">virt-utils</code>
      package is installed on the machine used for conversion.
     </p></li><li class="step "><p>
      Download the image from SUSE Studio.
     </p></li><li class="step "><p>
      To convert <code class="literal">qcow2</code> to <code class="literal">vhd</code> images, use
      the following command:
     </p><div class="verbatim-wrap"><pre class="screen">qemu-img convert -O vpc <em class="replaceable ">CURRENT_IMAGE_FILE</em> <em class="replaceable ">FINAL_IMAGE_FILE</em>.vhd</pre></div></li></ol></div></div><div class="procedure " id="pro-adm-cli-img-upload"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 2.2: </span><span class="name">Uploading Disk Images to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> </span><a title="Permalink" class="permalink" href="#pro-adm-cli-img-upload">#</a></h6></div><div class="procedure-contents"><p>
     
    </p><p>
     Upload a disk image using the <code class="systemitem">python-openstackclient</code> client.</p><p>
     Images are owned by projects and can be <code class="literal">private</code>
     (accessible to members of the particular project only) or
     <code class="literal">public</code> (accessible to members of all projects). Private
     images can also be explicitly shared with other projects, so that members
     of those projects can access the images, too. Any image uploaded to
     <span class="productname">OpenStack</span> Image will get an <code class="literal">owner</code> attribute. By default,
     ownership is set to the primary project of the user that uploads the
     image.
    </p><p>
     Set or modify hypervisor-specific properties with the
     <code class="option">--property <em class="replaceable ">key</em>=<em class="replaceable ">value</em></code>
     option. This can be done directly during image upload (as shown in the
     examples below). To change the properties after image upload, refer to
     <a class="xref" href="#pro-adm-cli-img-props-modify" title="Modifying Image Properties">Procedure 2.3, “Modifying Image Properties”</a>.
    </p><ol class="procedure" type="1"><li class="step "><p>
      In a shell, source the <span class="productname">OpenStack</span> RC file for the project that you want to
      upload an image to. For details, refer to
      <a class="link" href="http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html" target="_blank">http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html</a>.
     </p></li><li class="step " id="step-adm-cli-img-upload"><p>
      Upload the image using <code class="command">openstack image create</code>. Find some
      example commands for different hypervisors below:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        For KVM:
       </p><div class="verbatim-wrap"><pre class="screen">openstack image create <em class="replaceable ">IMAGE_NAME</em> \
  --public --container-format bare \
  --property architecture=x86_64 \
  --property hypervisor_type=kvm \
  --disk-format qcow2 \
  --file <em class="replaceable ">PATH_TO_IMAGE_FILE</em>.qcow2</pre></div></li><li class="listitem "><p>
        For Xen:
       </p><div class="verbatim-wrap"><pre class="screen">openstack image create <em class="replaceable ">IMAGE_NAME</em> \
  --public --container-format bare \
  --property architecture=x86_64 \
  --property hypervisor_type=xen \
  --property vm_mode=xen \
  --disk-format qcow2 \
  --file <em class="replaceable ">PATH_TO_IMAGE_FILE</em>.qcow2</pre></div><div id="id-1.5.4.11.4.7.2.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Value of <code class="option">vm_mode</code></h6><p>
         For Xen PV image import, use <code class="option">vm_mode=xen</code>, for Xen
         HVM image import use <code class="option">vm_mode=hvm</code>.
        </p></div></li><li class="listitem "><p>
        For VMware:
       </p><div class="verbatim-wrap"><pre class="screen">openstack image create <em class="replaceable ">IMAGE_NAME</em> \
  --public --container-format bare \
  --property vmware_adaptertype="lsiLogic" \
  --property vmware_disktype="preallocated" \
  --property hypervisor_type=vmware \
  --disk-format vmdk --file <em class="replaceable ">PATH_TO_IMAGE_FILE</em>.vmdk</pre></div><div id="id-1.5.4.11.4.7.2.3.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Value of <code class="literal">vmware_disktype</code></h6><p>
         Depending on which disk type you use, adjust the value of
         <code class="literal">vmware_disktype</code> accordingly. For an overview of
         which values to use, refer to
         <a class="link" href="https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html" target="_blank">https://docs.openstack.org/nova/pike/admin/configuration/hypervisor-vmware.html</a>,
         <em class="citetitle ">section <span class="productname">OpenStack</span> Image Service disk type
         settings</em>.
        </p></div></li><li class="listitem "><p>
        For Docker:
       </p><p>
        Find an image in the Docker registry you want to use and save it
        locally with <code class="command">docker pull
        <em class="replaceable ">IMAGE_NAME</em></code>, where
        <em class="replaceable ">IMAGE_NAME</em> is the name of the image in the
        Docker registry. The same name needs to be used when uploading the image
        with the following command:
       </p><div class="verbatim-wrap"><pre class="screen">docker save <em class="replaceable ">IMAGE_NAME</em> | openstack image create \
--public --property hypervisor_type=docker \
--container-format=docker --disk-format=raw <em class="replaceable ">IMAGE_NAME</em></pre></div><div id="id-1.5.4.11.4.7.2.4.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Docker Images Need to Run a Long-Living Process</h6><p>
         Docker instances will only be able to spawn successfully, when
         running a long-living process, for example
         <code class="systemitem">sshd</code>. Such a process
         can be configured with
         <a class="link" href="https://docs.docker.com/engine/reference/builder/#cmd" target="_blank">CMD</a>
         or
         <a class="link" href="https://docs.docker.com/engine/reference/builder/#entrypoint" target="_blank">ENTRYPOINT</a>
         in the <code class="filename">Docker</code>.
        </p><p>
         Alternatively, such a process can be specified on the command line
         with the image property
         <code class="option">os_command_line</code>.
        </p><div class="verbatim-wrap"><pre class="screen">openstack image set --property os_command_line='/usr/sbin/sshd -D' \
       <em class="replaceable ">IMAGE_ID</em></pre></div></div></li></ul></div><p>
      If the image upload has been successful, a message appears, displaying
      the ID that has been assigned to the image.
     </p></li></ol></div></div><div id="id-1.5.4.11.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Updating Images</h6><p>
     After having uploaded an image to SUSE <span class="productname">OpenStack</span> Cloud, the image contents cannot be
     modified—only the image's metadata, see
     <a class="xref" href="#pro-adm-cli-img-props-modify" title="Modifying Image Properties">Procedure 2.3</a>.
     To update image contents, you need to delete the current image and upload
     a modified version of the image. You can also launch an instance from the
     respective image, change it, create a snapshot of the instance and use the
     snapshot as a new image.
    </p></div></div><div class="sect1 " id="sec-adm-cli-img-props-modify"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Modifying Image Properties</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-props-modify">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-props-modify</li></ul></div></div></div></div><p>
    
   </p><p>
    Set or modify hypervisor-specific properties with the
    <code class="option">--property <em class="replaceable ">key</em>=<em class="replaceable ">value</em></code>
    option. This can be done directly during image upload (see
    <a class="xref" href="#pro-adm-cli-img-upload" title="Uploading Disk Images to SUSE OpenStack Cloud Crowbar">Procedure 2.2</a>) or after
    the image has been uploaded (as described below).
   </p><div class="procedure " id="pro-adm-cli-img-props-modify"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 2.3: </span><span class="name">Modifying Image Properties </span><a title="Permalink" class="permalink" href="#pro-adm-cli-img-props-modify">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      In a shell, source the <span class="productname">OpenStack</span> RC file for the project that you want to
      upload an image to. For details, refer to
      <a class="link" href="http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html" target="_blank">http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html</a>.
     </p></li><li class="step "><p>
      If you do not know the ID or the exact name of the image whose properties
      you want to modify, look it up with:
     </p><div class="verbatim-wrap"><pre class="screen">openstack image list</pre></div></li><li class="step "><p>
      Use the <code class="command">openstack image set</code> command to set the
      properties for architecture, hypervisor type, and virtual machine mode.
      In the following, find some examples with properties for different
      hypervisors:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        For KVM:
       </p><div class="verbatim-wrap"><pre class="screen">openstacke image set <em class="replaceable ">IMAGE_ID_OR_NAME</em> \
  --property architecture=x86_64 \
  --property hypervisor_type=kvm</pre></div></li><li class="listitem "><p>
        For Xen:
       </p><div class="verbatim-wrap"><pre class="screen">openstack image set <em class="replaceable ">IMAGE_ID_OR_NAME</em> \
  --property architecture=x86_64 \
  --property hypervisor_type=xen \
  --property vm_mode=xen</pre></div><div id="id-1.5.4.12.4.4.2.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Value of <code class="option">vm_mode</code></h6><p>
         For Xen PV image import, use <code class="option">vm_mode=xen</code>, for Xen
         HVM image import use <code class="option">vm_mode=hvm</code>.
        </p></div></li><li class="listitem "><p>
        For VMware:
       </p><div class="verbatim-wrap"><pre class="screen">openstack image update <em class="replaceable ">IMAGE_ID_OR_NAME</em> \
  --property vmware_adaptertype="lsiLogic" \
  --property vmware_disktype="preallocated" \
  --property hypervisor_type=vmware</pre></div><div id="id-1.5.4.12.4.4.2.3.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Value of <code class="literal">vmware_disktype</code></h6><p>
         Depending on which disk type you use, adjust the value of
         <code class="literal">vmware_disktype</code> accordingly. For an overview of
         which values to use, refer to
         <a class="link" href="https://docs.openstack.org/glance/latest/admin/useful-image-properties.html" target="_blank">https://docs.openstack.org/glance/latest/admin/useful-image-properties.html</a>,
         <em class="citetitle ">section <span class="productname">OpenStack</span> Image Service disk type
         settings</em>.
        </p></div></li></ul></div></li></ol></div></div><p>
    For more information about the <code class="systemitem">architecture</code>,
    <code class="systemitem">hypervisor_type</code>, and
    <code class="systemitem">vm_mode</code> properties, refer toq
    <a class="link" href="https://docs.openstack.org/glance/latest/admin/useful-image-properties.html" target="_blank">https://docs.openstack.org/glance/latest/admin/useful-image-properties.html</a>.
   </p></div><div class="sect1 " id="sec-suppl-img-custom-kernel"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using a Custom Kernel to Boot Btrfs Images Under Xen</span> <a title="Permalink" class="permalink" href="#sec-suppl-img-custom-kernel">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-suppl-img-custom-kernel</li></ul></div></div></div></div><p>
    On Xen hosts, starting instances from an image that uses Btrfs as root
    file system may fail with <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> <span class="phrase"><span class="phrase">8</span></span>. As a work-around,
    boot the Btrfs image with a custom kernel to start the instances. Prepare
    the Btrfs image as described in
    <a class="xref" href="#pro-suppl-img-brtfs-custom-kernel" title="Booting Btrfs Images with a Custom Kernel">Procedure 2.4, “Booting Btrfs Images with a Custom Kernel”</a>.
   </p><div class="procedure " id="pro-suppl-img-brtfs-custom-kernel"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 2.4: </span><span class="name">Booting Btrfs Images with a Custom Kernel </span><a title="Permalink" class="permalink" href="#pro-suppl-img-brtfs-custom-kernel">#</a></h6></div><div class="procedure-contents"><div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Requirements </span><a title="Permalink" class="permalink" href="#id-1.5.4.13.3.2">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
       The <code class="systemitem">python-openstackclient</code> is
       installed. After you have sourced an <span class="productname">OpenStack</span> RC file, use the command
       line client to upload images from a machine outside of the cloud.
      </p></li><li class="listitem "><p>
       To run the
       <code class="systemitem">python-openstackclient</code>: An
       <span class="productname">OpenStack</span> RC file containing the credentials for the <span class="productname">OpenStack</span> project to
       which you want to upload the images.
      </p></li></ul></div><ol class="procedure" type="1"><li class="step "><p>
      Install the <code class="systemitem">grub2-xen</code> package.
      It provides the <code class="filename">grub.xen</code> file required to boot
      para-virtualized VMs that use the Btrfs file system:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">root # </code>zypper in grub2-x86_64-xen</pre></div></li><li class="step "><p>
      Create a Glance image with the kernel from this package. For example:
     </p><div class="verbatim-wrap"><pre class="screen">openstack image create img-grub-xen-x64 \
 --file /usr/lib/grub2/x86_64-xen/grub.xen --public \
 --container-format bare --disk-format raw</pre></div></li><li class="step "><p>
      Create a second image which uses Btrfs as root file system. For example:
     </p><div class="verbatim-wrap"><pre class="screen">openstack image create img-btrfs \
  --file openSUSE-Leap-42.1-JeOS-for-XEN.x86_64.qcow2 \
  --container-format bare --disk-format qcow2</pre></div></li><li class="step "><p>
      Update the image named <code class="literal">img-btrfs</code> by adding a
      <code class="literal">kernel_id</code> property to it:
     </p><div class="verbatim-wrap"><pre class="screen">openstack image set 376c245d-24fe-41e2-8abd-655d4ed8da95 \
--property kernel_id=72ad3069-6003-4653-86f2-b5914ce33f66</pre></div><p>
      where <code class="literal">376c245d-24fe-41e2-8abd-655d4ed8da95</code> is the ID
      of the image named <code class="literal">img-btrfs</code> and
      <code class="literal">72ad3069-6003-4653-86f2-b5914ce33f66</code> is the ID of the
      image named <code class="literal">img-grub-xen-x64</code>
     </p></li><li class="step "><p>
      Boot the image to start the instance:
     </p><div class="verbatim-wrap"><pre class="screen">nova boot --flavor <em class="replaceable ">FLAVOR</em> --image 376c245d-24fe-41e2-8abd-655d4ed8da95</pre></div><p>
      This results in a domain XML which contains the kernel you need:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;domain type='xen' id="2"&gt;
 &lt;name&gt;instance-00000003&lt;/name&gt;
 &lt;uuid&gt;12b2ce2b-ba1d-4c14-847f-9476dbae7199&lt;/uuid&gt;
 &lt;memory unit='KiB'&gt;524288&lt;/memory&gt;
 &lt;currentMemory unit='KiB'&gt;524288&lt;/currentMemory&gt;
 &lt;vcpu placement='static'&gt;1&lt;/vcpu&gt;
 &lt;bootloader&gt;&lt;/bootloader&gt;
 &lt;os&gt;
   &lt;type&gt;linux&lt;/type&gt;
   &lt;kernel&gt;/var/lib/nova/instances/12b2ce2b-ba1d-4c14-847f-9476dbae7199/kernel&lt;/kernel&gt;
   &lt;cmdline&gt;ro root=/dev/xvda&lt;/cmdline&gt;
 &lt;/os&gt;</pre></div></li></ol></div></div></div><div class="sect1 " id="sec-adm-cli-img-view"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Viewing Images and Image Properties, Deleting Images</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-view">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-view</li></ul></div></div></div></div><p>
    In the following, find some examples on how to view images or image
    properties or how to remove images from <span class="productname">OpenStack</span> Image.
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.4.14.3.1"><span class="term ">Listing Images</span></dt><dd><div class="verbatim-wrap"><pre class="screen">openstack image list</pre></div><p>
       Lists ID, name, and status for all images in
       Image that the current user can access.
      </p></dd><dt id="id-1.5.4.14.3.2"><span class="term ">Showing Metadata for a Particular Image</span></dt><dd><div class="verbatim-wrap"><pre class="screen">openstack image show <em class="replaceable ">IMAGE_ID_OR_NAME</em></pre></div><p>
       Shows metadata of the specified image.
      </p></dd><dt id="id-1.5.4.14.3.3"><span class="term ">Removing Image Properties</span></dt><dd><div class="verbatim-wrap"><pre class="screen">openstack image unset --property <em class="replaceable ">PROPERTY</em> <em class="replaceable ">IMAGE_ID_OR_NAME</em></pre></div></dd><dt id="id-1.5.4.14.3.4"><span class="term ">Deleting an Image</span></dt><dd><div class="verbatim-wrap"><pre class="screen">openstack image delete <em class="replaceable ">IMAGE_ID_OR_NAME</em></pre></div><p>
       Removes the specified image from <span class="productname">OpenStack</span> Image.
      </p></dd></dl></div></div><div class="sect1 " id="sec-adm-cli-img-member"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Viewing and Modifying Membership of Private Images</span> <a title="Permalink" class="permalink" href="#sec-adm-cli-img-member">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-adm-cli-img-member</li></ul></div></div></div></div><p>
    In the following, find some examples on how to view or modify membership of
    private images:
    
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.4.15.3.1"><span class="term ">Listing Members a Private Image is Shared With</span></dt><dd><div class="verbatim-wrap"><pre class="screen">glance member-list --image-id <em class="replaceable ">IMAGE_ID</em></pre></div><p>
       Lists the IDs of the projects whose members have access to the private
       image.
      </p></dd><dt id="id-1.5.4.15.3.2"><span class="term ">Listing Private Images Shared With a Member</span></dt><dd><div class="verbatim-wrap"><pre class="screen">glance member-list --tenant-id <em class="replaceable ">PROJECT_ID</em></pre></div><p>
       Lists the IDs of private images that members of the specified project
       can access.
      </p></dd><dt id="id-1.5.4.15.3.3"><span class="term ">Granting Members Access to a Private Image</span></dt><dd><div class="verbatim-wrap"><pre class="screen">glance member-create [--can-share] <em class="replaceable ">IMAGE_ID_OR_NAME</em> <em class="replaceable ">PROJECT_ID_OR_NAME</em></pre></div><p>
       Grants the specified member access to the specified private image.
      </p><p>
       By adding the <code class="option">--can-share</code> option, you can allow the
       members to further share the image.
       
      </p></dd><dt id="id-1.5.4.15.3.4"><span class="term ">Revoking Member Access to a Private Image</span></dt><dd><div class="verbatim-wrap"><pre class="screen">glance member-delete <em class="replaceable ">IMAGE_ID_OR_NAME</em> <em class="replaceable ">PROJECT_ID_OR_NAME</em></pre></div><p>
       Revokes the access of the specified member to the specified private
       image.
      </p></dd></dl></div></div></div><div class="chapter " id="cha-user-dash-inst"><div class="titlepage"><div><div><h1 class="title"><span class="number">3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Launching Instances from the SUSE <span class="productname">OpenStack</span> Cloud Dashboard</span> <a title="Permalink" class="permalink" href="#cha-user-dash-inst">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>cha-user-dash-inst</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#sec-user-dash-inst-launch-params"><span class="number">3.1 </span><span class="name">Key Parameters</span></a></span></dt><dt><span class="sect1"><a href="#sec-user-dash-inst-launch-vol"><span class="number">3.2 </span><span class="name">Launching Instances from Images, Snaphots, or Volumes</span></a></span></dt></dl></div></div><p>
   Instances are virtual machines that run inside the cloud. To start an
   instance, a virtual machine image must exist that contains the following
   information: which operating system to use, a user name and password with
   which to log in to the instance, file storage, etc. The cloud contains a
   pool of such images that have been uploaded to <span class="productname">OpenStack</span> Image and are
   accessible to members of different projects.
  </p><div class="sect1 " id="sec-user-dash-inst-launch-params"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Key Parameters</span> <a title="Permalink" class="permalink" href="#sec-user-dash-inst-launch-params">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-user-dash-inst-launch-params</li></ul></div></div></div></div><p>
    When starting an instance, specify the following key parameters:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.5.3.3.1"><span class="term ">Flavor</span></dt><dd><p>
       In <span class="productname">OpenStack</span>, flavors define the compute, memory, and storage capacity of
       <code class="literal">nova</code> computing instances. To put it simply, a flavor
       is an available hardware configuration for a server. It defines the
       <span class="quote">“<span class="quote ">size</span>”</span> of a virtual server that can be launched.
      </p><p>
       For more details and a list of default flavors available, see
       <span class="intraxref">Book “OpenStack Administrator Guide”, Chapter 14 “OpenStack command-line clients”, Section 14.11 “Manage flavors”</span> and <span class="intraxref">Book “OpenStack Administrator Guide”, Chapter 4 “Dashboard”, Section 4.6 “Manage flavors”</span>.
      </p></dd><dt id="id-1.5.5.3.3.2"><span class="term ">Key Pair (optional, but recommended)</span></dt><dd><p>
       Key Pairs are SSH credentials that are injected into images when they
       are launched. For this to work, the image must contain the
       <code class="systemitem">cloud-init</code> package.
      </p><p>
       It is recommended to create at least one key pair per project. If you
       already have generated a key pair with an external tool, you can import
       it into <span class="productname">OpenStack</span>. The key pair can be used for multiple instances
       belonging to that project.
      </p><p>
       For details, see <span class="intraxref">Book “OpenStack Administrator Guide”, Chapter 14 “OpenStack command-line clients”, Section 14.6 “Manage project security”</span>.
      </p></dd><dt id="id-1.5.5.3.3.3"><span class="term ">Security Group</span></dt><dd><p>
       In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>, security groups are used to define which incoming
       network traffic should be forwarded to instances. Security groups hold a
       set of firewall policies (security group rules).
      </p><p>
       For details, see <span class="intraxref">Book “OpenStack Administrator Guide”, Chapter 14 “OpenStack command-line clients”, Section 14.6 “Manage project security”</span>.
      </p></dd><dt id="id-1.5.5.3.3.4"><span class="term ">Network</span></dt><dd><p>
       Instances can belong to one or multiple networks. By default, each
       instance is given a fixed IP address, belonging to the internal network.
      </p></dd><dt id="id-1.5.5.3.3.5"><span class="term ">Boot Source of the Instance</span></dt><dd><p>
       You can launch instances from the following sources. For details, see
       <span class="intraxref">Book “OpenStack Administrator Guide”, Chapter 14 “OpenStack command-line clients”</span>.
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         Images that have been uploaded to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>.
        </p></li><li class="listitem "><p>
         Volumes that contain images.
        </p></li><li class="listitem "><p>
         Instance snapshots.
        </p></li><li class="listitem "><p>
         Volume snapshots.
        </p></li></ul></div></dd></dl></div></div><div class="sect1 " id="sec-user-dash-inst-launch-vol"><div class="titlepage"><div><div><h2 class="title"><span class="number">3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Launching Instances from Images, Snaphots, or Volumes</span> <a title="Permalink" class="permalink" href="#sec-user-dash-inst-launch-vol">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-user-dash-inst-launch-vol</li></ul></div></div></div></div><p>
    For instructions on how to launch instances from images or snapshots, see
    <a class="link" href="http://docs.openstack.org/user-guide/dashboard-launch-instances.html" target="_blank"><em class="citetitle ">Launch
    an Instance</em></a>.
   </p></div></div><div class="chapter " id="cha-user-dash-inst-access"><div class="titlepage"><div><div><h1 class="title"><span class="number">4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring Access to the Instances</span> <a title="Permalink" class="permalink" href="#cha-user-dash-inst-access">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>cha-user-dash-inst-access</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#sec-user-dash-inst-access-security-rules"><span class="number">4.1 </span><span class="name">Security Group Rules</span></a></span></dt></dl></div></div><p>
   Access to an instance is mainly influenced by the following parameters:
  </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.3.1"><span class="term ">Security Groups and Rules</span></dt><dd><p>
      In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>, security groups are used to define which incoming
      network traffic should be forwarded to instances. Security groups hold a
      set of firewall policies (security group rules).
     </p><p>
      For instructions on how to configure security groups and security group
      rules, see
      <a class="link" href="http://docs.openstack.org/user-guide/configure-access-and-security-for-instances.html" target="_blank">
      <em class="citetitle ">Configure access and security for instances</em></a>.
     </p></dd><dt id="id-1.5.6.3.2"><span class="term ">Key Pairs</span></dt><dd><p>
      Key Pairs are SSH credentials that are injected into images when they are
      launched. For this to work, the image must contain the
      <code class="systemitem">cloud-init</code> package.
     </p><p>
      It is recommended to create at least one key pair per project. If you
      already have generated a key pair with an external tool, you can import
      it into <span class="productname">OpenStack</span>. The key pair can be used for multiple instances
      belonging to that project.
     </p><p>
      For details on how to create or import keypairs, see
      <a class="link" href="http://docs.openstack.org/user-guide/configure-access-and-security-for-instances.html" target="_blank">
       <em class="citetitle ">Configure access and security for instances</em></a>.
     </p></dd><dt id="id-1.5.6.3.3"><span class="term ">IP Addresses</span></dt><dd><p>
      Each instance can have two types of IP addresses: private (fixed) IP
      addresses and public (floating) ones. Private IP addresses are used for
      communication between instances, and public ones are used for
      communication with the outside world. When an instance is launched, it is
      automatically assigned private IP addresses in the networks to which it
      is assigned. The private IP stays the same until the instance is
      explicitly terminated. (Rebooting the instance does not have an effect on
      the private IP addresses.)
     </p><p>
      A floating IP is an IP address that can be dynamically added to a virtual
      instance. In <span class="productname">OpenStack</span> Networking, cloud administrators can configure pools of
      floating IP addresses. These pools are represented as external networks.
      Floating IPs are allocated from a subnet that is associated with the
      external network. You can allocate a certain number of floating IPs to a
      project—the maximum number of floating IP addresses per project is
      defined by the quota. From this set, you can then add a floating IP
      address to an instance of the project.

     </p><p>
      For information on how to assign floating IP addresses to instances, see
      <a class="link" href="http://docs.openstack.org/user-guide/configure-access-and-security-for-instances.html" target="_blank">
       <em class="citetitle ">Configure access and security for instances</em></a>.
     </p></dd></dl></div><div class="sect1 " id="sec-user-dash-inst-access-security-rules"><div class="titlepage"><div><div><h2 class="title"><span class="number">4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Security Group Rules</span> <a title="Permalink" class="permalink" href="#sec-user-dash-inst-access-security-rules">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-user-dash-inst-access-security-rules</li></ul></div></div></div></div><p>
    You can adjust rules of the default security group and rules of any other
    security group that has been created. When the rules for a group are
    modified, the new rules are automatically applied to all running instances
    belonging to that security group.
   </p><p>
    Adjust the rules in a security group to allow access to instances via
    different ports and protocols. This is necessary to be able to access
    instances via SSH, to ping them, or to allow UDP traffic (for example, for
    a DNS server running on an instance).
   </p><p>
    Rules in security groups are specified by the following parameters:
   </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.4.5.1"><span class="term ">IP Protocol </span></dt><dd><p>
       Protocol to which the rule will apply. Choose between TCP (for SSH),
       ICMP (for pings), and UDP.
      </p></dd><dt id="id-1.5.6.4.5.2"><span class="term ">Port/Port Range</span></dt><dd><p>
       For TCP or UDP, define a single port or a port range to open on the
       virtual machine. ICMP does not support ports. In that case, enter values
       that define the codes and types of ICMP traffic to be allowed.
      </p></dd><dt id="id-1.5.6.4.5.3"><span class="term ">Source of traffic (<span class="guimenu ">Remote</span> in the SUSE <span class="productname">OpenStack</span> Cloud Dashboard)</span></dt><dd><p>
       Decide whether to allow traffic to instances only from IP addresses
       inside the cloud (from other group members) or from
       <span class="emphasis"><em>all</em></span> IP addresses. Specify either an IP address
       block (in CIDR notation) or a security group as source. Using a security
       group as source will allow any instance in that security group to access
       any other instance.
      </p></dd></dl></div><p>
    If no further security groups have been created, any instances are
    automatically assigned to the default security group (if not specified
    otherwise). Unless you change the rules for the default group, those
    instances cannot be accessed from any IP addresses outside the cloud.
   </p><div class="procedure " id="pro-cloud-dash-security-rules"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 4.1: </span><span class="name">Configuring Security Group Rules </span><a title="Permalink" class="permalink" href="#pro-cloud-dash-security-rules">#</a></h6></div><div class="procedure-contents"><p>
     For quicker configuration, the Dashboard provides templates for
     often-used rules that, including rules for well-known protocols on top of TCP
     (such as HTTP or SSH), or rules to allow all ICMP traffic (for pings).
    </p><ol class="procedure" type="1"><li class="step "><p>
      Log in to SUSE <span class="productname">OpenStack</span> Cloud Dashboard and select a project from the drop-down box at
      the top-level row.
     </p></li><li class="step "><p>
      Click <span class="guimenu ">Project</span> › <span class="guimenu ">Compute</span> › <span class="guimenu ">Access &amp; Security</span>. The view shows
      the following tabs: <span class="guimenu ">Security Groups</span>, <span class="guimenu ">Key
      Pairs</span>, <span class="guimenu ">Floating IPs</span>, and <span class="guimenu ">API
      Access</span>.
     </p></li><li class="step "><p>
      On the <span class="guimenu ">Security Group</span> tab, click <span class="guimenu ">Manage
      Rules</span> for the security group you want to modify. This opens the
      <span class="guimenu "> Security Group Rules</span> screen that shows the existing
      rules for the group and lets you add or delete rules.

     </p></li><li class="step "><p>
      Click <span class="guimenu ">Add Rule</span> to open a new dialog.
     </p><p>
      From the <span class="guimenu ">Rule</span> drop-down box, you can select templates
      for often-used rules, including rules for well-known protocols
      on top of TCP (such as HTTP or SSH), or rules to allow all ICMP traffic
      (for pings). In the following steps, we will focus on the most
      commonly-used rules only:
     </p></li><li class="step "><p>
      To enable SSH access to the instances:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Set <span class="guimenu ">Rule</span> to <code class="literal">SSH</code>.
       </p></li><li class="step "><p>
        Decide whether to allow traffic to instances only from IP addresses
        inside the cloud (from other group members) or from
        <span class="emphasis"><em>all</em></span> IP addresses.
       </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          To enable access from <span class="emphasis"><em>all</em></span> IP addresses
          (specified as IP subnet in CIDR notation as
          <code class="literal">0.0.0.0/0</code>), leave the <span class="guimenu ">Remote</span>
          and <span class="guimenu ">CIDR</span> fields unchanged.
         </p></li><li class="listitem "><p>
          Alternatively, allow only IP addresses from other security groups to
          access the specified port. In that case, set
          <span class="guimenu ">Remote</span> to <code class="literal">Security Group</code>.
          Select the desired <span class="guimenu ">Security Group</span> and
          <span class="guimenu ">Ether Type</span>

          (<code class="literal">IPv4</code> or <code class="literal">IPv6</code>).
         </p></li></ul></div></li></ol></li><li class="step "><p>
      To enable pinging the instances:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Set <span class="guimenu ">Rule</span> to <code class="literal">ALL ICMP</code>.
       </p></li><li class="step "><p>
        Decide whether to allow traffic to instances only from IP addresses
        inside the cloud (from other group members) or from
        <span class="emphasis"><em>all</em></span> IP addresses.
       </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          To enable access from <span class="emphasis"><em>all</em></span> IP addresses
          (specified as IP subnet in CIDR notation as
          <code class="literal">0.0.0.0/0</code>), leave the <span class="guimenu ">Remote</span>
          and <span class="guimenu ">CIDR</span> fields unchanged.
         </p></li><li class="listitem "><p>
          Alternatively, allow only IP addresses from other security groups to
          access the specified port. In that case, set
          <span class="guimenu ">Remote</span> to <code class="literal">Security Group</code>.
          Select the desired <span class="guimenu ">Security Group</span> and
          <span class="guimenu ">Ether Type</span>

          (<code class="literal">IPv4</code> or <code class="literal">IPv6</code>).
         </p></li></ul></div></li></ol></li><li class="step "><p>
      To enable access via a UDP port (for example, for syslog):
     </p><ol type="a" class="substeps "><li class="step "><p>
        Set <span class="guimenu ">Rule</span> to <code class="literal">Custom UDP</code>.
       </p></li><li class="step "><p>
        Leave the <span class="guimenu ">Direction</span> and <span class="guimenu ">Open Port</span>
        values untouched.
       </p></li><li class="step "><p>
        In the <span class="guimenu ">Port</span> text box, enter the value
        <span class="guimenu ">514</span>.
       </p></li><li class="step "><p>
        Decide whether to allow traffic to instances only from IP addresses
        inside the cloud (from other group members) or from
        <span class="emphasis"><em>all</em></span> IP addresses.
       </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          To enable access from <span class="emphasis"><em>all</em></span> IP addresses
          (specified as IP subnet in CIDR notation as
          <code class="literal">0.0.0.0/0</code>), leave the <span class="guimenu ">Remote</span>
          and <span class="guimenu ">CIDR</span> fields unchanged.
         </p></li><li class="listitem "><p>
          Alternatively, allow only IP addresses from other security groups to
          access the specified port. In that case, set
          <span class="guimenu ">Remote</span> to <code class="literal">Security Group</code>.
          Select the desired <span class="guimenu ">Security Group</span> and
          <span class="guimenu ">Ether Type</span>

          (<code class="literal">IPv4</code> or <code class="literal">IPv6</code>).
         </p></li></ul></div></li></ol></li></ol></div></div></div></div><div class="chapter " id="cha-deploy-kubernetes"><div class="titlepage"><div><div><h1 class="title"><span class="number">5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying Kubernetes</span> <a title="Permalink" class="permalink" href="#cha-deploy-kubernetes">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>cha-deploy-kubernetes</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#sec-deploy-kubernetes-cli"><span class="number">5.1 </span><span class="name">Deploying a Kubernetes Cluster from Command Line</span></a></span></dt><dt><span class="sect1"><a href="#sec-deploy-kubernetes-ui"><span class="number">5.2 </span><span class="name">Deploying a Kubernetes Cluster from the Dashboard</span></a></span></dt><dt><span class="sect1"><a href="#sec-deploy-kubernetes-without"><span class="number">5.3 </span><span class="name">Deploying a Kubernetes Cluster Without Internet Access</span></a></span></dt></dl></div></div><p>
   By combining <span class="productname">OpenStack</span>, Docker, Kubernetes, and Flannel, you get a containers
   solution which works like other OpenStack services. With Magnum, Docker
   and Kubernetes are made available as first class resources in <span class="productname">OpenStack</span>.
  </p><div class="sect1 " id="sec-deploy-kubernetes-cli"><div class="titlepage"><div><div><h2 class="title"><span class="number">5.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying a Kubernetes Cluster from Command Line</span> <a title="Permalink" class="permalink" href="#sec-deploy-kubernetes-cli">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-deploy-kubernetes-cli</li></ul></div></div></div></div><p>
    A cluster (formerly <code class="literal">bay</code>) is the construct in which
    Magnum launches container orchestration engines.
   </p><div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Requirements </span><a title="Permalink" class="permalink" href="#id-1.5.7.3.3">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
      The <code class="systemitem">python-openstackclient</code> is
      installed. After you have sourced an <span class="productname">OpenStack</span> RC file, use the command
      line client to upload images from a machine outside of the cloud.
     </p></li><li class="listitem "><p>
      To run the
      <code class="systemitem">python-openstackclient</code>: An
      <span class="productname">OpenStack</span> RC file containing the credentials for the <span class="productname">OpenStack</span> project to
      which you want to upload the images.
     </p></li><li class="listitem "><p>
      The <code class="systemitem">python-magnumclient</code> is installed.
     </p></li><li class="listitem "><p>
    Install the <span class="package ">openstack-magnum-k8s-image-x86_64</span> package. This
    package provides a virtual machine image with Kubernetes pre-installed, 
    <code class="filename">openstack-magnum-k8s-image.x86_64.qcow2</code>. <span class="productname">OpenStack</span> Magnum
    uses this image when creating clusters with its <code class="filename">k8s_opensuse_v1</code> driver.
     </p></li></ul></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     In a shell, source the <span class="productname">OpenStack</span> RC file for the project that you want to
     upload an image to. For details, refer to
     <a class="link" href="http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html" target="_blank">http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html</a>.
    </p></li><li class="step " id="step-deploy-k8s-img-create"><p>
     List the Magnum image uploaded to Glance using the <code class="command">openstack
     image list | grep  openstack-magnum-k8s-image</code>. If no image
     found, you can create an image for cluster setup as shown below:
    </p><div class="verbatim-wrap"><pre class="screen">openstack image create openstack-magnum-k8s-image \
  --public --disk-format qcow2 \
  --property os_distro='opensuse' \
  --container-format bare \
  --file /srv/tftpboot/files/openstack-magnum-k8s-image/openstack-magnum-k8s-image.x86_64.qcow2</pre></div></li><li class="step " id="step-deploy-k8s-flavor-create"><p>
     Create a Magnum flavor. For example:
    </p><div class="verbatim-wrap"><pre class="screen">openstack flavor create --public m1.magnum --id 9 --ram 1024 \
   --disk 10 --vcpus 1</pre></div><p>
     If you do not have enough resources and RAM on your compute nodes for a
     flavor of this size, create a smaller flavor instead.
    </p></li><li class="step " id="step-deploy-k8s-templ-create"><p>
     Create a cluster template for Kubernetes. For example:
     
    </p><div class="verbatim-wrap"><pre class="screen">magnum cluster-template-create --name k8s_template \
  --image-id openstack-magnum-k8s-image \
  --keypair-id default \
  --external-network-id floating \
  --dns-nameserver 8.8.8.8 \
  --flavor-id m1.magnum \
  --master-flavor-id m1.magnum \
  --docker-volume-size 5 \
  --network-driver flannel \
  --coe kubernetes \
  --master-lb-enabled</pre></div></li><li class="step " id="step-deploy-k8s-cluster-create"><p>
     Create a Kubernetes cluster using the cluster template you have
     created in the step above. For example:
    </p><div class="verbatim-wrap"><pre class="screen">magnum cluster-create --name k8s_cluster --cluster-template k8s_template \
  --master-count 1 --node-count 2</pre></div><p>
     The resulting cluster will have one master Kubernetes node and two minion
     nodes.
    </p></li></ol></div></div></div><div class="sect1 " id="sec-deploy-kubernetes-ui"><div class="titlepage"><div><div><h2 class="title"><span class="number">5.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying a Kubernetes Cluster from the Dashboard</span> <a title="Permalink" class="permalink" href="#sec-deploy-kubernetes-ui">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-deploy-kubernetes-ui</li></ul></div></div></div></div><p>
    Alternatively, you can deploy a Kubernetes cluster in the SUSE <span class="productname">OpenStack</span> Cloud Dashboard
    by creating a cluster template and creating a Kubernetes cluster afterward.
   </p><div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Requirements </span><a title="Permalink" class="permalink" href="#id-1.5.7.4.3">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
      You have created an image for cluster setup as described in <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line">Section 5.1</a>, <a class="xref" href="#step-deploy-k8s-img-create" title="Step 2">Step 2</a>.
     </p></li><li class="listitem "><p>
      You have created a Magnum flavor as described in <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line">Section 5.1</a>, <a class="xref" href="#step-deploy-k8s-flavor-create" title="Step 3">Step 3</a>.
     </p></li></ul></div><div class="procedure " id="pro-deploy-cluster-templ-ui"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 5.1: </span><span class="name">Creating a Cluster Template in SUSE <span class="productname">OpenStack</span> Cloud Dashboard </span><a title="Permalink" class="permalink" href="#pro-deploy-cluster-templ-ui">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in to SUSE <span class="productname">OpenStack</span> Cloud Dashboard and select a project from the drop-down box at
     the top-level row.
    </p></li><li class="step "><p>
     Click <span class="guimenu ">Container Infra</span> › <span class="guimenu ">Cluster Templates</span> › <span class="guimenu ">Create Cluster Template</span>.
    </p><p>
     The <span class="guimenu ">Create Cluster Template</span> dialog opens, showing
     the following sections: <span class="guimenu ">Info</span>, <span class="guimenu ">Node Spec</span>,
     <span class="guimenu ">Network</span>, and <span class="guimenu ">Labels</span>.
    </p></li><li class="step "><p>
     In the <span class="guimenu ">Info</span> section:</p><ol type="a" class="substeps "><li class="step "><p>
       Enter a name for the cluster template to create.
      </p></li><li class="step "><p>
       As <span class="guimenu ">Container Orchestration Engine</span>, choose
       <code class="literal">Kubernetes</code>.
      </p></li><li class="step "><p>
       If wanted, activate the following options:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         <span class="guimenu ">Public</span>: The cluster template will be visible for all
         users in <span class="productname">OpenStack</span>.
        </p></li><li class="listitem "><p>
         <span class="guimenu ">Enable Registry</span>: The cluster can be built with 
         Insecure Docker Registry service.
        </p></li><li class="listitem "><p>
         <span class="guimenu ">Disable TLS</span>: Switch off the SSL protocol for the cluster.
        </p></li></ul></div></li></ol></li><li class="step "><p>
     In the <span class="guimenu ">Node Spec</span> section:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Choose the <span class="guimenu ">Image</span> you have created in <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line">Section 5.1</a>, <a class="xref" href="#step-deploy-k8s-img-create" title="Step 2">Step 2</a>.
      </p></li><li class="step "><p>
       Choose a <span class="guimenu ">Keypair</span>.
      </p></li><li class="step "><p>
       Choose the <span class="guimenu ">Flavor</span> you have created in <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line">Section 5.1</a>, <a class="xref" href="#step-deploy-k8s-flavor-create" title="Step 3">Step 3</a>.
       It will be used for the minion nodes.
      </p></li><li class="step "><p>
       Choose the same flavor as <span class="guimenu ">Master Flavor</span>.
       It will be used for the master node.
      </p></li><li class="step "><p>
       As <span class="guimenu ">Volume Driver</span>, choose <code class="literal">Cinder</code>.
      </p></li><li class="step "><p>
       As <span class="guimenu ">Docker Storage Driver</span>, choose
       <code class="literal">Device Mapper</code>.
      </p></li><li class="step "><p>
       Specify the <span class="guimenu ">Docker Volume Size (GB)</span>. For example:
       <code class="literal">5</code>
      </p></li></ol></li><li class="step "><p>
     In the <span class="guimenu ">Network</span> section:
    </p><ol type="a" class="substeps "><li class="step "><p>
       As <span class="guimenu ">Network Driver</span>, choose <code class="literal">Flannel</code>.
      </p></li><li class="step "><p>
       Leave the <span class="guimenu ">HTTP Proxy</span>, <span class="guimenu ">HTTPS Proxy</span>, and
       <span class="guimenu ">No Proxy</span> boxes empty or enter the respective addresses
       to use.
      </p></li><li class="step "><p>
       As <span class="guimenu ">External Network ID</span>, enter <code class="literal">floating</code>.
       The network <code class="literal">floating</code> will be used to connect to the cluster
       template you are creating.
      </p></li><li class="step "><p>
       Leave the <span class="guimenu ">Fixed Network</span> and <span class="guimenu ">Fixed Subnet</span>
       boxes empty.
      </p></li><li class="step "><p>
       Enter the <span class="guimenu ">DNS</span> server to use for this cluster template.
       For example: <code class="literal">8.8.8.8.</code>
      </p></li><li class="step "><p>
       To deploy the cluster with a load balancer service in front for the cluster
       services, activate <span class="guimenu ">Master LB</span>.
      </p></li><li class="step "><p>
       To assign floating IP addresses to the nodes in the cluster, activate
       <span class="guimenu ">Floating IP</span>.
      </p></li></ol></li><li class="step "><p>
     Confirm your changes to create the cluster template.
    </p></li></ol></div></div><div class="procedure " id="pro-deploy-cluster-ui"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 5.2: </span><span class="name">Creating a Cluster in SUSE <span class="productname">OpenStack</span> Cloud Dashboard </span><a title="Permalink" class="permalink" href="#pro-deploy-cluster-ui">#</a></h6></div><div class="procedure-contents"><p>Based on the cluster template you have created in <a class="xref" href="#pro-deploy-cluster-templ-ui" title="Creating a Cluster Template in SUSE OpenStack Cloud Dashboard">Procedure 5.1, “Creating a Cluster Template in SUSE <span class="productname">OpenStack</span> Cloud Dashboard”</a>, you can now create a Kubernetes
    cluster.</p><ol class="procedure" type="1"><li class="step "><p>
      Log in to SUSE <span class="productname">OpenStack</span> Cloud Dashboard and select a project from the drop-down box at
      the top-level row.
     </p></li><li class="step "><p>
      Click <span class="guimenu ">Container Infra</span> › <span class="guimenu ">Clusters</span> › <span class="guimenu ">Create Cluster</span>.
     </p><p>
      The <span class="guimenu ">Create Cluster</span> dialog opens, showing the following
      sections: <span class="guimenu ">Info</span>, <span class="guimenu ">Size</span>,
      and <span class="guimenu ">Misc</span>.
     </p></li><li class="step "><p>
      In the <span class="guimenu ">Info</span> section:</p><ol type="a" class="substeps "><li class="step "><p>
          Enter a <span class="guimenu ">Cluster Name</span>.
         </p></li><li class="step "><p>
          From the <span class="guimenu ">Cluster Template</span> list, select the template
          you have created in <a class="xref" href="#pro-deploy-cluster-templ-ui" title="Creating a Cluster Template in SUSE OpenStack Cloud Dashboard">Procedure 5.1, “Creating a Cluster Template in SUSE <span class="productname">OpenStack</span> Cloud Dashboard”</a>.
         </p></li></ol></li><li class="step "><p>
        In the <span class="guimenu ">Size</span> section, enter the number of master
        nodes and minion nodes you want the cluster to have. For example:
        <code class="literal">1</code> and  <code class="literal">2</code>.
       </p></li><li class="step "><p>
       In the <span class="guimenu ">Misc</span> section, you can optionally specify a custom
       URL for node discovery and a <span class="guimenu ">Timeout</span> for cluster creation,
       if wanted. The default is no timeout.
      </p></li><li class="step "><p>
      Confirm your changes to create the cluster.</p></li></ol></div></div></div><div class="sect1 " id="sec-deploy-kubernetes-without"><div class="titlepage"><div><div><h2 class="title"><span class="number">5.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying a Kubernetes Cluster Without Internet Access</span> <a title="Permalink" class="permalink" href="#sec-deploy-kubernetes-without">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>book_cloud_suppl.xml</li><li><span class="ds-label">ID: </span>sec-deploy-kubernetes-without</li></ul></div></div></div></div><p>
    In specific scenarios, you may need to deploy a Kubernetes cluster
    without access to Internet. For those cases, you need to set up a custom
    Insecure Docker Registry and use no discovery URL. You can do this either
    from command line (as described below) or from the SUSE <span class="productname">OpenStack</span> Cloud Dashboard.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      In a shell, source the <span class="productname">OpenStack</span> RC file for the project that you want to
      upload an image to. For details, refer to
      <a class="link" href="http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html" target="_blank">http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html</a>.
     </p></li><li class="step "><p>
      Create a cluster template as shown in
      <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line"></a>,
      <a class="xref" href="#step-deploy-k8s-templ-create" title="Step 4">Step 4</a>, but add the options
      <code class="option">--registry-enabled</code> and <code class="option">--labels</code>. The
      <code class="option">registry_url</code> must include the protocol, e.g.
      http://<em class="replaceable ">URL</em>. For example:
     </p><div class="verbatim-wrap"><pre class="screen">magnum cluster-template-create --name k8s_template_reg_enabled \
 [...]
 --registry-enabled
 --labels registry_url=http://<em class="replaceable ">192.168.255.10/srv/files</em></pre></div></li><li class="step "><p>
      Create a cluster as shown in <a class="xref" href="#sec-deploy-kubernetes-cli" title="5.1. Deploying a Kubernetes Cluster from Command Line"></a>, <a class="xref" href="#step-deploy-k8s-cluster-create" title="Step 5">Step 5</a>,
      but with static IP configuration and setting the option
      <code class="option">--discovery-url</code> to <code class="literal">none</code>. For example:
     </p><div class="verbatim-wrap"><pre class="screen">magnum cluster-create --name k8s_cluster_without \
  --cluster-template k8s_template_reg_enabled \
  [...]
  --discovery-url none</pre></div></li></ol></div></div></div></div><div class="appendix " id="app-suppl-docupdates"><div class="titlepage"><div><div><h1 class="title"><span class="number">A </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Documentation Updates</span> <a title="Permalink" class="permalink" href="#app-suppl-docupdates">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_docupdates.xml</li><li><span class="ds-label">ID: </span>app-suppl-docupdates</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="#sec-suppl-docupdates-july"><span class="number">A.1 </span><span class="name">July 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c7-gm"><span class="number">A.2 </span><span class="name">February 2017 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c6-maint1"><span class="number">A.3 </span><span class="name">January 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 6)</span></a></span></dt><dt><span class="sect1"><a href="#sec-suppl-docupdates-c5-gm"><span class="number">A.4 </span><span class="name">February 2015 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 5)</span></a></span></dt></dl></div></div><p>
  This chapter lists content changes for this document.
 </p><p>
  This manual was updated on the following dates:
 </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
    <a class="xref" href="#sec-suppl-docupdates-july" title="A.1. July 2017 (Maintenance Release SUSE OpenStack Cloud Crowbar 7)">Section A.1, “July 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="#sec-suppl-docupdates-c7-gm" title="A.2. February 2017 (Initial Release SUSE OpenStack Cloud Crowbar 7)">Section A.2, “February 2017 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="#sec-suppl-docupdates-c6-maint1" title="A.3. January 2017 (Maintenance Release SUSE OpenStack Cloud Crowbar 6)">Section A.3, “January 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 6)”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="#sec-suppl-docupdates-c5-gm" title="A.4. February 2015 (Initial Release SUSE OpenStack Cloud Crowbar 5)">Section A.4, “February 2015 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 5)”</a>
   </p></li></ul></div><div class="sect1 " id="sec-suppl-docupdates-july"><div class="titlepage"><div><div><h2 class="title"><span class="number">A.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">July 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span> <a title="Permalink" class="permalink" href="#sec-suppl-docupdates-july">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_docupdates.xml</li><li><span class="ds-label">ID: </span>sec-suppl-docupdates-july</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.8.6.2.1"><span class="term ">Bugfixes</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>Corrected registry_url example <a class="xref" href="#sec-deploy-kubernetes-without" title="5.3. Deploying a Kubernetes Cluster Without Internet Access">Section 5.3, “Deploying a Kubernetes Cluster Without Internet Access”</a> (<a class="link" href="https://bugzilla.suse.com/show_bug.cgi?id=1024683" target="_blank">https://bugzilla.suse.com/show_bug.cgi?id=1024683</a>).
       </p></li><li class="listitem "><p>Corrected <code class="literal">openstack image create</code> example 
           <a class="xref" href="#pro-adm-cli-img-upload" title="Uploading Disk Images to SUSE OpenStack Cloud Crowbar">Procedure 2.2, “Uploading Disk Images to <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>”</a> (<a class="link" href="https://bugzilla.suse.com/show_bug.cgi?id=1047502" target="_blank">https://bugzilla.suse.com/show_bug.cgi?id=1047502</a>).
       </p></li></ul></div></dd></dl></div></div><div class="sect1 " id="sec-suppl-docupdates-c7-gm"><div class="titlepage"><div><div><h2 class="title"><span class="number">A.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">February 2017 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 7)</span> <a title="Permalink" class="permalink" href="#sec-suppl-docupdates-c7-gm">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_docupdates.xml</li><li><span class="ds-label">ID: </span>sec-suppl-docupdates-c7-gm</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.8.7.2.1"><span class="term ">Bugfixes</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>Added <a class="xref" href="#cha-deploy-kubernetes" title="Chapter 5. Deploying Kubernetes">Chapter 5, <em>Deploying Kubernetes</em></a> (<a class="link" href="https://bugzilla.suse.com/show_bug.cgi?id=999859" target="_blank">https://bugzilla.suse.com/show_bug.cgi?id=999859</a>).
       </p></li></ul></div></dd></dl></div></div><div class="sect1 " id="sec-suppl-docupdates-c6-maint1"><div class="titlepage"><div><div><h2 class="title"><span class="number">A.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">January 2017 (Maintenance Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 6)</span> <a title="Permalink" class="permalink" href="#sec-suppl-docupdates-c6-maint1">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_docupdates.xml</li><li><span class="ds-label">ID: </span>sec-suppl-docupdates-c6-maint1</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.8.8.2.1"><span class="term ">Bugfixes</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>Added <a class="xref" href="#sec-suppl-img-custom-kernel" title="2.6. Using a Custom Kernel to Boot Btrfs Images Under Xen">Section 2.6, “Using a Custom Kernel to Boot Btrfs Images Under Xen”</a> (<a class="link" href="https://bugzilla.suse.com/show_bug.cgi?id=964618" target="_blank">https://bugzilla.suse.com/show_bug.cgi?id=964618</a>).
       </p></li></ul></div></dd></dl></div></div><div class="sect1 " id="sec-suppl-docupdates-c5-gm"><div class="titlepage"><div><div><h2 class="title"><span class="number">A.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">February 2015 (Initial Release <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 5)</span> <a title="Permalink" class="permalink" href="#sec-suppl-docupdates-c5-gm">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>suppl_docupdates.xml</li><li><span class="ds-label">ID: </span>sec-suppl-docupdates-c5-gm</li></ul></div></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.5.8.9.2.1"><span class="term ">General</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        Moved the SUSE-specific additions for the <em class="citetitle ">Administrator Guide</em> and <em class="citetitle ">End User Guide</em>
        to the <em class="citetitle ">Supplement to <em class="citetitle ">Administrator Guide</em> and <em class="citetitle ">End User Guide</em></em>.
       </p></li></ul></div></dd></dl></div></div></div></div></div><div class="page-bottom"><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2020 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>