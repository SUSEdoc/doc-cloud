<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Monitoring Service Operator's Guide</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><style type="text/css">
body { background-image: url('static/images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style></head><body onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div xml:lang="en" class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="book-socmmsoperator"></a>Monitoring Service Operator's Guide</h1></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="preface"><a href="#id1341">About this Manual</a></span></dt><dd><dl><dt><span class="sect1"><a href="#id1385">Intended Audience</a></span></dt><dt><span class="sect1"><a href="#id1393">Notational Conventions</a></span></dt><dt><span class="sect1"><a href="#id1425">Abbreviations</a></span></dt><dt><span class="sect1"><a href="#id1446">Available Documentation</a></span></dt><dt><span class="sect1"><a href="#id1466">Related Web References</a></span></dt><dt><span class="sect1"><a href="#id1482">Copyright</a></span></dt><dt><span class="sect1"><a href="#id1492">Export Restrictions</a></span></dt></dl></dd><dt><span class="chapter"><a href="#idg-msoperator-shared-intro-c-intro-xml-1">1. Introduction to <span class="phrase">SUSE OpenStack Cloud Monitoring</span></a></span></dt><dd><dl><dt><span class="section"><a href="#id1514">Basic Usage Scenario</a></span></dt><dt><span class="section"><a href="#id1561"><span class="phrase">SUSE OpenStack Cloud Monitoring</span> Architecture and Components</a></span></dt><dd><dl><dt><span class="section"><a href="#id1673">
  Agents and Services</a></span></dt></dl></dd><dt><span class="section"><a href="#id1760">User Management</a></span></dt><dt><span class="section"><a href="#id1780">Distribution Media</a></span></dt></dl></dd><dt><span class="chapter"><a href="#idg-msoperator-cmmoperator-install-c-cmmoinstall-xml-1">2. Installation</a></span></dt><dt><span class="chapter"><a href="#idg-msoperator-shared-operationmaintenance-c-operate-xml-1">3. Operation and Maintenance</a></span></dt><dd><dl><dt><span class="section"><a href="#id1805">Removing Metrics Data</a></span></dt><dt><span class="section"><a href="#id1872">Removing Log Data</a></span></dt><dt><span class="section"><a href="#id1931">Log File Handling</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-operationmaintenance-c-backup-xml-1">Backup and Recovery</a></span></dt><dd><dl><dt><span class="section"><a href="#id1963">Databases</a></span></dt><dt><span class="section"><a href="#id2117">Configuration Files</a></span></dt><dt><span class="section"><a href="#id2133">Dashboards</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#idg-msoperator-shared-monitor-c-monitor-xml-1">4. Monitoring</a></span></dt><dd><dl><dt><span class="section"><a href="#id2169">Overview</a></span></dt><dt><span class="section"><a href="#concept-E8D43EB4494E41D2AB42D4A89396D1CMM">Working with Data Visualizations</a></span></dt><dt><span class="section"><a href="#sec-msoperator-alarms">Defining Alarms</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-monitor-c-monitor-alert-xml-1">Defining Notifications</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-monitor-c-monitor-statusinfo-xml-1">Status of Services, Servers, and Log Data</a></span></dt></dl></dd><dt><span class="chapter"><a href="#idg-msoperator-shared-logging-c-osologging-xml-1">5. Log Management</a></span></dt><dd><dl><dt><span class="section"><a href="#id2558">Working with the Log Management Window</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-logging-c-osolog-index-xml-1">Configuring Index Patterns</a></span></dt><dt><span class="section"><a href="#id2747">Monitoring Log Data</a></span></dt><dt><span class="section"><a href="#id2766">Troubleshooting</a></span></dt></dl></dd><dt><span class="appendix"><a href="#id2801">A. Supported Metrics</a></span></dt><dd><dl><dt><span class="section"><a href="#id2810">Standard Metrics</a></span></dt><dt><span class="section"><a href="#id2824">Additional Metrics</a></span></dt></dl></dd><dt><span class="appendix"><a href="#reference-7A5FB297419F4787832C9125D7CAC80F">B. Glossary</a></span></dt></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>4.1. <a href="#fig-socm-monasca">SUSE OpenStack Cloud Horizon Dashboard—Monitoring</a></dt><dt>4.2. <a href="#id2202">Metrics Dashboard—Monitoring Service Operator's View</a></dt><dt>4.3. <a href="#id2283">A Graph Panel</a></dt><dt>4.4. <a href="#id2300">Editing a Text Panel</a></dt><dt>4.5. <a href="#fig-socm-msoperator-alarmdef-create">Creating an Alarm Definition</a></dt><dt>5.1. <a href="#id2583">The Kibana Dashboard—Discover Page</a></dt></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="id1341"></a>About this Manual</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="#id1385">Intended Audience</a></span></dt><dt><span class="sect1"><a href="#id1393">Notational Conventions</a></span></dt><dt><span class="sect1"><a href="#id1425">Abbreviations</a></span></dt><dt><span class="sect1"><a href="#id1446">Available Documentation</a></span></dt><dt><span class="sect1"><a href="#id1466">Related Web References</a></span></dt><dt><span class="sect1"><a href="#id1482">Copyright</a></span></dt><dt><span class="sect1"><a href="#id1492">Export Restrictions</a></span></dt></dl></div><p>
  This manual describes how SUSE OpenStack Cloud operators can use <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> to monitor OpenStack services and servers.

 </p><p>
  The manual is structured as follows:
 </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col class="col2" /><col class="col3" /></colgroup><thead><tr><th>Chapter</th><th>Description</th></tr></thead><tbody><tr><td><a class="xref" href="#idg-msoperator-shared-intro-c-intro-xml-1" title="Chapter 1. Introduction to SUSE OpenStack Cloud Monitoring">Chapter 1, <em>Introduction to <span class="phrase">SUSE OpenStack Cloud Monitoring</span></em></a>
     </td><td>Introduces <span class="phrase">SUSE OpenStack Cloud Monitoring</span>, its architecture, and users.</td></tr><tr><td><a class="xref" href="#idg-msoperator-cmmoperator-install-c-cmmoinstall-xml-1" title="Chapter 2. Installation">Chapter 2, <em>Installation</em></a>
     </td><td>For installation and configuration of SUSE OpenStack Cloud Monitoring,
      refer to the <em class="citetitle">Deployment Guide</em>,
      chapter <em class="citetitle">Deploying the OpenStack Services</em>, section
      <em class="citetitle">Deploying Monasca</em>.
      </td></tr><tr><td><a class="xref" href="#idg-msoperator-shared-operationmaintenance-c-operate-xml-1" title="Chapter 3. Operation and Maintenance">Chapter 3, <em>Operation and Maintenance</em></a>
     </td><td>Describes the main operation and maintenance tasks for <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.</td></tr><tr><td><a class="xref" href="#idg-msoperator-shared-monitor-c-monitor-xml-1" title="Chapter 4. Monitoring">Chapter 4, <em>Monitoring</em></a>
     </td><td>Describes the basic tasks involved in monitoring services and servers.</td></tr><tr><td><a class="xref" href="#idg-msoperator-shared-logging-c-osologging-xml-1" title="Chapter 5. Log Management">Chapter 5, <em>Log Management</em></a>
     </td><td>Describes the basic tasks involved in managing the log data from the services and servers.</td></tr><tr><td><a class="xref" href="#reference-7A5FB297419F4787832C9125D7CAC80F" title="Appendix B. Glossary">Appendix B, <em>Glossary</em></a>
     </td><td>Defines the central terms relevant for <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.</td></tr></tbody></table></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1385"></a>Intended Audience</h2></div></div></div><p>
  This manual is intended for operators who install, operate, and maintain
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. It also describes how the
  operator can use <span class="phrase">SUSE OpenStack Cloud Monitoring</span> for
  monitoring.
 </p><p>
  The manual assumes that you have expert knowledge of OpenStack and
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span>, especially the individual
  services comprising <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.
 </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1393"></a>Notational Conventions</h2></div></div></div><p>
  This manual uses the following notational conventions:
 </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col class="col1" /><col class="col2" /></colgroup><tbody><tr><td><span class="guilabel">Add</span>
     </td><td>Names of graphical user interface elements.</td></tr><tr><td><code class="literal">init</code>
     </td><td>System names, for example command names and text that is entered from the keyboard. </td></tr><tr><td><code class="literal">&lt;variable&gt;</code>
     </td><td>Variables for which values must be entered. </td></tr><tr><td><code class="literal">[option]</code>
     </td><td>Optional items, for example optional command parameters. </td></tr><tr><td><code class="literal">one | two</code>
     </td><td>Alternative entries. </td></tr><tr><td><code class="literal">{one | two}</code>
     </td><td>Mandatory entries with alternatives.</td></tr></tbody></table></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1425"></a>Abbreviations</h2></div></div></div><p>
  This manual uses the following abbreviations:
 </p><p><strong>IaaS. </strong>Infrastructure as a Service</p><p><strong>ICMP. </strong>Internet Control Message Protocol</p><p><strong>OS. </strong>Operating System</p><p><strong>OSS. </strong>Open Source Software</p><p><strong>PaaS. </strong>Platform as a Service</p><p><strong>SaaS. </strong>Software as a Service</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1446"></a>Available Documentation</h2></div></div></div><p>
  The following documentation on <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> is available:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <span class="emphasis"><em>Overview:</em></span> A manual introducing <span class="phrase">SUSE OpenStack
    Cloud Monitoring</span>. It is written for everybody interested in
    <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.
   </p></li><li class="listitem"><p>
    <span class="emphasis"><em>OpenStack Operator's Guide:</em></span> A manual for SUSE
    OpenStack Cloud operators describing how to prepare their OpenStack
    platform for <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. The manual
    also describes how the operators use <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> for monitoring their OpenStack services.
   </p></li><li class="listitem"><p>
    <span class="emphasis"><em>Monitoring Service Operator's Guide:</em></span> A manual for
    system operators describing how to operate <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>. The manual also describes how the
    operators use <span class="phrase">SUSE OpenStack Cloud Monitoring</span> for
    monitoring their environment.
   </p></li></ul></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1466"></a>Related Web References</h2></div></div></div><p>
  The following Web references provide information on open source offerings
  integrated with <span class="phrase">SUSE OpenStack Cloud Monitoring</span>:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <a class="ulink" href="http://docs.openstack.org/newton/" target="_top">OpenStack</a>:
    Documentation on OpenStack, the underlying platform technology.
   </p></li><li class="listitem"><p>
    <a class="ulink" href="http://docs.openstack.org/developer/horizon/" target="_top">OpenStack
    Horizon</a>: Documentation on the OpenStack Horizon dashboard.
   </p></li><li class="listitem"><p>
    <a class="ulink" href="https://wiki.openstack.org/wiki/Monasca" target="_top">Monasca Wiki</a>: Information on Monasca, the core of <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>.
   </p></li></ul></div><p>
  More detailed Web references provided in this manual are subject to change
  without notice.
 </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1482"></a>Copyright</h2></div></div></div><p>
  Copyright FUJITSU LIMITED 2015 - 2017
 </p><p>
  Copyright © 2022

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at <a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0" target="_top">http://www.apache.org/licenses/LICENSE-2.0</a>.
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
 </p><p>
  For SUSE trademarks, see <a class="ulink" href="http://www.suse.com/company/legal/" target="_top">http://www.suse.com/company/legal/</a>.
  All other third-party trademarks are the property of their respective owners.
  Trademark symbols (®, ™ etc.) denote trademarks of SUSE and its
  affiliates. Asterisks (*) denote third-party trademarks.
 </p><p>
  The OpenStack® Word Mark and OpenStack logo are registered
  trademarks/service marks or trademarks/service marks of the OpenStack
  Foundation in the United States and other countries and are used with the
  OpenStack Foundation's permission.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither SUSE LLC,
  its affiliates, the authors nor the translators shall be held liable for
  possible errors or the consequences thereof.
 </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1492"></a>Export Restrictions</h2></div></div></div><p>
  Exportation/release of this document may require necessary procedures in
  accordance with the regulations of your resident country and/or US export
  control laws.
 </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idg-msoperator-shared-intro-c-intro-xml-1"></a>Chapter 1. Introduction to <span class="phrase">SUSE OpenStack Cloud Monitoring</span></h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#id1514">Basic Usage Scenario</a></span></dt><dt><span class="section"><a href="#id1561"><span class="phrase">SUSE OpenStack Cloud Monitoring</span> Architecture and Components</a></span></dt><dd><dl><dt><span class="section"><a href="#id1673">
  Agents and Services</a></span></dt></dl></dd><dt><span class="section"><a href="#id1760">User Management</a></span></dt><dt><span class="section"><a href="#id1780">Distribution Media</a></span></dt></dl></div><p>
  As more and more applications are deployed on cloud systems and cloud systems
  are growing in complexity, managing the cloud infrastructure is becoming
  increasingly difficult. <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
  helps mastering this challenge by providing a sophisticated Monitoring as a
  Service solution that is operated on top of OpenStack-based cloud computing
  platforms.
 </p><p>
  The component architecture of OpenStack provides for high flexibility, yet it
  increases the burden of system operation because multiple services must be
  handled. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> offers an
  integrated view of all services and assembles and presents related metrics
  and log data in one convenient access point. While being flexible and
  scalable to instantly reflect changes in the OpenStack platform, <span class="phrase">SUSE
  OpenStack Cloud Monitoring</span> provides the ways and means required to
  ensure multi-tenancy, high availability, and data security.
 </p><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> covers all aspects of a
  Monitoring as a Service solution:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Central management of monitoring and log data from medium and large-size
    OpenStack deployments.
   </p></li><li class="listitem"><p>
    Storage of metrics and log data in a resilient way.
   </p></li><li class="listitem"><p>
    Multi-tenancy architecture to ensure the secure isolation of metrics and
    log data.
   </p></li><li class="listitem"><p>
    Horizontal and vertical scalability to support constantly evolving cloud
    infrastructures. When physical and virtual servers are scaled up or down to
    varying loads, the monitoring and log management solution can be adapted
    accordingly.
   </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1514"></a>Basic Usage Scenario</h2></div></div></div><p>
  The basic usage scenario of setting up and using the monitoring features of
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> looks as follows:
 </p><div class="informalfigure"><div class="mediaobject"><img src="images/images-metricslogs.png" alt="metricslogs.png" /></div></div><p>
  An <span class="bold"><strong>application operator</strong></span> acts as a service
  provider in the OpenStack environment. He books virtual machines to provide
  services to <span class="bold"><strong>end users</strong></span> or to host services
  that he needs for his own development activities. <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> helps application operators ensure that their
  services and the servers on which they are provided are configured and
  working as required.
 </p><p>
  The <span class="bold"><strong>OpenStack operator</strong></span> is a special
  application operator who is responsible for administrating and maintaining
  the underlying OpenStack platform. The monitoring and log management services
  of <span class="phrase">SUSE OpenStack Cloud Monitoring</span> enable him to ensure the
  availability and quality of the platform. He uses <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> for:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Monitoring physical and virtual servers, hypervisors, and OpenStack
    services.
   </p></li><li class="listitem"><p>
    Monitoring middleware components, for example, database services.
   </p></li><li class="listitem"><p>
    Retrieving and analyzing the log data of the OpenStack services and
    servers, the middleware components, and the operating system.
   </p></li></ul></div><p>
  As the <span class="bold"><strong>Monitoring Service operator</strong></span>, you are
  responsible for providing the monitoring and log management features to the
  application operators and the OpenStack operator. This enables the
  application operators and the OpenStack operator to focus on operation and
  the quality of their services and servers without having to carry out the
  tedious tasks implied by setting up and administrating their own monitoring
  software. You use the monitoring features yourself for ensuring the quality
  of <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.
 </p><h5><a id="id1544"></a>The Monitoring Service Operator's Tasks</h5><p>
  As the Monitoring Service operator, you have the following responsibilities:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Deploying the Monitoring Service, thus providing the monitoring features to
    the application operators, and the monitoring and log management features
    to the OpenStack operator.
   </p></li><li class="listitem"><p>
    Regular maintenance of the components and services <span class="phrase">SUSE OpenStack
    Cloud Monitoring</span> consists of.
   </p></li><li class="listitem"><p>
    Backup of the <span class="phrase">SUSE OpenStack Cloud Monitoring</span> databases,
    configuration files, and customized dashboards.
   </p></li><li class="listitem"><p>
    Monitoring of <span class="phrase">SUSE OpenStack Cloud Monitoring</span> to ensure
    the <span class="phrase">SUSE OpenStack Cloud Monitoring</span> quality. For
    monitoring, you use a graphical user interface that is seamlessly
    integrated into the cloud infrastructure. Based on OpenStack Horizon, the
    user interface visualizes the health and status of your cloud resources and
    enables user access to all monitoring and log management functionality.
   </p></li></ul></div><p>
  The tasks of the Monitoring Service operator and the OpenStack Operator can
  jointly be performed by one system operator. In this case, also refer to the
  <span class="emphasis"><em>OpenStack Operator's Guide</em></span>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1561"></a><span class="phrase">SUSE OpenStack Cloud Monitoring</span> Architecture and Components</h2></div></div></div><p>
  The following illustration provides an overview of the main components of
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> and their interaction:
 </p><div class="informalfigure"><div class="mediaobject"><img src="images/images-cmm-architecture.png" alt="cmm-architecture.png" /></div></div><h5><a id="id1574"></a>OpenStack</h5><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> relies on OpenStack as
  technology for building cloud computing platforms for public and private
  clouds. OpenStack consists of a series of interrelated projects delivering
  various components for a cloud infrastructure solution and allowing for the
  deployment and management of Infrastructure as a Service (IaaS) platforms.
 </p><h5><a id="id1577"></a>Monitoring Service</h5><p>
  The Monitoring Service is the central <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> component. It is responsible for receiving, persisting,
  and processing monitoring and log data, as well as providing the data to the
  users.
 </p><p>
  The Monitoring Service relies on Monasca, an open source Monitoring as a
  Service solution. It uses Monasca for high-speed metrics querying and
  integrates the Threshold Engine (streaming alarm engine) and the Notification
  Engine of Monasca.
 </p><p>
  The Monitoring Service consists of the following components:
 </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Monitoring API</span></dt><dd><p>
     A RESTful API for monitoring. It is primarily focused on the following
     areas:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
       Metrics: Store and query massive amounts of metrics in real time.
      </p></li><li class="listitem"><p>
       Statistics: Provide statistics for metrics.
      </p></li><li class="listitem"><p>
       Alarm Definitions: Create, update, query, and delete alarm definitions.
      </p></li><li class="listitem"><p>
       Alarms: Query and delete the alarm history.
      </p></li><li class="listitem"><p>
       Notification Methods: Create and delete notification methods and
       associate them with alarms. Users can be notified directly when alarms
       are triggered, for example, via email.
      </p></li></ul></div></dd><dt><span class="term">Message Queue</span></dt><dd><p>
     A component that primarily receives published metrics from the Monitoring
     API, alarm state transition messages from the Threshold Engine, and log
     data from the Log API. The data is consumed by other components, such as
     the Persister, the Notification Engine, and the Log Persister. The Message
     Queue is also used to publish and consume other events in the system. It
     is based on Kafka, a high-performance, distributed, fault-tolerant, and
     scalable message queue with durability built-in. For administrating the
     Message Queue, <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
     Zookeeper, a centralized service for maintaining configuration
     information, naming, providing distributed synchronization, and providing
     group services.
    </p></dd><dt><span class="term">Persister</span></dt><dd><p>
     A Monasca component that consumes metrics and alarm state transitions from
     the Message Queue and stores them in the Metrics and Alarms Database
     (InfluxDB).
    </p></dd><dt><span class="term">Notification Engine</span></dt><dd><p>
     A Monasca component that consumes alarm state transition messages from the
     Message Queue and sends notifications for alarms, such as emails.
    </p></dd><dt><span class="term">Threshold Engine</span></dt><dd><p>
     A Monasca component that computes thresholds on metrics and publishes
     alarms to the Message Queue when they are triggered. The Threshold Engine
     is based on Apache Storm, a free and open distributed real-time
     computation system.
    </p></dd><dt><span class="term">Metrics and Alarms Database</span></dt><dd><p>
     An InfluxDB database used for storing metrics and the alarm history.
    </p></dd><dt><span class="term">Config Database</span></dt><dd><p>
     A MariaDB database used for storing configuration information, alarm
     definitions, and notification methods.
    </p></dd><dt><span class="term">Log API</span></dt><dd><p>
     A RESTful API for log management. It gathers log data from the Log Agents
     and forwards it to the Message Queue.
    </p><p>
     The <span class="phrase">SUSE OpenStack Cloud Monitoring</span> log management is
     based on Logstash, a tool for receiving, processing, and publishing all
     kinds of logs. It provides a powerful pipeline for querying and analyzing
     logs. Elasticsearch is used as the back-end datastore, and Kibana as the
     front-end tool for retrieving and visualizing the log data.
    </p></dd><dt><span class="term">Log Transformer</span></dt><dd><p>
     A Logstash component that consumes the log data from the Message Queue,
     performs transformation and aggregation operations on the data, and
     publishes the data that it creates back to the Message Queue.
    </p></dd><dt><span class="term">Log Metrics</span></dt><dd><p>
     A Monasca component that consumes log data from the Message Queue, filters
     the data according to severity, and generates metrics for specific
     severities, for example, for errors or warnings. The generated metrics are
     published to the Message Queue and can be further processed by the
     Threshold Engine like any other metrics.
    </p></dd><dt><span class="term">Log Persister</span></dt><dd><p>
     A Logstash component that consumes the transformed and aggregated log data
     from the Message Queue and stores it in the Log Database.
    </p></dd><dt><span class="term">Kibana Server</span></dt><dd><p>
     A Web browser-based analytics and search interface to the Log Database.
    </p></dd><dt><span class="term">Log Database</span></dt><dd><p>
     An Elasticsearch database for storing the log data.
    </p></dd></dl></div><h5><a id="id1649"></a>Horizon Plugin</h5><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> comes with a plugin for the
  OpenStack Horizon dashboard. The plugin extends the main dashboard in
  OpenStack with a view for monitoring. This enables <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> users to access the monitoring functions from a
  central Web-based graphical user interface. For details, refer to the
  <a class="ulink" href="http://docs.openstack.org/developer/horizon/" target="_top">OpenStack Horizon
  documentation</a>.
 </p><p>
  Based on OpenStack Horizon, the monitoring data is visualized on a
  comfortable and easy-to-use dashboard which fully integrates with the
  following applications:
 </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Grafana (for metrics data)</span></dt><dd><p>
     An open source application for visualizing large-scale measurement data.
    </p></dd><dt><span class="term">Kibana (for log data)</span></dt><dd><p>
     An open source analytics and visualization platform
     designed to work with Elasticsearch.
    </p></dd></dl></div><h5><a id="id1664"></a>Metrics Agent</h5><p>
  A Metrics Agent is required for retrieving metrics data from the host on
  which it runs and sending the metrics data to the Monitoring Service. The
  agent supports metrics from a variety of sources as well as a number of
  built-in system and service checks.
 </p><p>
  A Metrics Agent can be installed on each virtual or physical server to be
  monitored.
 </p><p>
  The agent functionality is fully integrated into the source code base of the
  Monasca project. For details, refer to the
  <a class="ulink" href="https://wiki.openstack.org/wiki/Monasca" target="_top">Monasca Wiki</a>.
 </p><h5><a id="id1669"></a>Log Agent</h5><p>
  A Log Agent is needed for collecting log data from the host on which it runs
  and forwarding the log data to the Monitoring Service for further processing.
  It can be installed on each virtual or physical server from which log data is
  to be retrieved.
 </p><p>
  The agent functionality is fully integrated into the source code base of the
  Monasca project. For details, refer to the
  <a class="ulink" href="https://wiki.openstack.org/wiki/Monasca" target="_top">Monasca Wiki</a>.
 </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id1673"></a>
  Agents and Services</h3></div></div></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col class="c1" /><col class="c2" /></colgroup><thead><tr><th>Service Name</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">zookeeper</code>
     </td><td>Centralized service for maintaining configuration information, naming, providing distributed synchronization, and providing group services.</td></tr><tr><td><code class="literal">storm-nimbus</code>
     </td><td>Storm is a distributed real-time computation system for processing large volumes of high-velocity data. The Storm Nimbus daemon is responsible for distributing code around a cluster, assigning tasks to machines, and monitoring for failures. </td></tr><tr><td><code class="literal">storm-supervisor</code>
     </td><td>The Storm supervisor listens for work assigned to its machine and starts and stops worker processes as necessary based on what Nimbus has assigned to it.</td></tr><tr><td><code class="literal">mariadb</code>
     </td><td>MariaDB database service. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> stores configuration information in this database. </td></tr><tr><td><code class="literal">kafka</code>
     </td><td>Message queue service.</td></tr><tr><td><code class="literal">influxdb</code>
     </td><td>InfluxDB database service. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> stores metrics and alarms in this database.</td></tr><tr><td><code class="literal">elasticsearch</code>
     </td><td>Elasticsearch database service. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> stores the log data in this database.</td></tr><tr><td><code class="literal">memcached</code>
     </td><td>Memcached service. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses it for caching authentication and authorization information required for the communication between the Log API and OpenStack Keystone.</td></tr><tr><td><code class="literal">openstack-monasca-notification</code>
     </td><td>Notification Engine. </td></tr><tr><td><code class="literal">openstack-monasca-thresh</code>
     </td><td>Threshold Engine. </td></tr><tr><td><code class="literal">openstack-monasca-log-transformer</code>
     </td><td>Log Transformer. </td></tr><tr><td><code class="literal">apache2</code>
     </td><td>Log and monitoring API.</td></tr><tr><td><code class="literal">openstack-monasca-persister </code>
     </td><td>Persister. </td></tr><tr><td><code class="literal">openstack-monasca-agent</code>
     </td><td>Metrics Agent.</td></tr><tr><td><code class="literal">kibana</code>
     </td><td>Kibana server.</td></tr><tr><td><code class="literal">openstack-monasca-log-persister</code>
     </td><td>Log Persister. </td></tr><tr><td><code class="literal">openstack-monasca-log-metrics</code>
     </td><td>Log Metrics.</td></tr><tr><td><code class="literal">openstack-monasca-log-agent</code>
     </td><td>Log Agent.</td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1760"></a>User Management</h2></div></div></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> is fully integrated with
  Keystone, the identity service which serves as the common authentication and
  authorization system in OpenStack.
 </p><p>
  The <span class="phrase">SUSE OpenStack Cloud Monitoring</span> integration with
  Keystone requires any <span class="phrase">SUSE OpenStack Cloud Monitoring</span> user,
  including the Monitoring Service operator, to be registered as an OpenStack
  user. All authentication and authorization in <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> is done through Keystone. If a user requests monitoring
  data, for example, <span class="phrase">SUSE OpenStack Cloud Monitoring</span> verifies
  that the user is a valid user in OpenStack and allowed to access the
  requested metrics.
 </p><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> users are created and
  administrated in OpenStack:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Each user assumes a role in OpenStack to perform a specific set of
    operations. The OpenStack role specifies a set of rights and privileges.
   </p></li><li class="listitem"><p>
    Each user is assigned to at least one project in OpenStack. A project is an
    organizational unit that defines a set of resources which can be accessed
    by the assigned users.
   </p><p>
    Application operators in <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
    can monitor the set of resources that is defined for the projects to which
    they are assigned.
   </p></li></ul></div><p>
  For details on user management, refer to the
  <a class="ulink" href="http://docs.openstack.org/newton/" target="_top"> OpenStack documentation
  </a>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1780"></a>Distribution Media</h2></div></div></div><p>
  SUSE OpenStack Cloud Monitoring is shipped as part of SUSE OpenStack Cloud
  with a maintenance update. Note that you need to buy a separate subscription
  for SUSE OpenStack Cloud Monitoring to be entitled to get support for SUSE
  OpenStack Cloud Monitoring.
 </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idg-msoperator-cmmoperator-install-c-cmmoinstall-xml-1"></a>Chapter 2. Installation</h1></div></div></div><p>
  SUSE OpenStack Cloud Monitoring is automatically installed and configured if
  you deploy the Monasca barclamp. For details, see
  <a class="ulink" href="https://documentation.suse.com/soc/8/single-html/suse-openstack-cloud-deployment/#sec-depl-ostack-monasca" target="_top">https://documentation.suse.com/soc/8/single-html/suse-openstack-cloud-deployment/#sec-depl-ostack-monasca</a>.
 </p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idg-msoperator-shared-operationmaintenance-c-operate-xml-1"></a>Chapter 3. Operation and Maintenance</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#id1805">Removing Metrics Data</a></span></dt><dt><span class="section"><a href="#id1872">Removing Log Data</a></span></dt><dt><span class="section"><a href="#id1931">Log File Handling</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-operationmaintenance-c-backup-xml-1">Backup and Recovery</a></span></dt><dd><dl><dt><span class="section"><a href="#id1963">Databases</a></span></dt><dt><span class="section"><a href="#id2117">Configuration Files</a></span></dt><dt><span class="section"><a href="#id2133">Dashboards</a></span></dt></dl></dd></dl></div><p>
  Regular operation and maintenance includes:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Configuring data retention for the InfluxDB database. This can be
    configured in the Monasca barclamp. For details, see the <em class="citetitle">SUSE
    OpenStack Cloud Deployment Guide</em>.
   </p></li><li class="listitem"><p>
    Configuring data retention for the Elasticsearch database. This can be
    configured in the Monasca barclamp. For details, see the <em class="citetitle">SUSE
    OpenStack Cloud Deployment Guide</em>.
   </p></li><li class="listitem"><p>
    Removing metrics data from the InfluxDB database.
   </p></li><li class="listitem"><p>
    Removing log data from the Elasticsearch database.
   </p></li><li class="listitem"><p>
    Handling log files of agents and services.
   </p></li><li class="listitem"><p>
    Backup and recovery of databases, configuration files, and dashboards.
   </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1805"></a>Removing Metrics Data</h2></div></div></div><p>
  Metrics data is stored in the Metrics and Alarms InfluxDB Database. InfluxDB
  features an SQL-like query language for querying data and performing
  aggregations on that data.
 </p><p>
  The Metrics Agent configuration defines the metrics and types of measurement
  for which data is stored. For each measurement, a so-called series is written
  to the InfluxDB database. A series consists of a timestamp, the metrics, and
  the value measured.
 </p><p>
  Every series can be assigned key tags. In the case of <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span>, this is the <code class="literal">_tenant_id</code> tag.
  This tag identifies the OpenStack project for which the metrics data has been
  collected.
 </p><p>
  From time to time, you may want to delete outdated or unnecessary metrics
  data from the Metrics and Alarms Database, for example, to save space or
  remove data for metrics you are no longer interested in. To delete data, you
  use the InfluxDB command line interface, the interactive shell that is
  provided for the InfluxDB database.
 </p><p>
  Proceed as follows to delete metrics data from the database:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Create a backup of the database. For details, refer to
    <a class="xref" href="#idg-msoperator-shared-operationmaintenance-c-backup-xml-1" title="Backup and Recovery">the section called “Backup and Recovery”</a>.
   </p></li><li class="listitem"><p>
    Determine the ID of the OpenStack project for the data to be deleted:
   </p><p>
    Log in to the OpenStack dashboard and go to <span class="bold"><strong>Identity
    &gt; Projects</strong></span>. The <code class="literal">monasca</code> project initially
    provides all metrics data related to <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>.
   </p><p>
    In the course of the productive operation of <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>, additional projects may be created, for example, for
    application operators.
   </p><p>
    The <span class="bold"><strong>Project ID</strong></span> field shows the relevant
    tenant ID.
   </p></li><li class="listitem"><p>
    Log in to the host where the Monitoring Service is installed.
   </p></li><li class="listitem"><p>
    Go to the directory where InfluxDB is installed:
   </p><pre class="screen">cd /usr/bin</pre></li><li class="listitem"><p>
    Connect to InfluxDB using the InfluxDB command line interface as follows:
   </p><pre class="screen">./influx -host &lt;host_ip&gt;</pre><p>
    Replace <code class="literal">&lt;host_ip&gt;</code> with the IP address of the
    machine on which <span class="phrase">SUSE OpenStack Cloud Monitoring</span> is
    installed.
   </p><p>
    The output of this command is, for example, as follows:
   </p><pre class="screen">Connected to http://localhost:8086 version 1.1.1
InfluxDB shell version: 1.1.1
</pre></li><li class="listitem"><p>
    Connect to the InfluxDB database of <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> (<code class="literal">mon</code>):
   </p><pre class="screen">&gt; show databases
name: databases
name
----
mon
_internal

&gt; use mon
Using database mon</pre></li><li class="listitem"><p>
    Check the outdated or unnecessary data to be deleted.
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      You can view all measurements for a specific project as follows:
     </p><pre class="screen">SHOW MEASUREMENTS WHERE _tenant_id = '&lt;project ID&gt;'</pre></li><li class="listitem"><p>
      You can view the series for a specific metrics and project, for example,
      as follows:
     </p><pre class="screen">SHOW SERIES FROM "cpu.user_perc" WHERE _tenant_id = '&lt;project ID&gt;'</pre></li></ul></div></li><li class="listitem"><p>
    Delete the desired data.
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      When a project is no longer relevant or a specific tenant is no longer
      used, delete all series for the project as follows:
     </p><pre class="screen">DROP SERIES WHERE _tenant_id = '&lt;project ID&gt;'</pre><p>
      Example:
     </p><pre class="screen">DROP SERIES WHERE _tenant_id = '27620d7ee6e948e29172f1d0950bd6f4'</pre></li><li class="listitem"><p>
      When a metrics is no longer relevant for a project, delete all series for
      the specific project and metrics as follows:
     </p><pre class="screen">DROP SERIES FROM "&lt;metrics&gt;" WHERE _tenant_id = '&lt;project ID&gt;'</pre><p>
      Example:
     </p><pre class="screen">DROP SERIES FROM "cpu.user_perc" WHERE _tenant_id = '27620d7e'</pre></li></ul></div></li><li class="listitem"><p>
    Restart the <code class="literal">influxdb</code> service, for example, as follows:
   </p><pre class="screen">sudo systemctl restart influxdb</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1872"></a>Removing Log Data</h2></div></div></div><p>
  Log data is stored in the Elasticsearch database. Elasticsearch stores the
  data in indices. One index per day is created for every OpenStack project.
 </p><p>
  By default, the indices are stored in the following directory on the host
  where the Monitoring Service is installed:
 </p><p>
  <code class="literal">/var/data/elasticsearch/&lt;cluster-name&gt;/nodes/&lt;node-name&gt;</code>
 </p><p>
  Example:
 </p><p>
  <code class="literal">/var/data/elasticsearch/elasticsearch/nodes/0</code>
 </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
   If your system uses a different directory, look up the
   <code class="literal">path.data</code> parameter in the Elasticsearch configuration
   file, <code class="literal">/etc/elasticsearch/elasticsearch.yml</code>.
   
  </p></div><p>
  If you want to delete outdated or unnecessary log data from the Elasticsearch
  database, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Make sure that <code class="literal">curl</code> is installed. If this is not the
    case, install the package with
   </p><pre class="screen">sudo zypper in curl</pre></li><li class="listitem"><p>
    Create a backup of the Elasticsearch database. For details, refer to
    <a class="xref" href="#idg-msoperator-shared-operationmaintenance-c-backup-xml-1" title="Backup and Recovery">the section called “Backup and Recovery”</a>.
   </p></li><li class="listitem"><p>
    Determine the ID of the OpenStack project for the data to be deleted:
   </p><p>
    Log in to the OpenStack dashboard and go to <span class="bold"><strong>Identity
    &gt; Projects</strong></span>.  The <code class="literal">monasca</code> project initially
    provides a ll metrics data related to <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>.
   </p><p>
    In the course of the productive operation of <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span>, additional projects may be created.
   </p><p>
    The <span class="bold"><strong>Project ID</strong></span> field shows the relevant
    ID.
   </p></li><li class="listitem"><p>
    Log in to the host where the Monitoring Service is installed.
   </p></li><li class="listitem"><p>
    Make sure that the data you want to delete exists by executing the
    following command:
   </p><pre class="screen">curl -XHEAD -i 'http://localhost:&lt;port&gt;/&lt;projectID-date&gt;'</pre><p>
    For example, if Elasticsearch is listening at port 9200 (default), the ID
    of the OpenStack project is <code class="literal">abc123</code>, and you want to
    check the index of 2015, July 1st, the command is as follows:
   </p><pre class="screen">curl -XHEAD -i 'http://localhost:9200/abc123-2015-07-01'</pre><p>
    If the HTTP response is <code class="literal">200</code>, the index exists; if the
    response is <code class="literal">404</code>, it does not exist.
   </p></li><li class="listitem"><p>
    Delete the index as follows:
   </p><pre class="screen">curl -XDELETE -i 'http://localhost:&lt;port&gt;/&lt;projectID-date&gt;'</pre><p>
    Example:
   </p><pre class="screen">curl -XDELETE -i 'http://localhost:9200/abc123-2015-07-01'</pre><p>
    This command either returns an error, such as
    <code class="literal">IndexMissingException</code>, or acknowledges the successful
    deletion of the index.
   </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
   Be aware that the <code class="literal">-XDELETE</code> command immediately deletes
   the index file!
  </p></div><p>
  Both, for <code class="literal">-XHEAD</code> and <code class="literal">-XDELETE</code>, you can
  use wildcards for processing several indices. For example, you can delete all
  indices of a specific project for the whole month of July, 2015:
 </p><pre class="screen">curl -XDELETE -i 'http://localhost:9200/abc123-2015-07-*'</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
   Take extreme care when using wildcards for the deletion of indices. You
   could delete all existing indices with one single command!
  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1931"></a>Log File Handling</h2></div></div></div><p>
  In case of trouble with the <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
  services, you can study their log files to find the reason. The log files are
  also useful if you need to contact your support organization. For storing the
  log files, the default installation uses the <code class="literal">/var/log</code>
  directory on the hosts where the agents or services are installed.
 </p><p>
  You can use <code class="literal">systemd</code>, a system and session manager for
  LINUX, and <code class="literal">journald</code>, a LINUX logging interface, for
  addressing dispersed log files.
 </p><p>
  The <span class="phrase">SUSE OpenStack Cloud Monitoring</span> installer automatically
  puts all <span class="phrase">SUSE OpenStack Cloud Monitoring</span> services under the
  control of <code class="literal">systemd</code>. <code class="literal">journald</code> provides a
  centralized management solution for the logging of all processes that are
  controlled by <code class="literal">systemd</code>. The logs are collected and managed
  in a so-called journal controlled by the <code class="literal">journald</code> daemon.
 </p><p>
  For details on the <code class="literal">systemd</code> and <code class="literal">journald</code>
  utilities, refer to the
  <a class="ulink" href="https://documentation.suse.com/sles/12-SP5/single-html/SLES-admin/#part-system" target="_top">https://documentation.suse.com/sles/12-SP5/single-html/SLES-admin/#part-system</a>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idg-msoperator-shared-operationmaintenance-c-backup-xml-1"></a>Backup and Recovery</h2></div></div></div><p>
  Typical tasks of the Monitoring Service operator are to make regular backups,
  particularly of the data created during operation.
 </p><p>
  At regular intervals, you should make a backup of all:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Databases.
   </p></li><li class="listitem"><p>
    Configuration files of the individual agents and services.
   </p></li><li class="listitem"><p>
    Monitoring and log dashboards you have created and saved.
   </p></li></ul></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> does not offer integrated
  backup and recovery mechanisms. Instead, use the mechanisms and
  procedures of the individual components.
 </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id1963"></a>Databases</h3></div></div></div><p>
  You need to create regular backups of the following databases on the host
  where the Monitoring Service is installed:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Elasticsearch database for historic log data.
   </p></li><li class="listitem"><p>
    InfluxDB database for historic metrics data.
   </p></li><li class="listitem"><p>
    MariaDB database for historic configuration information.
   </p></li></ul></div><p>
  It is recommended that backup and restore operations for databases are
  carried out by experienced operators only.
 </p><h5><a id="id1974"></a>Preparations</h5><p> 
Before backing up and restoring a database, we recommend stopping the Monitoring 
API and the Log API on the <code class="literal">monasca-server</code> node, and check that all data is processed. 
This ensures that no data is written to a database during a backup and restore operation. 
After backing up and restoring a database, restart the APIs.
</p><p>
To stop the Monitoring API and the Log API, use the following command:
</p><pre class="screen">systemctl stop apache2</pre><p>
To check that all Kafka queues are empty, list the existing consumer groups and 
check the LAG column for each group. It should be 0. For example:
</p><pre class="screen">
kafka-consumer-groups.sh --zookeeper 192.168.56.81:2181 --list
kafka-consumer-groups.sh --zookeeper 192.168.56.81:2181 --describe \
 --group 1_metrics | column -t -s ','
kafka-consumer-groups.sh --zookeeper 192.168.56.81:2181 --describe \
 --group transformer-logstash-consumer | column -t -s ','
kafka-consumer-groups.sh --zookeeper 192.168.56.81:2181 --describe \
 --group thresh-metric | column -t -s ','
 </pre><p> 
To restart the Monitoring API and the Log API, use the following command:
</p><pre class="screen">systemctl start apache2</pre><h5><a id="id1983"></a>Elasticsearch Database</h5><p>
  For backing up and restoring your Elasticsearch database, use the
  Snapshot and Restore module of Elasticsearch.
 </p><p>
  To create a backup of the database, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Make sure that <span class="command"><strong>curl</strong></span> is installed, <span class="command"><strong>zypper in curl</strong></span>.
   </p></li><li class="listitem"><p>
    Log in to the host where the Monitoring Service is installed.
   </p></li><li class="listitem"><p>
    Create a snapshot repository. You need the Elasticsearch bind address for 
    all commands. run <span class="command"><strong>grep network.bind_host /etc/elasticsearch/elasticsearch.yml</strong></span> 
    to find the bind address, and replace <em class="replaceable"><code>IP</code></em> in the 
    following commands with this address. For example:
   </p><pre class="screen">curl -XPUT http://<em class="replaceable"><code>IP</code></em>:9200/_snapshot/my_backup -d '{
  "type": "fs",
  "settings": {
       "location": "/mount/backup/elasticsearch1/my_backup",
       "compress": true
  }
}'</pre><p>
    The example registers a shared file system repository (<code class="literal">"type":
    "fs"</code>) that uses the
    <code class="filename">/mount/backup/elasticsearch1</code> directory for storing
    snapshots.
   </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
        The directory for storing snapshots must be configured in the <code class="literal">elasticsearch/repo_dir</code> 
     setting in the Monasca barclamp (see the <a class="ulink" href="https://documentation.suse.com/soc/8/single-html/suse-openstack-cloud-deployment/#sec-depl-ostack-monasca" target="_top">Deployment Guide</a>).  
     The directory must be manually mounted before creating the snapshot. The 
     <code class="literal">elasticsearch</code> user must be specified as the owner of the directory.
    </p></div><p>
    <code class="literal">compress</code> is turned on to compress the metadata files.
   </p></li><li class="listitem"><p>
    Check whether the repository was created successfully:
   </p><pre class="screen">curl -XGET http://<em class="replaceable"><code>IP</code></em>:9200/_snapshot/my_backup</pre><p>
    This example response shows a successfully created repository:
   </p><pre class="screen">{
  "my_backup": {
    "type": "fs",
    "settings": {
      "compress": "true",
      "location": "/mount/backup/elasticsearch1/my_backup"
    }
  }
}</pre></li><li class="listitem"><p>
    Create a snapshot of your database that contains all indices. A repository
    can contain multiple snapshots of the same database. The name of a snapshot
    must be unique within the snapshots created for your database, for example:
   </p><pre class="screen">curl -XPUT http://<em class="replaceable"><code>IP</code></em>:9200/_snapshot/my_backup/snapshot_1?wait_for_completion=true</pre><p>
    The example creates a snapshot named <code class="literal">snapshot_1</code> for all
    indices in the <code class="literal">my_backup</code> repository.
   </p></li></ol></div><p>
  To restore the database instance, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Close all indices of your database, for example:
   </p><pre class="screen">curl -XPOST http://<em class="replaceable"><code>IP</code></em>:9200/_all/_close</pre></li><li class="listitem"><p>
    Restore all indices from the snapshot you have created, for example:
</p><pre class="screen">curl -XPOST http://<em class="replaceable"><code>IP</code></em>:9200/_snapshot/my_backup/snapshot_1/_restore</pre><p>
    The example restores all indices from <code class="literal">snapshot_1</code> that is
    stored in the <code class="literal">my_backup</code> repository.
   </p></li></ol></div><p>
  For additional information on backing up and restoring an Elasticsearch
  database, refer to the
  <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/modules-snapshots.html" target="_top">Elasticsearch documentation</a>.
 </p><h5><a id="id2037"></a>InfluxDB Database</h5><p>
  For backing up and restoring your InfluxDB database, you can use the InfluxDB
  shell. The shell is part of your InfluxDB distribution. If you installed
  InfluxDB via a package manager, the shell is, by default, installed in the
  <code class="filename">/usr/bin</code> directory.
 </p><p>
  To create a backup of the database, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Log in to the InfluxDB database as a user who is allowed to run the
    <code class="literal">influxdb</code> service, for example:
   </p><pre class="screen">su influxdb -s /bin/bash </pre></li><li class="listitem"><p>
    Back up the database, for example:
   </p><pre class="screen">influxd backup -database mon /mount/backup/mysnapshot</pre><p>
       Monasca is using <code class="literal">mon</code> as the name of the database
    The example creates the backup for the database in
    <code class="filename">/mount/backup/mysnapshot</code>.
    
   </p></li></ol></div><p>
  Before restoring the database, make sure that all database processes are shut
  down. To restore the database, you can then proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    If required, delete all files not included in the backup by dropping the database 
    before you carry out the restore operation. A restore operation restores all 
    files included in the backup. Files created or merged at a later point in time 
    are not affected. For example:
   </p><pre class="screen">influx -host <em class="replaceable"><code>IP</code></em> -execute 'drop database mon;'</pre><p>
       Replace <em class="replaceable"><code>IP</code></em> with the IP address that the database 
       is listening to. You can run <span class="command"><strong>influxd config</strong></span> and look up 
       the IP address in the <code class="literal">[http]</code> section.
       </p></li><li class="listitem"><p>
       Stop the InfluxDB database service:
   </p><pre class="screen">
systemctl stop influxdb
</pre></li><li class="listitem"><p>
    Log in to the InfluxDB database as a user who is allowed to run the
    <code class="literal">influxdb</code> service:
   </p><pre class="screen">su influxdb -s /bin/bash</pre></li><li class="listitem"><p>
   Restore the metastore:
   </p><pre class="screen">influxd restore -metadir /var/opt/influxdb/meta /mount/backup/mysnapshot</pre></li><li class="listitem"><p>
    Restore the database, for example:
   </p><pre class="screen">influxd restore -database mon -datadir /var/opt/influxdb/data /mount/backup/mysnapshot</pre><p>
    The example restores the backup from
    <code class="filename">/mount/backup/mysnapshot</code> to
    <code class="filename">/var/opt/influxdb/influxdb.conf</code>.
   </p></li><li class="listitem"><p>
    Ensure that the file permissions for the restored database are set
    correctly:
   </p><pre class="screen">chown -R influxdb:influxdb /var/opt/influxdb</pre></li><li class="listitem"><p>
    Start the InfluxDB database service:
   </p><pre class="screen">systemctl start influxdb</pre></li></ol></div><p>
  For additional information on backing up and restoring an InfluxDB database,
  refer to the
  <a class="ulink" href="https://docs.influxdata.com/influxdb/v1.1/administration/backup_and_restore/" target="_top">InfluxDB documentation</a>.
 </p><h5><a id="id2086"></a>MariaDB Database</h5><p>
  For backing up and restoring your MariaDB database, you can use the
  <span class="command"><strong>mysqldump</strong></span> utility program. <span class="command"><strong>mysqldump</strong></span>
  performs a logical backup that produces a set of SQL statements. These
  statements can later be executed to restore the database.
 </p><p>
  To back up your MariaDB database, you must be the owner of the database or a
  user with superuser privileges, for example:
 </p><pre class="screen">mysqldump -u root -p mon &gt; dumpfile.sql</pre><p>
  In addition to the name of the database, you have to specify the name and the
  location where <span class="command"><strong>mysqldump</strong></span> stores its output.
 </p><p>
  To restore your MariaDB database, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Log in to the host where the Monitoring Service is installed as a user with
    root privileges.
   </p></li><li class="listitem"><p>
       Make sure that the <span class="command"><strong>mariadb</strong></span> service is running:
   </p><pre class="screen">systemctl start mariadb</pre></li><li class="listitem"><p>
    Log in to the database you have backed up as a user with root privileges, for example:
   </p><pre class="screen">mysql -u root -p mon</pre></li><li class="listitem"><p>
    Remove and then re-create the database:
   </p><pre class="screen">
DROP DATABASE mon;
CREATE DATABASE mon;</pre></li><li class="listitem"><p>
Exit mariadb:
   </p><pre class="screen">\q</pre></li><li class="listitem"><p>
    Restore the database, for example:
   </p><pre class="screen">mysql -u root -p mon &lt; dumpfile.sql</pre></li></ol></div><p>
  For additional information on backing up and restoring a MariaDB database
  with <code class="literal">mysqldump</code>, refer to the
  <a class="ulink" href="https://mariadb.com/kb/en/mariadb/mysqldump/" target="_top">MariaDB
  documentation</a>.
 </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id2117"></a>Configuration Files</h3></div></div></div><p>
  Below you find a list of the configuration files of the agents and the
  individual services included in the Monitoring Service. Back up these files
  at least after you have installed and configured <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> and after each change in the configuration.
 </p><pre class="screen">/etc/influxdb/influxdb.conf
/etc/kafka/server.properties
/etc/my.cnf
/etc/my.cnf.d/client.cnf
/etc/my.cnf.d/mysql-clients.cnf
/etc/my.cnf.d/server.cnf
/etc/monasca/agent/agent.yaml
/etc/monasca/agent/conf.d/*
/etc/monasca/agent/supervisor.conf
/etc/monasca/api-config.conf
/etc/monasca/log-api-config.conf
/etc/monasca/log-api-config.ini
/etc/monasca-log-persister/monasca-log-persister.conf
/etc/monasca-log-transformer/monasca-log-transformer.conf
/etc/monasca-log-agent/agent.conf
/etc/monasca-notification/monasca-notification.yaml
/etc/monasca-persister/monasca-persister.yaml
/etc/monasca-thresh/thresh.yaml
/etc/elasticsearch/elasticsearch.yml
/etc/elasticsearch/logging.yml
/etc/kibana/kibana.yml</pre><h5><a id="id2122"></a>Recovery</h5><p>
  If you need to recover the configuration of one or more agents or services,
  the recommended procedure is as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    If necessary, uninstall the agents or services, and install them again.
   </p></li><li class="listitem"><p>
    Stop the agents or services.
   </p></li><li class="listitem"><p>
    Copy the backup of your configuration files to the correct location
    according to the table above.
   </p></li><li class="listitem"><p>
    Start the agents or services again.
   </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id2133"></a>Dashboards</h3></div></div></div><p>
  Kibana can persist customized log dashboard designs to the Elasticsearch
  database, and allows you to recall them. For details on saving, loading, and
  sharing log management dashboards, refer to the
  <a class="ulink" href="https://www.elastic.co/guide/en/kibana/4.5/dashboard.html#saving-dashboards" target="_top">Kibana documentation</a>.
 </p><p>
  Grafana allows you to export a monitoring dashboard to a JSON file, and to
  re-import it when necessary. For backing up and restoring the exported
  dashboards, use the standard mechanisms of your file system. For details on
  exporting monitoring dashboards, refer to the
  <a class="ulink" href="https://grafana.com/docs/guides/getting_started/" target="_top">Getting
  Started</a> tutorial of Grafana.
 </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idg-msoperator-shared-monitor-c-monitor-xml-1"></a>Chapter 4. Monitoring</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#id2169">Overview</a></span></dt><dt><span class="section"><a href="#concept-E8D43EB4494E41D2AB42D4A89396D1CMM">Working with Data Visualizations</a></span></dt><dt><span class="section"><a href="#sec-msoperator-alarms">Defining Alarms</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-monitor-c-monitor-alert-xml-1">Defining Notifications</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-monitor-c-monitor-statusinfo-xml-1">Status of Services, Servers, and Log Data</a></span></dt></dl></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> offers various
  features which support you in proactively managing your cloud resources. A
  large number of metrics in combination with early warnings about problems and
  outages assists you in analyzing and troubleshooting any issue you encounter
  in your environment.
 </p><p>
  The monitoring features include:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    A monitoring overview which allows you to access all monitoring
    information.
   </p></li><li class="listitem"><p>
    Metrics dashboards for visualizing your monitoring data.
   </p></li><li class="listitem"><p>
    Alerting features for monitoring.
   </p></li></ul></div><p>
  In the following sections, you will find information on the monitoring
  overview and the metrics dashboards as well as details on how to define and
  handle alarms and notifications.
 </p><h5><a id="id2152"></a>Accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
 </h5><p>
  For accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span> and performing
  monitoring tasks, you must have access to the OpenStack platform as a user with
  the <span class="guimenu">monasca-user</span> or <span class="guimenu">monasca-read-only-user</span>
  role in the <span class="guimenu">monasca</span> tenant.
  </p><p>
  Log in to OpenStack Horizon with your user name and password. The functions
  you can use in OpenStack Horizon depend on your access permissions. To access
  logs and metrics, switch to the <span class="guilabel">monasca</span> tenant in
  Horizon. This allows you to access all monitoring data for <span class="phrase">SUSE
  OpenStack Cloud Monitoring</span>.
 </p><div class="figure"><a id="fig-socm-monasca"></a><p class="title"><strong>Figure 4.1. SUSE OpenStack Cloud Horizon Dashboard—Monitoring</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-horizon-monasca.png" width="100%" alt="SUSE OpenStack Cloud Horizon Dashboard—Monitoring" /></td></tr></table></div></div></div><br class="figure-break" /><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2169"></a>Overview</h2></div></div></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> provides one convenient
  access point to your monitoring data. Use <span class="guilabel">Monitoring &gt;
  Overview</span> to keep track of your services and servers and quickly
  check their status. The overview also indicates any irregularities in the log
  data of the system components you are monitoring.
 </p><p>
  On the <span class="guilabel">Overview</span> page, you can:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    View the status of your services, servers, and log data at a glance. As
    soon as you have defined an alarm for a service, a server, or log data and
    metrics data has been received, there is status information displayed on
    the <span class="guilabel">Overview</span> page. Different colors are used for the
    different statuses.
   </p><p>
    For details on the status information, refer to <a class="xref" href="#idg-msoperator-shared-monitor-c-monitor-statusinfo-xml-1" title="Status of Services, Servers, and Log Data">the section called “Status of Services, Servers, and Log Data”</a>. For
    details on defining alarms, refer to <a class="xref" href="#sec-msoperator-alarms" title="Defining Alarms">the section called “Defining Alarms”</a>.
   </p></li><li class="listitem"><p>
    Access a preconfigured dashboard that visualizes your metrics data.
    Starting from this dashboard, you can create your own dashboards for
    visualizing your metrics data as required. For details, refer to
    <a class="xref" href="#concept-E8D43EB4494E41D2AB42D4A89396D1CMM" title="Working with Data Visualizations">the section called “Working with Data Visualizations”</a>.
   </p></li><li class="listitem"><p>
    Access the <span class="phrase">SUSE OpenStack Cloud Monitoring</span> log management
    functionality. For details, refer to <a class="xref" href="#idg-msoperator-shared-logging-c-osologging-xml-1" title="Chapter 5. Log Management">Chapter 5, <em>Log Management</em></a>.
   </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="concept-E8D43EB4494E41D2AB42D4A89396D1CMM"></a>Working with Data Visualizations</h2></div></div></div><p>
  The user interface for monitoring your services, servers, and log data
  integrates with Grafana, an open source application for visualizing
  large-scale monitoring data. Use the options at the top border of the
  <span class="guilabel">Overview</span> page to access Grafana.
 </p><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> ships with preconfigured
  metrics dashboards. You can instantly use them for monitoring your
  environment. You can also use them as a starting point for building your own
  dashboards.
 </p><h5><a id="id2196"></a>Preconfigured Metrics Dashboard for <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
 </h5><p>
  As a Monitoring Service operator, you use the <span class="guilabel">Monasca
  Health</span> option on the <span class="guilabel">Overview</span> page to view
  the metrics data on the Monitoring Service. The OpenStack operator uses the
  <span class="guilabel">Dashboard</span> option to view the metrics data on the
  OpenStack services.
 </p><div class="figure"><a id="id2202"></a><p class="title"><strong>Figure 4.2. Metrics Dashboard—Monitoring Service Operator's View</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-msoperator-dashboard.png" width="100%" alt="Metrics Dashboard—Monitoring Service Operator's View" /></td></tr></table></div></div></div><br class="figure-break" /><p>
  The preconfigured dashboard shows the following data on the Monitoring
  Service:
  
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Status of the main <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
    components (<code class="literal">UP</code> or <code class="literal">DOWN</code>).
   </p><p>
    In the upper part of the dashboard the components are grouped into metrics
    and log management components as well as common components that are used by
    metrics-based and log-based monitoring.
   </p></li><li class="listitem"><p>
    Information on system resources.
   </p><p>
    The dashboard shows metrics data on CPU usage: the percentage of time the
    CPU is used in total (<code class="literal">cpu.percent</code>), at user level
    (<code class="literal">cpu.user_perc</code>), and at system level
    (<code class="literal">cpu.system_perc</code>), as well as the percentage of time the
    CPU is idle when no I/O requests are in progress
    (<code class="literal">cpu.wait_perc</code>).
   </p><p>
    The dashboard shows metrics data on memory usage: the number of megabytes
    of total memory (<code class="literal">mem.total_mb</code>), used memory
    (<code class="literal">mem.used_mb</code>), total swap memory
    (<code class="literal">mem.swap_total_mb</code>), and used swap memory
    (<code class="literal">mem.swap_used_mb</code>), as well as the number of megabytes
    used for the page cache (<code class="literal">mem.used_cache</code>).
   </p><p>
    The dashboard visualizes metrics on the percentage of disk space that is
    being used on a device (<code class="literal">disk.space_used_perc</code>).
   </p><p>
    The dashboard shows metrics data on the <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> system load over different periods
    (<code class="literal">load.avg_1_min</code>, <code class="literal">load.avg_5_min</code>, and
    <code class="literal">load.avg_15_min</code>).
   </p></li><li class="listitem"><p>
    The network usage of <span class="phrase">SUSE OpenStack Cloud Monitoring</span>.
   </p><p>
    The dashboard shows the number of network bytes received and sent per
    second (<code class="literal">net.in_bytes_sec</code> and
    <code class="literal">net.out_bytes_sec</code>).
   </p></li><li class="listitem"><p>
    Metrics data on each <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
    component. The metrics that are visualized differ slightly from component
    to component. The dashboard shows, for example, the percentage of CPU that
    is consumed by a component (<code class="literal">process.cpu_perc.value </code>),
    the amount of physical memory that is allocated to the component
    (<code class="literal">process.mem.rss_mbytes.value</code>), or the number of
    processes that exist with the corresponding component name
    (<code class="literal">process.pid_count.value</code>).
   </p></li></ul></div><h5><a id="id2249"></a>Building Dashboards</h5><p>
  Each metrics dashboard is composed of one or more panels that are arranged in
  one or more rows. A row serves as a logical divider within a dashboard. It
  organizes your panels in groups. The panel is the basic building block for
  visualizing your metrics data.
 </p><p>
  For building dashboards, you have two options:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Start from scratch and create a new dashboard.
   </p></li><li class="listitem"><p>
    Take the dashboard that is shipped with <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> as a starting point and customize it.
   </p></li></ul></div><p>
  The following sections provide introductory information on dashboards, rows,
  and panels, and make you familiar with the first steps involved in building a
  dashboard. For additional information, you can also refer to the
  <a class="ulink" href="http://docs.grafana.org/" target="_top"> Grafana documentation </a>.
 </p><h5><a id="id2260"></a>Creating a Dashboard</h5><p>
  To create a new dashboard, use the <span class="guilabel">Open</span> icon in the
  top right corner of your dashboard window. The option provides access to
  various features for administrating dashboards. Click <span class="guilabel">New</span>
  to create an empty dashboard that serves as a starting point for adding rows
  and panels.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-new-dashboard.png" width="100%" /></td></tr></table></div></div><p>
  On the left side of an empty dashboard, there is a green rectangle displayed.
  Hover over this rectangle to access a <span class="guilabel">Row</span> menu. To
  insert your first panel, you can use the options in the <span class="guilabel">Add
  Panel</span> submenu. See below for details on the available panel types.
 </p><p>
  As soon as you have inserted an empty panel, you can add additional rows. For
  this purpose, use the <span class="guilabel">Add Row</span> option on the right side
  of the dashboard.
 </p><h5><a id="id2275"></a>Editing Rows</h5><p>
  Features for editing rows can be accessed via the green rectangle that is
  displayed to the left of each row.
 </p><p>
  In addition to adding panels to a row, you can collapse or remove a row, move
  the position of the row within your dashboard, or set the row height. Row
  settings allows you, for example, to insert a row title or to hide the
  <span class="guilabel">Row</span> menu so that the row can no longer be edited.
 </p><h5><a id="id2279"></a>Editing Panels</h5><p>
  Grafana distinguishes between three panel types:
 </p><p>
  Panels of type <span class="guilabel">Graph</span> are used to visualize metrics data.
  A query editor is provided to define the data to be visualized. The editor
  allows you to combine multiple queries. This means that any number of metrics
  and data series can be visualized in one panel.
 </p><div class="figure"><a id="id2283"></a><p class="title"><strong>Figure 4.3. A Graph Panel</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-panel-graph.png" width="100%" alt="A Graph Panel" /></td></tr></table></div></div></div><br class="figure-break" /><p>
  Panels of type <span class="guilabel">Singlestat</span> are also used to visualize
  metrics data, yet they reduce a single query to a single number. The single
  number can be, for example, the minimum, maximum, average, or sum of values
  of the data series. The single number can be translated into a text value, if
  required.
 </p><p>
  Panels of type <span class="guilabel">Text</span> are used to insert static text. The
  text may, for example, provide information for the dashboard users. Text
  panels are not connected to any metrics data.
 </p><p>
  As soon as you have added a panel to your dashboard, you can access the
  options for editing the panel content. For this purpose, click the panel
  title and use <span class="guilabel">Edit</span>:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    For panels of type <span class="guilabel">Text</span>, a simple text editor is
    displayed for entering text. Plain text, HTML, and markdown format are
    supported.
   </p><div class="figure"><a id="id2300"></a><p class="title"><strong>Figure 4.4. Editing a Text Panel</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-panel-text.png" width="100%" alt="Editing a Text Panel" /></td></tr></table></div></div></div><br class="figure-break" /></li><li class="listitem"><p>
    For panels of type <span class="guilabel">Graph</span> and
    <span class="guilabel">Singlestat</span>, a query editor is displayed to define
    which data it to be shown. You can add multiple metrics, and apply
    functions to the metrics. The query results will be visualized in your
    panel in real time.
   </p></li></ul></div><p>
  A large number of display and formatting features are provided to customize
  how the content is presented in a panel. Click the panel title to access the
  corresponding options. The menu that is displayed also allows you to
  duplicate or remove a panel. To change the size of a panel, click the
  <span class="guilabel">+</span> and <span class="guilabel">-</span> icons.
 </p><p>
  You can move panels on your dashboard by simply dragging and dropping them
  within and between rows.
 </p><p>
  By default, the time range for panels is controlled by dashboard settings.
  Use the time picker in the top right corner of your dashboard window to
  define relative or absolute time ranges. You can also set an auto-refresh
  interval, or manually refresh the data that is displayed.
 </p><h5><a id="id2316"></a>Saving and Sharing Dashboards</h5><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> allows you to save a metrics
  dashboard and export it to a JSON file. The JSON file can be edited, it can
  be shared with other users, and it can be imported to <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> again.
 </p><p>
  To save a dashboard, use <span class="guilabel">Save</span> in the top right corner of
  your dashboard window. You can enter a name for the dashboard and simply save
  it to your browser's local storage. Use <span class="guilabel">Dashboard JSON</span>
  to directly view the corresponding JSON syntax, or use <span class="guilabel">Export
  dashboard</span> to download the JSON file. The JSON file can be
  forwarded to other users, if required. To import a JSON file, use
  <span class="guilabel">Open dashboard</span> in the top left corner of the dashboard
  window.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec-msoperator-alarms"></a>Defining Alarms</h2></div></div></div><p>
  You have to define alarms to monitor your cloud resources. An alarm
  definition specifies the metrics to be collected and the threshold at which
  an alarm is to be triggered for a cloud resource. If the specified threshold
  is reached or exceeded, the alarm is triggered and notifications can be sent
  to inform users. By default, an alarm definition is evaluated every minute.
 </p><p>
  To handle a large variety of monitoring requirements, you can create either
  simple alarm definitions that refer to one metrics only, or compound alarm
  definitions that combine multiple metrics and allow you to track and process
  more complex events.
 </p><p>
  Example for a simple alarm definition that checks whether the system-level
  load of the CPU exceeds a threshold of 90 percent:
 </p><pre class="screen">cpu.system_perc{hostname=monasca} &gt; 90</pre><p>
  Example for a simple alarm definition that checks the average time of the
  system-level load of the CPU over a period of 480 seconds. The alarm is
  triggered only if this average is greater than 95 percent:
 </p><pre class="screen">avg(cpu.system_perc{hostname=monasca}, 120) &gt; 95 times 4</pre><p>
  Example for a compound alarm definition that evaluates two metrics. The alarm
  is triggered if either the system-level load of the CPU exceeds a threshold
  of 90 percent, or if the disk space that is used by the specified service
  exceeds a threshold of 90 percent:
 </p><pre class="screen">avg(cpu.system_perc{hostname=monasca}) &gt; 90 OR
max(disk.space_used_perc{service=monitoring}) &gt; 90</pre><p>
  To create, edit, and delete alarms, use <span class="guilabel">Monitoring &gt; Alarm
  Definitions</span>.
 </p><p>
  The elements that define an alarm are grouped into
  <span class="guilabel">Details</span>, <span class="guilabel">Expression</span>, and
  <span class="guilabel">Notifications</span>. They are described in the following
  sections.
 </p><h5><a id="id2341"></a>Details</h5><p>
  For an alarm definition, you specify the following details:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <span class="guilabel">Name</span>. Mandatory identifier of the alarm. The name must
    be unique within the project for which you define the alarm.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Description</span>. Optional. A short description that
    depicts the purpose of the alarm.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Severity</span>. The following severities for an alarm are
    supported: <span class="guilabel">Low</span> (default), <span class="guilabel">Medium</span>,
    <span class="guilabel">High</span>, or <span class="guilabel">Critical</span>.
   </p><p>
    The severity affects the status information on the
    <span class="guilabel">Overview</span> page. If an alarm that is defined as
    <span class="guilabel">Critical</span> is triggered, the corresponding resource is
    displayed in a red box. If an alarm that is defined as
    <span class="guilabel">Low</span>, <span class="guilabel">Medium</span>, or
    <span class="guilabel">High</span> is triggered, the corresponding resource is
    displayed in a yellow box only.
   </p><p>
    The severity level is subjective. Choose a level that is appropriate for
    prioritizing the alarms in your environment.
   </p></li></ul></div><div class="figure"><a id="fig-socm-msoperator-alarmdef-create"></a><p class="title"><strong>Figure 4.5. Creating an Alarm Definition</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-alarmdef-create.png" width="100%" alt="Creating an Alarm Definition" /></td></tr></table></div></div></div><br class="figure-break" /><h5><a id="id2371"></a>Expression</h5><p>
  The expression defines how to evaluate a metrics. The expression syntax is
  based on a simple expressive grammar. For details, refer to the
  <a class="ulink" href="https://github.com/openstack/monasca-api/blob/stable/ocata/docs/monasca-api-spec.md" target="_top">Monasca API documentation</a>.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-alarmdef-create-expression.png" width="100%" /></td></tr></table></div></div><p>
  To define an alarm expression, proceed as follows:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Select the metrics to be evaluated.
   </p></li><li class="listitem"><p>
    Select a statistical function for the metrics: <code class="literal">min</code> to
    monitor the minimum values, <code class="literal">max</code> to monitor the maximum
    values, <code class="literal">sum</code> to monitor the sum of the values,
    <code class="literal">count</code> for the monitored number, or
    <code class="literal">avg</code> for the arithmetic average.
   </p></li><li class="listitem"><p>
    Enter one or multiple dimensions in the <span class="guilabel">Add a
    dimension</span> field to further qualify the metrics.
   </p><p>
    Dimensions filter the data to be monitored. They narrow down the evaluation
    to specific entities. Each dimension consists of a key/value pair that
    allows for a flexible and concise description of the data to be monitored,
    for example, region, availability zone, service tier, or resource ID.
   </p><p>
    The dimensions available for the selected metrics are displayed in the
    <span class="guilabel">Matching Metrics</span> section. Type the name of the key you
    want to associate with the metrics in the <span class="guilabel">Add a
    dimension</span> field. You are offered a select list for adding the
    required key/value pair.
   </p></li><li class="listitem"><p>
    Enter the threshold value at which an alarm is to be triggered, and combine
    it with a relational operator <code class="literal">&lt;</code>,
    <code class="literal">&gt;</code>, <code class="literal">&lt;=</code>, or
    <code class="literal">&gt;=</code>.
   </p><p>
    The unit of the threshold value is related to the metrics for which you
    define the threshold, for example, the unit is percentage for
    <code class="literal">cpu.idle_perc</code> or MB for
    <code class="literal">disk.total_used_space_mb</code>.
   </p></li><li class="listitem"><p>
    Switch on the <span class="guilabel">Deterministic</span> option if you evaluate a
    metrics for which data is received only sporadically. The option should be
    switched on, for example, for all log metrics. This ensures that the alarm
    status is <code class="literal">OK</code> and displayed as a green box on the
    <span class="guilabel">Overview</span> page although metrics data has not yet been
    received.
   </p><p>
    Do not switch on the option if you evaluate a metrics for which data is
    received regularly. This ensures that you instantly notice, for example,
    that a host machine is offline and that there is no metrics data for the
    agent to collect. On the <span class="guilabel">Overview</span> page, the alarm
    status therefore changes from <code class="literal">OK</code> to
    <code class="literal">UNDETERMINED</code> and is displayed as a gray box.
   </p></li><li class="listitem"><p>
    Enter one or multiple dimensions in the <span class="guilabel">Match by</span> field
    if you want these dimensions to be taken into account for triggering
    alarms.
   </p><p>
    Example: If you enter <code class="literal">hostname</code> as dimension, individual
    alarms will be created for each host machine on which metrics data is
    collected. The expression you have defined is not evaluated as a whole but
    individually for each host machine in your environment.
   </p><p>
    If <span class="guilabel">Match by</span> is set to a dimension, the number of
    alarms depends on the number of dimension values on which metrics data is
    received. An empty <span class="guilabel">Match by</span> field results in exactly
    one alarm.
   </p><p>
    To enter a dimension, you can simply type the name of the dimension in the
    <span class="guilabel">Match by</span> field. The dimensions you enter cannot be
    changed once the alarm definition is saved.
   </p></li><li class="listitem"><p>
    Build a compound alarm definition to combine multiple metrics in one
    expression. Using the logical operators <code class="literal">AND</code> or
    <code class="literal">OR</code>, any number of sub-expressions can be combined.
   </p><p>
    Use the <span class="guilabel">Add</span> button to create a second expression, and
    choose either <code class="literal">AND</code> or <code class="literal">OR</code> as
    <span class="guilabel">Operator</span> to connect it to the one you have already
    defined. Proceed with the second expression as described in Step 1 to Step
    6 above.
   </p><p>
    The following options are provided for creating and organizing compound
    alarm definitions:
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      Create additional sub-expressions using the <span class="guilabel">Add</span>
      button.
     </p></li><li class="listitem"><p>
      Finish editing a sub-expression using the <span class="guilabel">Submit</span>
      button.
     </p></li><li class="listitem"><p>
      Delete a sub-expression using the <span class="guilabel">Remove</span> button.
     </p></li><li class="listitem"><p>
      Change the position of a sub-expression using the <span class="guilabel">Up</span>
      or <span class="guilabel">Down</span> button.
     </p></li></ul></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
   You can also edit the expression syntax directly. For this purpose, save
   your alarm definition and update it using the <span class="guilabel">Edit Alarm
   Definition</span> option.
  </p><p>
   By default, an alarm definition is evaluated every minute. When updating the
   alarm definition, you can change this interval. For syntax details, refer to
   the Monasca API documentation on
   <a class="ulink" href="https://github.com/openstack/monasca-api/blob/stable/ocata/docs/monasca-api-spec.md#alarm-definition-expressions" target="_top">Alarm Definition Expressions</a>.
  </p></div><h5><a id="id2455"></a>Notifications</h5><p>
  You can enable notifications for an alarm definition. As soon as an alarm is
  triggered, the enabled notifications will be sent.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-alarmdef-create-notifications.png" width="100%" /></td></tr></table></div></div><p>
  The <span class="guilabel">Notifications</span> tab allows you to select the
  notifications from the ones that are predefined in your environment. For a
  selected notification, you specify whether you want to send it for a status
  transition to <span class="guilabel">Alarm</span>, <span class="guilabel">OK</span>, and/or
  <span class="guilabel">Undetermined</span>.
 </p><p>
  For details on defining notifications, refer to
  <a class="xref" href="#idg-msoperator-shared-monitor-c-monitor-alert-xml-1" title="Defining Notifications">the section called “Defining Notifications”</a>. For
  details on alarm statuses, refer to
  <a class="xref" href="#idg-msoperator-shared-monitor-c-monitor-statusinfo-xml-1" title="Status of Services, Servers, and Log Data">the section called “Status of Services, Servers, and Log Data”</a>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idg-msoperator-shared-monitor-c-monitor-alert-xml-1"></a>Defining Notifications</h2></div></div></div><p>
  Notifications define how users are informed when a threshold value defined
  for an alarm is reached or exceeded. In the alarm definition, you can assign
  one or multiple notifications.
 </p><p>
  For a notification, you specify the following elements:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <span class="guilabel">Name</span>. A unique identifier of the notification. The
    name is offered for selection when defining an alarm.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Type</span>. <code class="literal">Email</code> is the notification
    method supported by <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. If
    you want to use <code class="literal">WebHook</code> or <code class="literal">PagerDuty</code>,
    contact your <span class="phrase">SUSE OpenStack Cloud Monitoring</span> support for
    further information.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Address</span>. The email address to be notified when an
    alarm is triggered.
   </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
     Generic top-level domains such as business domain names are not supported
     in email addresses (for example, <code class="literal">user@xyz.company</code>).
    </p></div></li></ul></div><p>
  To create, edit, and delete notifications, use <span class="guilabel">Monitoring &gt;
  Notifications</span>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idg-msoperator-shared-monitor-c-monitor-statusinfo-xml-1"></a>Status of Services, Servers, and Log Data</h2></div></div></div><p>
  An alarm definition for a service, server, or log data is evaluated over the
  interval specified in the alarm expression. The alarm definition is
  re-evaluated in each subsequent interval. The following alarm statuses are
  distinguished:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <code class="literal">Alarm</code>. The alarm expression has evaluated to
    <code class="literal">true</code>. An alarm has been triggered for the cloud
    resource.
   </p></li><li class="listitem"><p>
    <code class="literal">OK</code>. The alarm expression has evaluated to
    <code class="literal">false</code>. There is no need to trigger an alarm.
   </p></li><li class="listitem"><p>
    <code class="literal">Undetermined</code>. No metrics data has been received within
    the defined interval.
   </p></li></ul></div><p>
  As soon as you have defined an alarm for a cloud resource, there is status
  information displayed for it on the <span class="guilabel">Overview</span> page:
 </p><p>
  The color of the boxes in the three sections indicates the status:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    A green box for a service or server indicates that it is up and running. A
    green box for a log path indicates that a defined threshold for errors or
    warnings, for example, has not yet been reached or exceeded. There are
    alarms defined for the services, servers, or log paths, but no alarms have
    been triggered.
   </p></li><li class="listitem"><p>
    A red box for a service, server, or log path indicates that there is a
    severe problem that needs to be checked. One or multiple alarms defined for
    a service, a server, or log data have been triggered.
   </p></li><li class="listitem"><p>
    A yellow box indicates a problem. One or multiple alarms have already been
    triggered, yet, the severity of these alarms is low.
   </p></li><li class="listitem"><p>
    A gray box indicates that alarms have been defined. Yet, metrics data has
    not been received.
   </p></li></ul></div><p>
  The status information on the <span class="guilabel">Overview</span> page results from
  one or multiple alarms that have been defined for the corresponding resource.
  If multiple alarms are defined, the severity of the individual alarms
  controls the status color.
 </p><p>
  You can click a resource on the <span class="guilabel">Overview</span> page to display
  details on the related alarms. The details include the status of each alarm
  and the expression that is evaluated. For each alarm, you can drill down on
  the alarm history. To narrow down the problem, the history presents detailed
  information on the status transitions.
 </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idg-msoperator-shared-logging-c-osologging-xml-1"></a>Chapter 5. Log Management</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#id2558">Working with the Log Management Window</a></span></dt><dt><span class="section"><a href="#idg-msoperator-shared-logging-c-osolog-index-xml-1">Configuring Index Patterns</a></span></dt><dt><span class="section"><a href="#id2747">Monitoring Log Data</a></span></dt><dt><span class="section"><a href="#id2766">Troubleshooting</a></span></dt></dl></div><p>
  For managing the log data of your services and the virtual and physical
  servers on which they are provisioned, <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> integrates with Kibana, an open source analytics and
  visualization platform. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
  Kibana as a front-end application to the log data held in the Elasticsearch
  database.
 </p><p>
  Kibana allows you to easily understand large data volumes. Based on the data
  that is stored in Elasticsearch indices, you can perform advanced data
  analysis and visualize your log data in a variety of charts, tables, or maps.
  Changes to the Elasticsearch indices are displayed in <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> in real time.
 </p><p>
  The log management features of <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> include:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Features for searching, visualizing, and analyzing the log data.
   </p></li><li class="listitem"><p>
    Alerting features for monitoring.
   </p></li></ul></div><p>
  In the following sections, you will find information on the log management
  window where you search, visualize, and analyze your log data, as well as
  details on how to use the alerting features.
 </p><h5><a id="id2541"></a>Accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
 </h5><p>
  For accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span> and performing
  log management tasks, the following prerequisites must be fulfilled:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    You must have access to the OpenStack platform as a user with the
    <code class="literal">monasca-user</code> role.
   </p></li><li class="listitem"><p>
    You must be assigned to the OpenStack project you want to monitor.
   </p></li></ul></div><p>
  Log in to OpenStack Horizon with your user name and password. The functions
  you can use in OpenStack Horizon depend on your access permissions. To access
  logs and metrics, switch to the <span class="guilabel">monasca</span> tenant in
  Horizon.
 </p><p>
  The <span class="phrase">SUSE OpenStack Cloud Monitoring</span> functionality is
  available on the <span class="guilabel">Monitoring</span> tab. It provides access to
  the log data of all projects to which you are assigned. The <span class="guilabel">Log
  Management</span> option at the top border of the
  <span class="guilabel">Overview</span> page displays the log management window where
  you can work on the log data.
 </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2558"></a>Working with the Log Management Window</h2></div></div></div><p>
  Index patterns determine which data from the underlying Elasticsearch
  database can be viewed and analyzed in <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span>'s log management window. Index patterns are used to
  identify the Elasticsearch indices to run search and analytics against.
 </p><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> ships with a preconfigured
  index pattern which allows you to instantly view and analyze your log data
  when accessing the log management window for the first time. You can
  configure additional index patterns to view and analyze different data from
  different indices. For details, refer to
  <a class="xref" href="#idg-msoperator-shared-logging-c-osolog-index-xml-1" title="Configuring Index Patterns">the section called “Configuring Index Patterns”</a>.
 </p><p>
  Search queries allow you to search the Elasticsearch indices for data that
  match your information requirements. The query results can be graphically
  represented in visualizations, and visualizations can be organized in
  dashboards.
 </p><p>
  The log management window provides features for:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Querying log data.
   </p></li><li class="listitem"><p>
    Visualizing query results.
   </p></li><li class="listitem"><p>
    Combining visualizations in dashboards.
   </p></li><li class="listitem"><p>
    Filtering query results in dashboards.
   </p></li><li class="listitem"><p>
    Sharing dashboards.
   </p></li></ul></div><p>
  The following sections provide an introduction to queries, visualizations,
  and dashboards. For additional details, refer to the
  <a class="ulink" href="https://www.elastic.co/guide/en/kibana/4.5/index.html" target="_top">Kibana
  documentation</a>.
 </p><h5><a id="id2580"></a>Querying Log Data</h5><p>
  For querying log data, you use the <span class="guilabel">Discover</span> page in the
  log management window. It is instantly displayed when you access the window.
  It shows the most recently collected log data:
 </p><div class="figure"><a id="id2583"></a><p class="title"><strong>Figure 5.1. The Kibana Dashboard—Discover Page</strong></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="100%"><tr><td><img src="images/socm-kibana-dashboard.png" width="100%" alt="The Kibana Dashboard—Discover Page" /></td></tr></table></div></div></div><br class="figure-break" /><p>
  The <span class="guilabel">Discover</span> page allows you to access the log data in
  every index that matches the current index pattern. In addition to submitting
  queries, you can view, filter, and analyze the log data that is returned by
  your queries.
 </p><p>
  On the <span class="guilabel">Discover</span> page the following elements assist you
  in analyzing your log data:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Below the main navigation bar at the top of the window, there is a
    <span class="bold"><strong>search box</strong></span> for querying your log data. By
    submitting a query, you search all indices that match the current index
    pattern. The name of the current index pattern is displayed directly below
    the search box on the left side. You can select a different index pattern,
    if required. For details on configuring and selecting index patterns, refer
    to <a class="xref" href="#idg-msoperator-shared-logging-c-osolog-index-xml-1" title="Configuring Index Patterns">the section called “Configuring Index Patterns”</a>.
   </p><p>
    For entering strings in the search box, use the Lucene query syntax. Kibana
    also supports the Elasticsearch Query DSL. For details, refer to the
    <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl.html" target="_top">Elasticsearch Reference documentation</a>.
   </p></li><li class="listitem"><p>
    Use the <span class="bold"><strong>clock icon</strong></span> at the top right border
    of the log management window to define a time range for filtering the log
    data. By default, <span class="phrase">SUSE OpenStack Cloud Monitoring</span> displays
    the log data collected during the last 15 minutes. You can deviate from
    this default. Multiple options are provided for defining relative or
    absolute time ranges. The time range you define is instantly applied to all
    log data.
   </p></li><li class="listitem"><p>
    In the bottom right part of the <span class="guilabel">Discover</span> page, you can
    view the <span class="bold"><strong>log data</strong></span> returned by your search
    queries. Depending on whether you have filtered the data by index fields,
    the log data is either restricted to these fields or entire records are
    displayed.
   </p></li><li class="listitem"><p>
    On the left side of the <span class="guilabel">Discover</span> page below the search
    box, you see the <span class="bold"><strong>index fields</strong></span> from the
    indices that match the current index pattern. You can select individual
    fields to modify which log data is displayed on the right side.
   </p><p>
    Select a field from the <span class="guilabel">Available Fields</span> section for
    this purpose and use <span class="guilabel">Add</span>. To remove a field, select it
    in the <span class="guilabel">Selected Fields</span> section and use
    <span class="guilabel">Remove</span>.
   </p><p>
    From the field list, you can expand a field by simply clicking it. This
    shows the most common values for the field. You can also set field values
    as filter, or you can exclude log data with specific field values.
   </p></li><li class="listitem"><p>
    If a time field is configured for the current index pattern, the
    distribution of log entries over time is displayed in a
    <span class="bold"><strong>histogram</strong></span> in the top right part of the
    <span class="guilabel">Discover</span> page.
   </p><p>
    By default, the histogram shows the number of logs entries versus time,
    matched by the underlying query and time filter. You can click the bars in
    the histogram to narrow down the time filter.
   </p></li></ul></div><p>
  Queries can be saved and re-used. They can also be shared with other users.
  For this purpose, use the options to the right of the search box at the top
  border of the log management window:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    To save a query, use <span class="guilabel">Save Search</span>. Saving a query means
    saving both the query syntax and the current index pattern.
   </p></li><li class="listitem"><p>
    To load a query, use <span class="guilabel">Load Saved Search</span>. A saved query
    can be loaded and used by any OpenStack or Monitoring Service operator.
   </p></li><li class="listitem"><p>
    To share a query with other users, use <span class="guilabel">Share Search</span>.
    The option displays a direct link to the query that you can forward. As a
    prerequisite for using a direct link, a user must have <span class="phrase">SUSE
    OpenStack Cloud Monitoring</span> access.
   </p></li></ul></div><h5><a id="id2636"></a>Visualizing Query Results</h5><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> supports you in building
  graphical representations of your query results. You can choose from
  different visualization types, for example, pie charts, data tables, line
  charts, or vertical bar charts. For visualizing your results, you use the
  <span class="guilabel">Visualize</span> page in the log management window:
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="90%"><tr><td><img src="images/socm-kibana-visualize.png" width="100%" /></td></tr></table></div></div><p>
  To create a visualization, use <span class="guilabel">New Visualization</span> to the
  right of the search box at the top border of the window. You have to select a
  visualization type and the query to be used. You can either create a new
  query or load a query you have already saved.
 </p><p>
  Based on the visualization type and the query, you can proceed with designing
  the graphical representation in a visualization editor. Multiple design
  options and a preview function are provided for creating, modifying, and
  viewing the graphical representation.
 </p><p>
  You can save and re-use visualizations. You can also share them with other
  users. For this purpose, use the options to the right of the search box at
  the top border of the log management window:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    To save a visualization, use <span class="guilabel">Save Visualization</span>.
   </p></li><li class="listitem"><p>
    To load a visualization, use <span class="guilabel">Load Saved Visualization</span>.
    A saved visualization can be loaded and used by any OpenStack or Monitoring
    Service operator.
   </p></li><li class="listitem"><p>
    To share a visualization with other users, use <span class="guilabel">Share
    Visualization</span>. The option displays an HTML snippet that can be
    used to embed the visualization in a Web page. It also displays a direct
    link to the visualization that you can forward. As a prerequisite for using
    an embedded visualization or a direct link, a user must have <span class="phrase">SUSE
    OpenStack Cloud Monitoring</span> access.
   </p></li></ul></div><h5><a id="id2661"></a>Combining Visualizations in Dashboards</h5><p>
  For correlating related information or providing an overview, you can combine
  visualizations in dashboards. Use the <span class="guilabel">Dashboard</span> page in
  the log management window for this purpose:
 </p><p>
  To create a dashboard from scratch, you use <span class="guilabel">New
  Dashboard</span> to the right of the search box at the top border of the
  window. To add a visualization from a list of existing visualizations, use
  <span class="guilabel">Add Visualization</span>. You need at least one saved
  visualization to create a dashboard. In addition to adding visualizations,
  you can also place the tabular output of query results on your dashboards.
  Switch to the <span class="guilabel">Searches</span> tab when adding a visualization,
  and select a saved query. This adds the query result to your dashboard.
 </p><p>
  A visualization or query result is displayed in a container on your
  dashboard. Various options are provided for arranging containers:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Move a container by clicking and dragging its title bar.
   </p></li><li class="listitem"><p>
    Resize a container by dragging its bottom right corner.
   </p></li><li class="listitem"><p>
    Remove a container using <span class="guilabel">Delete</span> in the top right
    corner of the container.
   </p></li></ul></div><p>
  Using <span class="guilabel">Edit</span> in the top right corner of a container, you
  can switch to the <span class="guilabel">Visualize</span> or
  <span class="guilabel">Discover</span> page. This allows you to design the graphical
  representation or edit the query. To view the raw data behind a
  visualization, you can click the bar at the bottom of the container. This
  replaces your visualization by the underlying raw data. You can export the
  raw data, if required.
 </p><p>
  For each dashboard, you can configure a refresh interval to automatically
  refresh its content with the latest data. The current interval is displayed
  in the top right border of the log management window. Click the interval if
  you want to change it. You can define the interval in absolute or relative
  terms. Use <span class="guilabel">Auto-Refresh</span> next to the interval in the
  border of the log management window to instantly submit the underlying
  queries and refresh the dashboard content.
 </p><p>
  By default, dashboards are displayed with a light background. Using
  <span class="guilabel">Options</span> in the top right border of the log management
  window, you can switch to a dark color scheme.
 </p><h5><a id="id2685"></a>Filtering Query Results in Dashboards</h5><p>
  By submitting a query on the data displayed in a dashboard, you can filter
  out specific sets of data that you want to aggregate while not changing the
  logic of the individual visualizations.
 </p><p>
  Use the search box below the main navigation bar at the top of the log
  management window for entering a query on the whole dashboard. If a
  visualization is already based on a saved query, both queries apply.
 </p><h5><a id="id2688"></a>Sharing Dashboards</h5><p>
  Dashboards can be saved and re-used. They can also be shared with other
  users. For this purpose, use the options to the right of the search box at
  the top border of the log management window:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    To save a dashboard, use <span class="guilabel">Save Dashboard</span>. By default,
    saving a dashboard also saves the time filter that is defined at the time
    of saving. You can disable this default by clearing the <span class="guilabel">Store
    time with dashboard</span> option. Disabling the default means that the
    time filter is set to the currently selected time each time the dashboard
    is loaded.
   </p></li><li class="listitem"><p>
    To load a dashboard, use <span class="guilabel">Load Saved Dashboard</span>. A saved
    dashboard can be loaded and used by any OpenStack or Monitoring Service
    operator.
   </p></li><li class="listitem"><p>
    To share a dashboard with other users, use <span class="guilabel">Share
    Dashboard</span>. The option displays an HTML snippet that can be used
    to embed the dashboard in a Web page. It also displays a direct link to the
    dashboard that you can forward. As a prerequisite for using an embedded
    dashboard or a direct link, a user must have <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> access.
   </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idg-msoperator-shared-logging-c-osolog-index-xml-1"></a>Configuring Index Patterns</h2></div></div></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> enables the dynamic mapping
  of fields. After configuring an index pattern, the indices that match the
  pattern are automatically scanned to display the list of index fields. This
  guarantees that the fields are correctly visualized in the dashboard.
 </p><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> ships with a preconfigured
  index pattern that allows you to instantly explore your Elasticsearch indices
  when accessing the dashboard for the first time. You can create additional
  patterns to view and analyze specific sets of data. One or multiple patterns
  can be created per project. When you create additional patterns, you have to
  set one of them as the default.
 </p><p>
  To configure an additional index pattern, use <span class="guilabel">Settings &gt;
  Indices</span>. Click the index pattern that is displayed in the
  <span class="guilabel">Index Patterns</span> field on the left, and use the
  <span class="guilabel">Add New</span> option.
 </p><p>
  Indices that match the pattern you define must exist in the Elasticsearch
  database, and they must contain data. For an index pattern, you specify the
  following elements:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    <span class="guilabel">Index contains time-based events</span>. It is recommended
    that this option is selected. This improves search performance by enabling
    searches only on those indices that contain data on time-based events.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Use event times to create index names</span>. It is
    recommended that this option is selected. This improves search performance
    by enabling searches only on those indices that contain data in the time
    range you specify.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Index pattern interval</span>. Select
    <code class="literal">Daily</code> as index pattern interval. Daily intervals are
    supported by the Monitoring Service.
   </p></li><li class="listitem"><p>
    <span class="guilabel">Index name or pattern</span>. The pattern allows you to
    define dynamic index names. Static text in a pattern is denoted using
    brackets. Replace the predefined pattern (<code class="literal">[logstash-]*</code>
    or <code class="literal">[logstash-]YYYY.MM.DD</code>) as follows:
   </p><p>
    Replace <code class="literal">logstash-</code> by the project ID of the OpenStack
    project whose log data is to be visualized in the dashboard.
   </p><p>
    Replace <code class="literal">*</code> or <code class="literal">YYYY.MM.DD</code> by
    <code class="literal">YYYY-MM-DD</code> as naming pattern. This naming pattern is
    supported by the Monitoring Service.
   </p><p>
    Example: <code class="literal">[557aff4bf007473d84069aca202a1633-]YYYY-MM-DD</code>
   </p></li><li class="listitem"><p>
    <span class="guilabel">Time-field name</span>. Select <code class="literal">@timestamp</code>
    as time-field name. <code class="literal">@timestamp</code> matches the
    <code class="literal">YYYY-MM-DD</code> naming pattern.
   </p></li></ul></div><p>
  The default index pattern is automatically loaded when you access the log
  management window. It is marked with an asterisk in front of the pattern name
  in the <span class="guilabel">Index Patterns</span> field at the top left corner of
  the <span class="guilabel">Settings</span> page. Select the pattern you want to set as
  the default from the <span class="guilabel">Index Patterns</span> field. The
  content of the log management window is instantly updated.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2747"></a>Monitoring Log Data</h2></div></div></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> provides alerting features
  for monitoring your log data. Specific log metrics support you in checking
  the severity of the entries in your log files. Log metrics are handled like
  any other metrics in <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. They
  complete the log management features and support you in analyzing and
  troubleshooting any issue that you encounter in your log data.
 </p><p>
  Using the log metrics for monitoring corresponds to using any other metrics:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    Use <span class="guilabel">Monitoring &gt; Alarm Definitions</span> to create, edit,
    and delete alarms for log data.
   </p></li><li class="listitem"><p>
    Use <span class="guilabel">Monitoring &gt; Notifications</span> to create, edit, and
    delete notifications for alarms.
   </p></li><li class="listitem"><p>
    Use <span class="guilabel">Monitoring &gt; Overview</span> to check whether there
    are any irregularities in your log data. As soon as you have defined an
    alarm for your log data and metrics data has been received, there is status
    information displayed on the <span class="guilabel">Overview</span> page.
   </p></li></ul></div><p>
  For details on using the log metrics, refer to
  <a class="xref" href="#idg-msoperator-shared-monitor-c-monitor-xml-1" title="Chapter 4. Monitoring">Chapter 4, <em>Monitoring</em></a>.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2766"></a>Troubleshooting</h2></div></div></div><p>
     Here are some common errors, and how to resolve them.
 </p><h5><a id="id2769"></a>Shard Failures</h5><p>
 This problem may occur the first time the Log Management Window is opened. It occurs because the Elasticsearch index for the Monasca project does not yet exist. A browser reload should fix the problem in most cases.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="100%"><tr><td><img src="images/kibana_shard_failure-2.jpg" width="100%" alt="Kibana shard failure" /></td></tr></table></div></div><h5><a id="id2779"></a>Oops! Looks like something went wrong</h5><p>
This problem happens when you were previously logged into Horizon and the session expired, leaving a stale session state that confuses Kibana. In this case, re-login to Horizon and then reload Kibana to fix the problem.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="100%"><tr><td><img src="images/kibana_oops.png" width="100%" alt="Oops!" /></td></tr></table></div></div><h5><a id="id2789"></a>No results found</h5><p>
This may be due to an overly narrow time window (that is, no logs were sent in the last 15 minutes, which is the default time window). Try increasing the time window with the drop-down box in the screen's top right corner. If the problem persists verify that log agents are running properly; make sure the <code class="literal">openstack-monasca-log-agent</code> service is running and check <code class="filename">/var/log/monasca-log-agent/agent.log</code> for errors on the agent nodes.
 </p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="100%"><tr><td><img src="images/kibana_noresults.png" width="100%" alt="No results" /></td></tr></table></div></div></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="id2801"></a>Appendix A. Supported Metrics</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#id2810">Standard Metrics</a></span></dt><dt><span class="section"><a href="#id2824">Additional Metrics</a></span></dt></dl></div><p>
  The sections below describe the metrics supported by <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span>:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     Standard metrics for general monitoring of servers and networks.
    </p></li><li class="listitem"><p>
     Additional metrics for monitoring specific servers and services.
    </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2810"></a>Standard Metrics</h2></div></div></div><p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> supports the following
  standard metrics for monitoring servers and networks. These metrics usually
  do not require specific settings. The metrics are grouped by metrics types.
  Each metrics type references a set of related metrics.
 </p><h5><a id="id2814"></a>cpu.yaml</h5><p>
  Metrics on CPU usage, e.g. the percentage of time the CPU is idle when no I/O
  requests are in progress, or the percentage of time the CPU is used at system
  level or user level.
 </p><h5><a id="id2816"></a>disk.yaml</h5><p>
  Metrics on disk space, e.g. the percentage of disk space that is used on a
  device, or the total amount of disk space aggregated across all the disks on
  a particular node.
 </p><h5><a id="id2818"></a>load.yaml</h5><p>
  Metrics on the average system load over different periods (e.g. 1 minute, 5
  minutes, or 15 minutes).
 </p><h5><a id="id2820"></a>memory.yaml</h5><p>
  Metrics on memory usage, e.g. the number of megabytes of total memory or free
  memory, or the percentage of free swap memory.
 </p><h5><a id="id2822"></a>network.yaml</h5><p>
  Metrics on the network, e.g. the number of network bytes received or sent per
  second, or the number of network errors on incoming or outgoing network
  traffic per second.
 </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2824"></a>Additional Metrics</h2></div></div></div><p>
  In addition to the standard metrics, SUSE OpenStack Cloud Monitoring
  automatically adds the following additional metrics to the monasca agent
  configuration on the Monitoring Node.
 </p><h5><a id="id2827"></a>elastic.yaml</h5><p>
  Elastic checks gather metrics for Elasticsearch databases, such as the Log
  Database of <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. The
  configuration file must specify the URL for HTTP requests. If basic
  authentication is used, for example,
  <code class="literal">elasticsearch-http-basic</code>, the configuration file must also
  specify the user name and password for every instance that requires
  authentication.
 </p><p>
  The agent installer automatically creates the <code class="literal">elastic.yaml</code>
  configuration file in the <code class="literal">/etc/monasca/agent/conf.d/</code>
  directory. If there is an Elasticsearch database instance installed on the
  machine where the agent is installed, you have to specify the configuration
  information in the <code class="literal">elastic.yaml</code> file after the
  installation.
 </p><p>
  Example configuration:
 </p><pre class="screen">init_config: null
instances:
- dimensions:
    component: elasticsearch
    service: monitoring
  url: http://localhost:9200
  username: username
  password: password</pre><h5><a id="id2837"></a>http_check.yaml</h5><p>
  HTTP endpoint checks perform up/down checks on HTTP endpoints. Based on a
  list of URLs, the agent sends an HTTP request and reports success or failure
  to the Monitoring Service.
 </p><p>
  Crowbar configures HTTP checks for the following services on the Monitoring Node:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
    monasca-api
   </p></li><li class="listitem"><p>
    monasca-log-api
   </p></li><li class="listitem"><p>
    Kibana
   </p></li><li class="listitem"><p>
    Monasca Persister
   </p></li></ul></div><h5><a id="id2849"></a>http_metrics.yaml</h5><p>
  HTTP metrics checks retrieve metrics from any URL that returns a JSON response.
  Based on a list of URLs, the agent can dispatch an HTTP request and parse the
  desired metrics from the JSON response.
 </p><p>
  Crowbar configures a HTTP metrics check for the monasca-persister service
  running on the Monitoring Node.
 </p><h5><a id="id2852"></a>kafka_consumer.yaml</h5><p>
  Kafka consumer checks gather metrics related to services consuming Kafka
  topics, such as the Persister or Notification Engine of <span class="phrase">SUSE
  OpenStack Cloud Monitoring</span>.
 </p><p>
  Crowbar configures Kafka consumer checks for the Kafka service running on
  the Monitoring Node.
 </p><h5><a id="id2856"></a>kibana.yaml </h5><p>
  Kibana checks gather various statistics such as load, heap size and usage, and
  various request performance statistics from a Kibana server. The checks
  retrieve these statistics from Kibana's status endpoint.
 </p><p>
  Crowbar configures Kibana checks for the Kibana service running on
  the Monitoring Node.
  </p><h5><a id="id2859"></a>mysql.yaml</h5><p>
  MySQL checks gather various statistics such as buffer sizes and usage,
  reads/writes, network connections, etc. from a MySQL database server. MariaDB
  is also supported. The metrics are drawn from the server status variables of MySQL.
  </p><p>
  Crowbar configures the MySQL checks for the MariaDB database service running on
  the Monitoring Node.
 </p><h5><a id="id2862"></a>ntp.yaml</h5><p>
  Network Time Protocol checks monitor the time offset between an NTP server and
  the machine the agent is running on.
 </p><p>
  Crowbar configures the NTP check to monitor the offset between the Monitoring
  Node and the NTP server running on the Administration Server.
 </p><h5><a id="id2865"></a>postfix.yaml</h5><p>
  Postfix checks monitor the queue sizes (incoming, active, deferred) on a
  Postfix mail server.
 </p><p>
  Crowbar configures Postfix checks for the Postfix service running on the
  Monitoring Node.
 </p><h5><a id="id2868"></a>zk.yaml</h5><p>
  ZooKeeper checks gather metrics on nodes and connections covered by
  ZooKeeper, a centralized service for maintaining configuration information,
  naming, providing distributed synchronization, and providing group services.
  The check parses the result of the ZooKeeper <code class="literal">stat</code> admin
  command.
 </p><p>
  Crowbar configures ZooKeeper checks for the ZooKeeper instance running on the
  Monitoring Node.
 </p></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="reference-7A5FB297419F4787832C9125D7CAC80F"></a>Appendix B. Glossary</h1></div></div></div><h5><a id="id2874"></a>Application Operator</h5><p>
  A person with limited access to cloud resources in OpenStack. An application
  operator provides services to end users or hosts services for his own
  development activities.
 </p><h5><a id="id2876"></a>Dimension</h5><p>
  A key/value pair that allows for a flexible and concise description of the
  data to be monitored, for example, region, availability zone, service tier,
  or resource ID. Each dimension describes a specific characteristic of the
  metrics to be monitored.
 </p><p>
  In <span class="phrase">SUSE OpenStack Cloud Monitoring</span>, metrics are uniquely
  identified by a name and a set of dimensions. Dimensions can serve as a
  filter for the monitoring data.
 </p><h5><a id="id2880"></a>Elasticsearch</h5><p>
  An open source application that provides a highly scalable full-text search
  and analytics engine. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
  Elasticsearch as the underlying technology for storing, searching, and
  analyzing large volumes of log data.
 </p><h5><a id="id2883"></a>Grafana</h5><p>
  An open source application for visualizing large-scale measurement data.
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> integrates with Grafana for
  visualizing the monitoring data.
 </p><h5><a id="id2886"></a>Infrastructure as a Service (IaaS)</h5><p>
  The delivery of computer infrastructure (typically a platform virtualization
  environment) as a service.
 </p><h5><a id="id2888"></a>InfluxDB</h5><p>
  An open source time-series database that supports high write loads and large
  data set storage. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
  InfluxDB as the underlying technology for storing metrics and the alarm
  history.
 </p><h5><a id="id2891"></a>Kibana</h5><p>
  An open source analytics and visualization platform designed to work with
  Elasticsearch. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> integrates
  with Kibana for visualizing the log data.
 </p><h5><a id="id2894"></a>Logstash</h5><p>
  An open source application that provides a data collection engine with
  pipelining capabilities. <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
  integrates with Logstash for collecting, processing, and outputting logs.
 </p><h5><a id="id2897"></a>MariaDB</h5><p>
  An open source relational database that provides an SQL-compliant interface
  for accessing data. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
  MariaDB as the underlying technology for storing configuration information,
  alarm definitions, and notification methods.
 </p><h5><a id="id2900"></a>Metrics</h5><p>
  Self-describing data structures that allow for a flexible and concise
  description of the data to be monitored. Metrics values represent the actual
  monitoring data that is collected and presented in <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span>.
 </p><h5><a id="id2903"></a>Monasca</h5><p>
  An open source Monitoring as a Service solution that integrates with
  OpenStack. It forms the core of <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span>.
 </p><h5><a id="id2906"></a>Monitoring Service Operator</h5><p>
  A person responsible for maintaining and administrating <span class="phrase">SUSE
  OpenStack Cloud Monitoring</span>.
 </p><h5><a id="id2909"></a>OpenStack Operator</h5><p>
  A person responsible for maintaining and administrating OpenStack, the
  underlying platform technology of <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span>.
 </p><h5><a id="id2912"></a>Platform as a Service (PaaS)</h5><p>
  The delivery of a computing platform and solution stack as a service.
 </p><h5><a id="id2914"></a>Software as a Service (SaaS)</h5><p>
  A model of software deployment where a provider licenses an application to
  customers for use as a service on demand.
 </p></div></div></body></html>