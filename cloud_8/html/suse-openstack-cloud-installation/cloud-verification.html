<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cloud Verification | Installing with Cloud Lifecycle Manager | SUSE OpenStack Cloud 8</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="8" /><meta name="book-title" content="Installing with Cloud Lifecycle Manager" /><meta name="chapter-title" content="Chapter 26. Cloud Verification" /><meta name="description" content="Once you have completed your cloud deployment, these are some of the common post-installation tasks you may need to perform to verify your cloud installation." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><link rel="home" href="index.html" title="Documentation" /><link rel="up" href="post-install.html" title="Part III. Post-Installation" /><link rel="prev" href="post-install-overview.html" title="Chapter 25. Overview" /><link rel="next" href="ui-verification.html" title="Chapter 27. UI Verification" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Installing with Cloud Lifecycle Manager"><span class="book-icon">Installing with Cloud Lifecycle Manager</span></a><span> › </span><a class="crumb" href="post-install.html">Post-Installation</a><span> › </span><a class="crumb" href="cloud-verification.html">Cloud Verification</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Installing with Cloud Lifecycle Manager</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="install-overview.html"><span class="number"> </span><span class="name">Installation Overview</span></a></li><li class="inactive"><a href="preinstall.html"><span class="number">I </span><span class="name">Pre-Installation</span></a><ol><li class="inactive"><a href="preinstall-overview.html"><span class="number">1 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preinstall-checklist.html"><span class="number">2 </span><span class="name">Pre-Installation Checklist</span></a></li><li class="inactive"><a href="cha-depl-dep-inst.html"><span class="number">3 </span><span class="name">Installing the Cloud Lifecycle Manager server</span></a></li><li class="inactive"><a href="app-deploy-smt-lcm.html"><span class="number">4 </span><span class="name">Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)</span></a></li><li class="inactive"><a href="cha-depl-repo-conf-lcm.html"><span class="number">5 </span><span class="name">Software Repository Setup</span></a></li><li class="inactive"><a href="multipath-boot-from-san.html"><span class="number">6 </span><span class="name">Boot from SAN and Multipath Configuration</span></a></li></ol></li><li class="inactive"><a href="cloudinstallation.html"><span class="number">II </span><span class="name">Cloud Installation</span></a><ol><li class="inactive"><a href="cloudinstallation-overview.html"><span class="number">7 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preparing-standalone.html"><span class="number">8 </span><span class="name">Preparing for Stand-Alone Deployment</span></a></li><li class="inactive"><a href="install-gui.html"><span class="number">9 </span><span class="name">Installing with the Install UI</span></a></li><li class="inactive"><a href="using-git.html"><span class="number">10 </span><span class="name">Using Git for Configuration Management</span></a></li><li class="inactive"><a href="install-standalone.html"><span class="number">11 </span><span class="name">Installing a Stand-Alone Cloud Lifecycle Manager</span></a></li><li class="inactive"><a href="install-kvm.html"><span class="number">12 </span><span class="name">Installing Mid-scale and Entry-scale KVM</span></a></li><li class="inactive"><a href="DesignateInstallOverview.html"><span class="number">13 </span><span class="name">DNS Service Installation Overview</span></a></li><li class="inactive"><a href="MagnumOverview.html"><span class="number">14 </span><span class="name">Magnum Overview</span></a></li><li class="inactive"><a href="install-esx-ovsvapp.html"><span class="number">15 </span><span class="name">Installing ESX Computes and OVSvAPP</span></a></li><li class="inactive"><a href="integrate-nsx-vsphere.html"><span class="number">16 </span><span class="name">Integrating NSX for vSphere</span></a></li><li class="inactive"><a href="install-ironic-overview.html"><span class="number">17 </span><span class="name">Installing Baremetal (Ironic)</span></a></li><li class="inactive"><a href="install-swift.html"><span class="number">18 </span><span class="name">Installation for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Entry-scale Cloud with Swift Only</span></a></li><li class="inactive"><a href="install-sles-compute.html"><span class="number">19 </span><span class="name">Installing SLES Compute</span></a></li><li class="inactive"><a href="install-ardana-manila.html"><span class="number">20 </span><span class="name">Installing Manila and Creating Manila Shares</span></a></li><li class="inactive"><a href="install-heat-templates.html"><span class="number">21 </span><span class="name">Installing SUSE CaaS Platform Heat Templates</span></a></li><li class="inactive"><a href="integrations.html"><span class="number">22 </span><span class="name">Integrations</span></a></li><li class="inactive"><a href="troubleshooting-installation.html"><span class="number">23 </span><span class="name">Troubleshooting the Installation</span></a></li><li class="inactive"><a href="esx-troubleshooting-installation.html"><span class="number">24 </span><span class="name">Troubleshooting the ESX</span></a></li></ol></li><li class="inactive"><a href="post-install.html"><span class="number">III </span><span class="name">Post-Installation</span></a><ol><li class="inactive"><a href="post-install-overview.html"><span class="number">25 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="cloud-verification.html"><span class="number">26 </span><span class="name">Cloud Verification</span></a></li><li class="inactive"><a href="ui-verification.html"><span class="number">27 </span><span class="name">UI Verification</span></a></li><li class="inactive"><a href="install-openstack-clients.html"><span class="number">28 </span><span class="name">Installing OpenStack Clients</span></a></li><li class="inactive"><a href="tls30.html"><span class="number">29 </span><span class="name">Configuring Transport Layer Security (TLS)</span></a></li><li class="inactive"><a href="config-availability-zones.html"><span class="number">30 </span><span class="name">Configuring Availability Zones</span></a></li><li class="inactive"><a href="OctaviaInstall.html"><span class="number">31 </span><span class="name">Configuring Load Balancer as a Service</span></a></li><li class="inactive"><a href="postinstall-checklist.html"><span class="number">32 </span><span class="name">Other Common Post-Installation Tasks</span></a></li></ol></li><li class="inactive"><a href="cha-inst-trouble.html"><span class="number">33 </span><span class="name">Support</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 25. Overview" href="post-install-overview.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 27. UI Verification" href="ui-verification.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Installing with Cloud Lifecycle Manager"><span class="book-icon">Installing with Cloud Lifecycle Manager</span></a><span> › </span><a class="crumb" href="post-install.html">Post-Installation</a><span> › </span><a class="crumb" href="cloud-verification.html">Cloud Verification</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 25. Overview" href="post-install-overview.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 27. UI Verification" href="ui-verification.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cloud-verification"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber "><span class="phrase"><span class="phrase">8</span></span></span></div><div><h2 class="title"><span class="number">26 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Cloud Verification</span> <a title="Permalink" class="permalink" href="cloud-verification.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-cloud_verification.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-cloud_verification.xml</li><li><span class="ds-label">ID: </span>cloud-verification</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="cloud-verification.html#api-verification"><span class="number">26.1 </span><span class="name">API Verification</span></a></span></dt></dl></div></div><p>
  Once you have completed your cloud deployment, these are some of the common
  post-installation tasks you may need to perform to verify your cloud
  installation.
 </p><div class="sect1" id="api-verification"><div class="titlepage"><div><div><h2 class="title"><span class="number">26.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">API Verification</span> <a title="Permalink" class="permalink" href="cloud-verification.html#api-verification">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>api-verification</li></ul></div></div></div></div><p>
  <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span> provides a tool, Tempest, that you can use to verify that
  your cloud deployment completed successfully:
 </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
    <a class="xref" href="cloud-verification.html#sec-api-verification-prereq" title="26.1.1. Prerequisites">Section 26.1.1, “Prerequisites”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="cloud-verification.html#sec-api-verification-tempest" title="26.1.2. Tempest Integration Tests">Section 26.1.2, “Tempest Integration Tests”</a>
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      <a class="xref" href="cloud-verification.html#sec-api-verification-running" title="26.1.3. Running the Tests">Section 26.1.3, “Running the Tests”</a>
     </p></li><li class="listitem "><p>
      <a class="xref" href="cloud-verification.html#sec-api-verification-result" title="26.1.4. Viewing Test Results">Section 26.1.4, “Viewing Test Results”</a>
     </p></li><li class="listitem "><p>
      <a class="xref" href="cloud-verification.html#sec-api-verification-custom" title="26.1.5. Customizing the Test Run">Section 26.1.5, “Customizing the Test Run”</a>
     </p></li></ul></div></li><li class="listitem "><p>
    <a class="xref" href="ui-verification.html#sec-verify-block-storage-volume" title="27.1. Verifying Your Block Storage Backend">Section 27.1, “Verifying Your Block Storage Backend”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="ui-verification.html#sec-verify-block-storage-swift" title="27.2. Verify the Object Storage (Swift) Operations">Section 27.2, “Verify the Object Storage (Swift) Operations”</a>
   </p></li></ul></div><div class="sect2" id="sec-api-verification-prereq"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Prerequisites</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-prereq">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-prereq</li></ul></div></div></div></div><p>
   The verification tests rely on you having an external network setup and a
   cloud image in your image (Glance) repository. Run the following playbook to
   configure your cloud:
  </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts ardana-cloud-configure.yml</pre></div><div id="id-1.4.6.3.3.4.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>
    In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, the EXT_NET_CIDR setting for the external network is
    now specified in the input model - see
    <span class="intraxref">Book “<em class="citetitle ">Planning an Installation with Cloud Lifecycle Manager</em>”, Chapter 6 “Configuration Objects”, Section 6.16 “Configuration Data”, Section 6.16.2 “Neutron Configuration Data”, Section 6.16.2.2 “neutron-external-networks”</span>.
   </p></div></div><div class="sect2" id="sec-api-verification-tempest"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Tempest Integration Tests</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-tempest">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-tempest</li></ul></div></div></div></div><p>
   Tempest is a set of integration tests for OpenStack API validation,
   scenarios, and other specific tests to be run against a live OpenStack
   cluster. In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, Tempest has been modeled as a service and this
   gives you the ability to locate Tempest anywhere in the cloud. It is
   recommended that you install Tempest on your Cloud Lifecycle Manager node - that
   is where it resides by default in a new installation.
  </p><p>
   A version of the upstream
   <a class="link" href="http://docs.openstack.org/developer/tempest/" target="_blank">Tempest</a>
   integration tests is pre-deployed on the Cloud Lifecycle Manager node.
   For details on what Tempest is testing, you can check the contents of this
   file on your Cloud Lifecycle Manager:
  </p><div class="verbatim-wrap"><pre class="screen">/opt/stack/tempest/run_filters/ci.txt</pre></div><p>
   You can use these embedded tests to verify if the deployed cloud is
   functional.
  </p><p>
   For more information on running Tempest tests, see
   <a class="link" href="https://git.openstack.org/cgit/openstack/tempest/tree/README.rst" target="_blank">Tempest
   - The OpenStack Integration Test Suite</a>.
  </p><div id="id-1.4.6.3.3.5.7" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important</h6><p>
    Running these tests requires access to the deployed cloud's identity admin
    credentials
   </p></div><p>
   Tempest creates and deletes test accounts and test resources for test
   purposes.
  </p><p>
   In certain cases Tempest might fail to clean-up some of test resources after
   a test is complete, for example in case of failed tests.
  </p></div><div class="sect2" id="sec-api-verification-running"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Running the Tests</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-running">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-running</li></ul></div></div></div></div><p>
   To run the default set of Tempest tests:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in to the Cloud Lifecycle Manager.
    </p></li><li class="step "><p>
     Ensure you can access your cloud:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts cloud-client-setup.yml
source /etc/environment</pre></div></li><li class="step "><p>
     Run the tests:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts tempest-run.yml</pre></div></li></ol></div></div><p>
   Optionally, you can <a class="xref" href="cloud-verification.html#sec-api-verification-custom" title="26.1.5. Customizing the Test Run">Section 26.1.5, “Customizing the Test Run”</a>.
  </p></div><div class="sect2" id="sec-api-verification-result"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Viewing Test Results</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-result">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-result</li></ul></div></div></div></div><p>
   Tempest is deployed under <code class="literal">/opt/stack/tempest</code>. Test
   results are written in a log file in the following directory:
  </p><div class="verbatim-wrap"><pre class="screen">/opt/stack/tempest/logs</pre></div><p>
   A detailed log file is written to:
  </p><div class="verbatim-wrap"><pre class="screen">/opt/stack/tempest/tempest.log</pre></div><p>
   The results are also stored in the <code class="literal">testrepository</code>
   database.
  </p><p>
   To access the results after the run:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in to the Cloud Lifecycle Manager.
    </p></li><li class="step "><p>
     Change to the <code class="literal">tempest</code> directory and list the test
     results:
    </p><div class="verbatim-wrap"><pre class="screen">cd /opt/stack/tempest
./venv/bin/testr last</pre></div></li></ol></div></div><div id="id-1.4.6.3.3.7.9" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important</h6><p>
    If you encounter an error saying "local variable 'run_subunit_content'
    referenced before assignment", you may need to log in as the
    <code class="literal">tempest</code> user to run this command. This is due to a known
    issue reported at
    <a class="link" href="https://bugs.launchpad.net/testrepository/+bug/1348970" target="_blank">https://bugs.launchpad.net/testrepository/+bug/1348970</a>.
   </p></div><p>
   See
   <a class="link" href="https://testrepository.readthedocs.org/en/latest/" target="_blank">Test
   Repository Users Manual</a> for more details on how to manage the test
   result repository.
  </p></div><div class="sect2" id="sec-api-verification-custom"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Customizing the Test Run</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-custom">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-custom</li></ul></div></div></div></div><p>
   There are several ways available to customize which tests will be executed.
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <a class="xref" href="cloud-verification.html#sec-api-verification-service" title="26.1.6. Run Tests for Specific Services and Exclude Specific Features">Section 26.1.6, “Run Tests for Specific Services and Exclude Specific Features”</a>
    </p></li><li class="listitem "><p>
     <a class="xref" href="cloud-verification.html#sec-api-verification-list" title="26.1.7. Run Tests Matching a Series of White and Blacklists">Section 26.1.7, “Run Tests Matching a Series of White and Blacklists”</a>
    </p></li></ul></div></div><div class="sect2" id="sec-api-verification-service"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Run Tests for Specific Services and Exclude Specific Features</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-service">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-service</li></ul></div></div></div></div><p>
   Tempest allows you to test specific services and features using the
   <code class="literal">tempest.conf</code> configuration file.
  </p><p>
   A working configuration file with inline documentation is deployed under
   <code class="literal">/opt/stack/tempest/etc/</code>.
  </p><p>
   To use this, follow these steps:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in to the Cloud Lifecycle Manager.
    </p></li><li class="step "><p>
     Edit the
     <code class="literal">/opt/stack/tempest/configs/tempest_region0.conf</code> file.
    </p></li><li class="step "><p>
     To test specific service, edit the <code class="literal">[service_available]</code>
     section and clear the comment character <code class="literal">#</code> and set a
     line to <code class="literal">true</code> to test that service or
     <code class="literal">false</code> to not test that service.
    </p><div class="verbatim-wrap"><pre class="screen">cinder = true
neutron = false</pre></div></li><li class="step "><p>
     To test specific features, edit any of the
     <code class="literal">*_feature_enabled</code> sections to enable or disable tests
     on specific features of a service.
    </p><div class="verbatim-wrap"><pre class="screen">[volume-feature-enabled]
[compute-feature-enabled]
[identity-feature-enabled]
[image-feature-enabled]
[network-feature-enabled]
[object-storage-feature-enabled]</pre></div><div class="verbatim-wrap"><pre class="screen">#Is the v2 identity API enabled (boolean value)
api_v2 = true
#Is the v3 identity API enabled (boolean value)
api_v3 = false</pre></div></li><li class="step "><p>
     Then run tests normally
    </p></li></ol></div></div></div><div class="sect2" id="sec-api-verification-list"><div class="titlepage"><div><div><h3 class="title"><span class="number">26.1.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Run Tests Matching a Series of White and Blacklists</span> <a title="Permalink" class="permalink" href="cloud-verification.html#sec-api-verification-list">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/installation-installation-api_verification.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-api_verification.xml</li><li><span class="ds-label">ID: </span>sec-api-verification-list</li></ul></div></div></div></div><p>
   You can run tests against specific scenarios by editing or creating a run
   filter file.
  </p><p>
   Run filter files are deployed under
   <code class="literal">/opt/stack/tempest/run_filters</code>.
  </p><p>
   Use run filters to whitelist or blacklist specific tests or groups of tests:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     lines starting with # or empty are ignored
    </p></li><li class="listitem "><p>
     lines starting with <code class="literal">+</code> are whitelisted
    </p></li><li class="listitem "><p>
     lines starting with <code class="literal">-</code> are blacklisted
    </p></li><li class="listitem "><p>
     lines not matching any of the above conditions are blacklisted
    </p></li></ul></div><p>
   If whitelist is empty, all available tests are fed to blacklist. If
   blacklist is empty, all tests from whitelist are returned.
  </p><p>
   Whitelist is applied first. The blacklist is executed against the set of
   tests returned by the whitelist.
  </p><p>
   To run whitelist and blacklist tests:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in to the Cloud Lifecycle Manager.
    </p></li><li class="step "><p>
     Make sure you can access the cloud:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts cloud-client-setup.yml
source /etc/environment</pre></div></li><li class="step "><p>
     Run the tests:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts tempest-run.yml  -e run_filter &lt;run_filter_name&gt;</pre></div></li></ol></div></div><p>
   Note that the run_filter_name is the name of the run_filter file except for
   the extension. For instance, to run using the filter from the file
   /opt/stack/tempest/run_filters/ci.txt, use the following:
  </p><div class="verbatim-wrap"><pre class="screen">ansible-playbook -i hosts/verb_hosts tempest-run.yml -e run_filter=ci</pre></div><p>
   Documentation on the format of white and black-lists is available at:
  </p><div class="verbatim-wrap"><pre class="screen">/opt/stack/tempest/tests2skip.py</pre></div><p>
   Example:
  </p><p>
   The following entries run API tests, exclude tests that are less relevant
   for deployment validation, such as negative, admin, cli and third-party (EC2)
   tests:
  </p><div class="verbatim-wrap"><pre class="screen">+tempest\.api\.*
*[Aa]dmin.*
*[Nn]egative.*
- tempest\.cli.*
- tempest\.thirdparty\.*</pre></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="ui-verification.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 27 </span>UI Verification</span></a><a class="nav-link" href="post-install-overview.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 25 </span>Overview</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>