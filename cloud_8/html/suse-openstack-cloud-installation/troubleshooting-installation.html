<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Troubleshooting the Installation | Installing with Cloud Lifecycle Manager | SUSE OpenStack Cloud 8</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="8" /><meta name="book-title" content="Installing with Cloud Lifecycle Manager" /><meta name="chapter-title" content="Chapter 23. Troubleshooting the Installation" /><meta name="description" content="We have gathered some of the common issues that occur during installation and organized them by when they occur during the installation. These sections will coincide with the steps labeled in the installation instructions." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><link rel="home" href="index.html" title="Documentation" /><link rel="up" href="cloudinstallation.html" title="Part II. Cloud Installation" /><link rel="prev" href="integrations.html" title="Chapter 22. Integrations" /><link rel="next" href="esx-troubleshooting-installation.html" title="Chapter 24. Troubleshooting the ESX" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Documentation"><span class="book-icon">Documentation</span></a><span> › </span><a class="crumb" href="book-installation.html">Installing with Cloud Lifecycle Manager</a><span> › </span><a class="crumb" href="cloudinstallation.html">Cloud Installation</a><span> › </span><a class="crumb" href="troubleshooting-installation.html">Troubleshooting the Installation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Installing with Cloud Lifecycle Manager</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="install-overview.html"><span class="number"> </span><span class="name">Installation Overview</span></a></li><li class="inactive"><a href="preinstall.html"><span class="number">I </span><span class="name">Pre-Installation</span></a><ol><li class="inactive"><a href="preinstall-overview.html"><span class="number">1 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preinstall-checklist.html"><span class="number">2 </span><span class="name">Pre-Installation Checklist</span></a></li><li class="inactive"><a href="cha-depl-dep-inst.html"><span class="number">3 </span><span class="name">Installing the Cloud Lifecycle Manager server</span></a></li><li class="inactive"><a href="app-deploy-smt-lcm.html"><span class="number">4 </span><span class="name">Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)</span></a></li><li class="inactive"><a href="cha-depl-repo-conf-lcm.html"><span class="number">5 </span><span class="name">Software Repository Setup</span></a></li><li class="inactive"><a href="multipath-boot-from-san.html"><span class="number">6 </span><span class="name">Boot from SAN and Multipath Configuration</span></a></li></ol></li><li class="inactive"><a href="cloudinstallation.html"><span class="number">II </span><span class="name">Cloud Installation</span></a><ol><li class="inactive"><a href="cloudinstallation-overview.html"><span class="number">7 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preparing-standalone.html"><span class="number">8 </span><span class="name">Preparing for Stand-Alone Deployment</span></a></li><li class="inactive"><a href="install-gui.html"><span class="number">9 </span><span class="name">Installing with the Install UI</span></a></li><li class="inactive"><a href="using-git.html"><span class="number">10 </span><span class="name">Using Git for Configuration Management</span></a></li><li class="inactive"><a href="install-standalone.html"><span class="number">11 </span><span class="name">Installing a Stand-Alone Cloud Lifecycle Manager</span></a></li><li class="inactive"><a href="install-kvm.html"><span class="number">12 </span><span class="name">Installing Mid-scale and Entry-scale KVM</span></a></li><li class="inactive"><a href="DesignateInstallOverview.html"><span class="number">13 </span><span class="name">DNS Service Installation Overview</span></a></li><li class="inactive"><a href="MagnumOverview.html"><span class="number">14 </span><span class="name">Magnum Overview</span></a></li><li class="inactive"><a href="install-esx-ovsvapp.html"><span class="number">15 </span><span class="name">Installing ESX Computes and OVSvAPP</span></a></li><li class="inactive"><a href="integrate-nsx-vsphere.html"><span class="number">16 </span><span class="name">Integrating NSX for vSphere</span></a></li><li class="inactive"><a href="install-ironic-overview.html"><span class="number">17 </span><span class="name">Installing Baremetal (Ironic)</span></a></li><li class="inactive"><a href="install-swift.html"><span class="number">18 </span><span class="name">Installation for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Entry-scale Cloud with Swift Only</span></a></li><li class="inactive"><a href="install-sles-compute.html"><span class="number">19 </span><span class="name">Installing SLES Compute</span></a></li><li class="inactive"><a href="install-ardana-manila.html"><span class="number">20 </span><span class="name">Installing Manila and Creating Manila Shares</span></a></li><li class="inactive"><a href="install-heat-templates.html"><span class="number">21 </span><span class="name">Installing SUSE CaaS Platform Heat Templates</span></a></li><li class="inactive"><a href="integrations.html"><span class="number">22 </span><span class="name">Integrations</span></a></li><li class="inactive"><a href="troubleshooting-installation.html"><span class="number">23 </span><span class="name">Troubleshooting the Installation</span></a></li><li class="inactive"><a href="esx-troubleshooting-installation.html"><span class="number">24 </span><span class="name">Troubleshooting the ESX</span></a></li></ol></li><li class="inactive"><a href="post-install.html"><span class="number">III </span><span class="name">Post-Installation</span></a><ol><li class="inactive"><a href="post-install-overview.html"><span class="number">25 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="cloud-verification.html"><span class="number">26 </span><span class="name">Cloud Verification</span></a></li><li class="inactive"><a href="ui-verification.html"><span class="number">27 </span><span class="name">UI Verification</span></a></li><li class="inactive"><a href="install-openstack-clients.html"><span class="number">28 </span><span class="name">Installing OpenStack Clients</span></a></li><li class="inactive"><a href="tls30.html"><span class="number">29 </span><span class="name">Configuring Transport Layer Security (TLS)</span></a></li><li class="inactive"><a href="config-availability-zones.html"><span class="number">30 </span><span class="name">Configuring Availability Zones</span></a></li><li class="inactive"><a href="OctaviaInstall.html"><span class="number">31 </span><span class="name">Configuring Load Balancer as a Service</span></a></li><li class="inactive"><a href="postinstall-checklist.html"><span class="number">32 </span><span class="name">Other Common Post-Installation Tasks</span></a></li></ol></li><li class="inactive"><a href="cha-inst-trouble.html"><span class="number">33 </span><span class="name">Support</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 22. Integrations" href="integrations.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 24. Troubleshooting the ESX" href="esx-troubleshooting-installation.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Documentation"><span class="book-icon">Documentation</span></a><span> › </span><a class="crumb" href="book-installation.html">Installing with Cloud Lifecycle Manager</a><span> › </span><a class="crumb" href="cloudinstallation.html">Cloud Installation</a><span> › </span><a class="crumb" href="troubleshooting-installation.html">Troubleshooting the Installation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 22. Integrations" href="integrations.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 24. Troubleshooting the ESX" href="esx-troubleshooting-installation.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="troubleshooting-installation"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber "><span class="phrase"><span class="phrase">8</span></span></span></div><div><h2 class="title"><span class="number">23 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting the Installation</span> <a title="Permalink" class="permalink" href="troubleshooting-installation.html#">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installation_troubleshooting.xml</li><li><span class="ds-label">ID: </span>troubleshooting-installation</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="troubleshooting-installation.html#sec-trouble-deployer-setup"><span class="number">23.1 </span><span class="name">Issues during Cloud Lifecycle Manager Setup</span></a></span></dt><dt><span class="section"><a href="troubleshooting-installation.html#sec-trouble-config-processor"><span class="number">23.2 </span><span class="name">Issues while Updating Configuration Files</span></a></span></dt><dt><span class="section"><a href="troubleshooting-installation.html#sec-trouble-deploy-cloud"><span class="number">23.3 </span><span class="name">Issues while Deploying the Cloud</span></a></span></dt></dl></div></div><p>
  We have gathered some of the common issues that occur during installation and
  organized them by when they occur during the installation. These sections
  will coincide with the steps labeled in the installation instructions.
 </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <a class="xref" href="troubleshooting-installation.html#sec-trouble-deployer-setup" title="23.1. Issues during Cloud Lifecycle Manager Setup">Section 23.1, “Issues during Cloud Lifecycle Manager Setup”</a>
   </p></li><li class="listitem "><p>
     <a class="xref" href="troubleshooting-installation.html#sec-trouble-config-processor" title="23.2. Issues while Updating Configuration Files">Section 23.2, “Issues while Updating Configuration Files”</a>
   </p></li><li class="listitem "><p>
    <a class="xref" href="troubleshooting-installation.html#sec-trouble-deploy-cloud" title="23.3. Issues while Deploying the Cloud">Section 23.3, “Issues while Deploying the Cloud”</a>
   </p></li></ul></div><div class="sect1" id="sec-trouble-deployer-setup"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Issues during Cloud Lifecycle Manager Setup</span> <a title="Permalink" class="permalink" href="troubleshooting-installation.html#sec-trouble-deployer-setup">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installation_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-trouble-deployer-setup</li></ul></div></div></div></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.4.2"><span class="name">Issue: Running the ardana-init.bash script when configuring your Cloud Lifecycle Manager does not complete</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.4.2">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   Part of what the <code class="literal">ardana-init.bash</code> script does is
   install Git. So if your DNS server(s) is/are not specified in your
   <code class="filename">/etc/resolv.conf</code> file, is not valid, or is not
   functioning properly on your Cloud Lifecycle Manager, it will not be able to
   complete.
  </p><p>
   To resolve this issue, double check your nameserver in your
   <code class="filename">/etc/resolv.conf</code> file and then re-run the script.
  </p></div><div class="sect1" id="sec-trouble-config-processor"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Issues while Updating Configuration Files</span> <a title="Permalink" class="permalink" href="troubleshooting-installation.html#sec-trouble-config-processor">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installation_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-trouble-config-processor</li></ul></div></div></div></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.5.2"><span class="name">Configuration Processor Fails Due to Wrong yml Format</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.5.2">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you receive the error below when running the configuration processor then
   you may have a formatting error:
  </p><div class="verbatim-wrap"><pre class="screen">TASK: [fail msg="Configuration processor run failed, see log output above for
details"]</pre></div><p>
   First you should check the Ansible log in the location below for more
   details on which yml file in your input model has the error:
  </p><div class="verbatim-wrap"><pre class="screen">~/.ansible/ansible.log</pre></div><p>
   Check the configuration file to locate and fix the error, keeping in mind
   the following tips below.
  </p><p>
   Check your files to ensure that they do not contain the following:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Non-ascii characters
    </p></li><li class="listitem "><p>
     Unneeded spaces
    </p></li></ul></div><p>
   Once you have fixed the formatting error in your files, commit the changes
   with these steps:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Commit your changes to Git:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
git add -A
git commit -m "My config or other commit message"</pre></div></li><li class="step "><p>
     Re-run the configuration processor playbook and confirm the error is not
     received again.
    </p></li></ol></div></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.5.12"><span class="name">Configuration processor fails with provider network OCTAVIA-MGMT-NET error</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.5.12">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you receive the error below when running the configuration processor then
   you have not correctly configured your VLAN settings for Octavia.
  </p><div class="verbatim-wrap"><pre class="screen">################################################################################,
# The configuration processor failed.
#   config-data-2.0           ERR: Provider network OCTAVIA-MGMT-NET host_routes:
# destination '192.168.10.0/24' is not defined as a Network in the input model.
# Add 'external: True' to this host_route if this is for an external network.
################################################################################</pre></div><p>
   To resolve the issue, ensure that your settings in
   <code class="literal">~/openstack/my_cloud/definition/data/neutron/neutron_config.yml</code>
   are correct for the VLAN setup for Octavia.
  </p><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.5.16"><span class="name">Changes Made to your Configuration Files</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.5.16">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you have made corrections to your configuration files and need to re-run
   the Configuration Processor, the only thing you need to do is commit your
   changes to your local Git repository:
  </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
git add -A
git commit -m "commit message"</pre></div><p>
   You can then re-run the configuration processor:
  </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.5.21"><span class="name">Configuration Processor Fails Because Encryption Key Does Not Meet Requirements</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.5.21">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you choose to set an encryption password when running the configuration
   processor, you may receive the following error if the chosen password does
   not meet the complexity requirements:
  </p><div class="verbatim-wrap"><pre class="screen">################################################################################
# The configuration processor failed.
#   encryption-key ERR: The Encryption Key does not meet the following requirement(s):
#       The Encryption Key must be at least 12 characters
#       The Encryption Key must contain at least 3 of following classes of characters:
#                           Uppercase Letters, Lowercase Letters, Digits, Punctuation
################################################################################</pre></div><p>
   If you receive the above error, run the configuration processor again and
   select a password that meets the complexity requirements detailed in the
   error message:
  </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div></div><div class="sect1" id="sec-trouble-deploy-cloud"><div class="titlepage"><div><div><h2 class="title"><span class="number">23.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Issues while Deploying the Cloud</span> <a title="Permalink" class="permalink" href="troubleshooting-installation.html#sec-trouble-deploy-cloud">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installation_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-trouble-deploy-cloud</li></ul></div></div></div></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.6.2"><span class="name">Issue: If the site.yml playbook fails, you can query the log for the reason</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.6.2">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   Ansible is good about outputting the errors into the command line output,
   however if you would like to view the full log for any reason the location is:
  </p><div class="verbatim-wrap"><pre class="screen">~/.ansible/ansible.log</pre></div><p>
   This log is updated real time as you run Ansible playbooks.
  </p><div id="id-1.4.5.18.6.6" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip</h6><p>
    Use grep to parse through the log. Usage: <code class="literal">grep &lt;text&gt;
    ~/.ansible/ansible.log</code>
   </p></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.6.7"><span class="name">Issue: How to Wipe the Disks of your Machines</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.6.7">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you have re-run the <code class="literal">site.yml</code> playbook, you may need to
   wipe the disks of your nodes
  </p><p>
   You should run the <code class="filename">wipe_disks.yml</code> playbook only after
   re-running the <code class="literal">bm-reimage.yml</code> playbook but before you
   re-run the <code class="literal">site.yml</code> playbook.
  </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts wipe_disks.yml</pre></div><p>
   The playbook will show you the disks to be wiped in the output and allow you
   to confirm that you want to complete this action or abort it if you do not
   want to proceed. You can optionally use the <code class="literal">--limit
   &lt;NODE_NAME&gt;</code> switch on this playbook to restrict it to
   specific nodes. This action will not affect the OS partitions on the servers.
  </p><p>
   If you receive an error stating that <code class="literal">osconfig</code> has already
   run on your nodes then you will need to remove the
   <code class="literal">/etc/ardana/osconfig-ran</code> file on each of the nodes you want
   to wipe with this command:
  </p><div class="verbatim-wrap"><pre class="screen">sudo rm /etc/ardana/osconfig-ran</pre></div><p>
   That will clear this flag and allow the disk to be wiped.
  </p><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.6.15"><span class="name">Issue: Freezer installation fails if an independent network is used for the External_API</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.6.15">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   The Freezer installation fails if an independent network is used
   for the External_API. If you intend to deploy the External API
   on an independent network, the following changes need to be made:
  </p><p>
   In <code class="literal">roles/freezer-agent/defaults/main.yml</code> add the
   following line:
  </p><div class="verbatim-wrap"><pre class="screen">backup_freezer_api_url: "{{ FRE_API | item('advertises.vips.private[0].url', default=' ') }}"</pre></div><p>
   In <code class="literal">roles/freezer-agent/templates/backup.osrc.j2</code> add the
   following line:
  </p><div class="verbatim-wrap"><pre class="screen">export OS_FREEZER_URL={{ backup_freezer_api_url }}</pre></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.6.21"><span class="name">Error Received if Root Logical Volume is Too Small</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.6.21">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   When running the <code class="literal">site.yml</code> playbook, you may receive a
   message that includes the error below if your root logical volume is too
   small. This error needs to be parsed out and resolved.
  </p><div class="verbatim-wrap"><pre class="screen">2015-09-29 15:54:03,022 p=26345 u=stack | stderr: New size given (7128 extents)
not larger than existing size (7629 extents)</pre></div><p>
   The error message may also reference the root volume:
  </p><div class="verbatim-wrap"><pre class="screen">"name": "root", "size": "10%"</pre></div><p>
   The problem here is that the root logical volume, as specified in the
   <code class="literal">disks_controller.yml</code> file, is set to
   <code class="literal">10%</code> of the overall physical volume and this value is too
   small.
  </p><p>
   To resolve this issue you need to ensure that the percentage is set properly
   for the size of your logical-volume. The default values in the configuration
   files is based on a 500 GB disk, so if your logical volumes are smaller you
   may need to increase the percentage so there is enough room.
  </p><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.4.5.18.6.28"><span class="name">Multiple Keystone Failures Received during site.yml</span><a title="Permalink" class="permalink" href="troubleshooting-installation.html#id-1.4.5.18.6.28">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/develop/xml/installation-installation-installation_troubleshooting.xml" title="Edit the source file for this section">Edit source</a></h5></div><p>
   If you receive the Keystone error below during your
   <code class="literal">site.yml</code> run then follow these steps:
  </p><div class="verbatim-wrap"><pre class="screen">TASK: [OPS-MON | _keystone_conf | Create Ops Console service in Keystone] *****
failed:
[...]
msg: An unexpected error prevented the server from fulfilling your request.
(HTTP 500) (Request-ID: req-23a09c72-5991-4685-b09f-df242028d742), failed

FATAL: all hosts have already failed -- aborting</pre></div><p>
   The most likely cause of this error is that the virtual IP address is having
   issues and the Keystone API communication through the virtual IP address is
   not working properly. You will want to check the Keystone log on the
   controller where you will likely see authorization failure errors.
  </p><p>
   Verify that your virtual IP address is active and listening on the proper
   port on all of your controllers using this command:
  </p><div class="verbatim-wrap"><pre class="screen">netstat -tplan | grep 35357</pre></div><p>
   Ensure that your Cloud Lifecycle Manager did not pick the wrong (unusable) IP
   address from the list of IP addresses assigned to your Management network.
  </p><p>
   The Cloud Lifecycle Manager will take the first available IP address after the
   <code class="literal">gateway-ip</code> defined in your
   <code class="filename">~/openstack/my_cloud/definition/data/networks.yml</code> file.
   This IP will be used as the virtual IP address for that particular network.
   If this IP address is used and reserved for another purpose outside of your
   <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> deployment then you will receive the error above.
  </p><p>
   To resolve this issue we recommend that you utilize the
   <code class="literal">start-address</code> and possibly the
   <code class="literal">end-address</code> (if needed) options in your
   <code class="filename">networks.yml</code> file to further define which IP addresses
   you want your cloud deployment to use. For more information, see
   <span class="intraxref">Book “<em class="citetitle ">Planning an Installation with Cloud Lifecycle Manager</em>”, Chapter 6 “Configuration Objects”, Section 6.14 “Networks”</span>.
  </p><p>
   After you have made changes to your <code class="filename">networks.yml</code> file,
   follow these steps to commit the changes:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Ensuring that you stay within the <code class="filename">~/openstack</code> directory,
     commit the changes you just made:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack
git commit -a -m "commit message"</pre></div></li><li class="step "><p>
     Run the configuration processor:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div></li><li class="step "><p>
     Update your deployment directory:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</pre></div></li><li class="step "><p>
     Re-run the site.yml playbook:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/scratch/ansible/next/ardana/ansible
ansible-playbook -i hosts/verb_hosts site.yml</pre></div></li></ol></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="esx-troubleshooting-installation.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 24 </span>Troubleshooting the ESX</span></a><a class="nav-link" href="integrations.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 22 </span>Integrations</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>