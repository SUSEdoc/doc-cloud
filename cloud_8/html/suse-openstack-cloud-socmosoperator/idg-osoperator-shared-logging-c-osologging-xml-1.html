<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Log Management | OpenStack Operator's Guide | SUSE OpenStack Cloud Monitoring</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud Monitoring" /><meta name="book-title" content="OpenStack Operator's Guide" /><meta name="chapter-title" content="Chapter 4. Log Management" /><meta name="description" content="For managing the log data of your services and the virtual and physical servers on which they are provisioned, SUSE OpenStack Cloud Monitoring integrates with Kibana, an open source analytics and visualization platform. SUSE OpenStack Cloud Monitoring uses Kibana as a front-end application to the lo…" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><meta name="tracker-bsc-version" content="" /><link rel="home" href="index.html" title="OpenStack Operator's Guide" /><link rel="up" href="index.html" title="OpenStack Operator's Guide" /><link rel="prev" href="idg-osoperator-shared-monitor-c-monitor-xml-1.html" title="Chapter 3. Monitoring" /><link rel="next" href="idg-osoperator-appendix-r-osometrics-xml-1.html" title="Appendix A. Supported Metrics" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack Operator's Guide"><span class="book-icon">OpenStack Operator's Guide</span></a><span> › </span><a class="crumb" href="idg-osoperator-shared-logging-c-osologging-xml-1.html">Log Management</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.htmlindex.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>OpenStack Operator's Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pr01.html"><span class="number"> </span><span class="name">About this Manual</span></a></li><li class="inactive"><a href="idg-osoperator-shared-intro-c-intro-xml-1.html"><span class="number">1 </span><span class="name">Introduction to <span class="phrase">SUSE OpenStack Cloud Monitoring</span></span></a></li><li class="inactive"><a href="idg-osoperator-osoperator-install-c-osoinstall-xml-1.html"><span class="number">2 </span><span class="name">Installation</span></a></li><li class="inactive"><a href="idg-osoperator-shared-monitor-c-monitor-xml-1.html"><span class="number">3 </span><span class="name">Monitoring</span></a></li><li class="inactive"><a href="idg-osoperator-shared-logging-c-osologging-xml-1.html"><span class="number">4 </span><span class="name">Log Management</span></a></li><li class="inactive"><a href="idg-osoperator-appendix-r-osometrics-xml-1.html"><span class="number">A </span><span class="name">Supported Metrics</span></a></li><li class="inactive"><a href="reference-7A5FB297419F4787832C9125D7CAC80F.html"><span class="number">B </span><span class="name">Glossary</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 3. Monitoring" href="idg-osoperator-shared-monitor-c-monitor-xml-1.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. Supported Metrics" href="idg-osoperator-appendix-r-osometrics-xml-1.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack Operator's Guide"><span class="book-icon">OpenStack Operator's Guide</span></a><span> › </span><a class="crumb" href="idg-osoperator-shared-logging-c-osologging-xml-1.html">Log Management</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 3. Monitoring" href="idg-osoperator-shared-monitor-c-monitor-xml-1.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. Supported Metrics" href="idg-osoperator-appendix-r-osometrics-xml-1.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="idg-osoperator-shared-logging-c-osologging-xml-1"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname ">SUSE OpenStack Cloud Monitoring</span></div><div><h1 class="title"><span class="number">4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Log Management</span> <a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>osoperator-shared-logging-c-osologging.xml</li><li><span class="ds-label">ID: </span>idg-osoperator-shared-logging-c-osologging-xml-1</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12"><span class="number">4.1 </span><span class="name">Working with the Log Management Window</span></a></span></dt><dt><span class="section"><a href="idg-osoperator-shared-logging-c-osologging-xml-1.html#idg-osoperator-shared-logging-c-osolog-index-xml-1"><span class="number">4.2 </span><span class="name">Configuring Index Patterns</span></a></span></dt><dt><span class="section"><a href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.14"><span class="number">4.3 </span><span class="name">Monitoring Log Data</span></a></span></dt><dt><span class="section"><a href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.15"><span class="number">4.4 </span><span class="name">Troubleshooting</span></a></span></dt></dl></div></div>
 
 <p>
  For managing the log data of your services and the virtual and physical
  servers on which they are provisioned, <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> integrates with Kibana, an open source analytics and
  visualization platform. <span class="phrase">SUSE OpenStack Cloud Monitoring</span> uses
  Kibana as a front-end application to the log data held in the Elasticsearch
  database.
 </p>
 <p>
  Kibana allows you to easily understand large data volumes. Based on the data
  that is stored in Elasticsearch indices, you can perform advanced data
  analysis and visualize your log data in a variety of charts, tables, or maps.
  Changes to the Elasticsearch indices are displayed in <span class="phrase">SUSE OpenStack
  Cloud Monitoring</span> in real time.
 </p>
 <p>
  The log management features of <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span> include:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    Features for searching, visualizing, and analyzing the log data.
   </p>
  </li><li class="listitem ">
   <p>
    Alerting features for monitoring.
   </p>
  </li></ul></div>
 <p>
  In the following sections, you will find information on the Log Management
  Window where you search, visualize, and analyze your log data, as well as
  details on how to use the alerting features.
 </p>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.7"><span class="name">Accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span>
 </span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.7">#</a></h5></div>
 <p>
  For accessing <span class="phrase">SUSE OpenStack Cloud Monitoring</span> and performing
  log management tasks, the following prerequisites must be fulfilled:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    You must have access to the OpenStack platform as a user with the
    <code class="literal">monasca-user</code> role.
   </p>
  </li><li class="listitem ">
   <p>
    You must be assigned to the OpenStack project you want to monitor.
   </p>
  </li></ul></div>
 <p>
  Log in to OpenStack Horizon with your user name and password. The functions
  you can use in OpenStack Horizon depend on your access permissions. To access
  logs and metrics, switch to the <span class="guilabel ">monasca</span> tenant in
  Horizon.
 </p>
 <p>
  The <span class="phrase">SUSE OpenStack Cloud Monitoring</span> functionality is
  available on the <span class="guilabel ">Monitoring</span> tab. It provides access to
  the log data of all projects to which you are assigned. The <span class="guilabel ">Log
  Management</span> option at the top border of the
  <span class="guilabel ">Overview</span> page displays the log management window where
  you can work on the log data.
 </p>
 <div class="sect1" id="id-1.7.12"><div class="titlepage"><div><div><h2 class="title"><span class="number">4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Working with the Log Management Window</span> <a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>osoperator-shared-logging-c-osolog-kibana.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div>
 
 <p>
  Index patterns determine which data from the underlying Elasticsearch
  database can be viewed and analyzed in <span class="phrase">SUSE OpenStack Cloud
  Monitoring</span>'s log management window. Index patterns are used to
  identify the Elasticsearch indices to run search and analytics against.
 </p>
 <p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> ships with a preconfigured
  index pattern which allows you to instantly view and analyze your log data
  when accessing the log management window for the first time. You can
  configure additional index patterns to view and analyze different data from
  different indices. For details, refer to
  <a class="xref" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#idg-osoperator-shared-logging-c-osolog-index-xml-1" title="4.2. Configuring Index Patterns">Section 4.2, “Configuring Index Patterns”</a>.
 </p>
 <p>
  Search queries allow you to search the Elasticsearch indices for data that
  match your information requirements. The query results can be graphically
  represented in visualizations, and visualizations can be organized in
  dashboards.
 </p>
 <p>
  The log management window provides features for:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    Querying log data.
   </p>
  </li><li class="listitem ">
   <p>
    Visualizing query results.
   </p>
  </li><li class="listitem ">
   <p>
    Combining visualizations in dashboards.
   </p>
  </li><li class="listitem ">
   <p>
    Filtering query results in dashboards.
   </p>
  </li><li class="listitem ">
   <p>
    Sharing dashboards.
   </p>
  </li></ul></div>
 <p>
  The following sections provide an introduction to queries, visualizations,
  and dashboards. For additional details, refer to the
  <a class="ulink" href="https://www.elastic.co/guide/en/kibana/4.5/index.html" target="_blank">Kibana
  documentation<span class="ulink-url"> (https://www.elastic.co/guide/en/kibana/4.5/index.html)</span></a>.
 </p>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.12.8"><span class="name">Querying Log Data</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.8">#</a></h5></div>
 <p>
  For querying log data, you use the <span class="guilabel ">Discover</span> page in the
  log management window. It is instantly displayed when you access the window.
  It shows the most recently collected log data:
 </p>
 <div class="figure" id="id-1.7.12.10"><div class="figure-contents">
  
  <div class="mediaobject"><a xmlns="" href="images/socm-kibana-dashboard.png" target="_blank"><img src="images/socm-kibana-dashboard.png" width="" alt="The Kibana Dashboard—Discover Page" /></a></div>
 </div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.1: </span><span class="name">The Kibana Dashboard—Discover Page </span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.10">#</a></h6></div></div>
 <p>
  The <span class="guilabel ">Discover</span> page allows you to access the log data in
  every index that matches the current index pattern. In addition to submitting
  queries, you can view, filter, and analyze the log data that is returned by
  your queries.
 </p>
 <p>
  On the <span class="guilabel ">Discover</span> page the following elements assist you
  in analyzing your log data:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    Below the main navigation bar at the top of the window, there is a
    <span class="bold"><strong>search box</strong></span> for querying your log data. By
    submitting a query, you search all indices that match the current index
    pattern. The name of the current index pattern is displayed directly below
    the search box on the left side. You can select a different index pattern,
    if required. For details on configuring and selecting index patterns, refer
    to <a class="xref" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#idg-osoperator-shared-logging-c-osolog-index-xml-1" title="4.2. Configuring Index Patterns">Section 4.2, “Configuring Index Patterns”</a>.
   </p>
   <p>
    For entering strings in the search box, use the Lucene query syntax. Kibana
    also supports the Elasticsearch Query DSL. For details, refer to the
    <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl.html" target="_blank">Elasticsearch Reference documentation<span class="ulink-url"> (https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl.html)</span></a>.
   </p>
  </li><li class="listitem ">
   <p>
    Use the <span class="bold"><strong>clock icon</strong></span> at the top right border
    of the log management window to define a time range for filtering the log
    data. By default, <span class="phrase">SUSE OpenStack Cloud Monitoring</span> displays
    the log data collected during the last 15 minutes. You can deviate from
    this default. Multiple options are provided for defining relative or
    absolute time ranges. The time range you define is instantly applied to all
    log data.
   </p>
  </li><li class="listitem ">
   <p>
    In the bottom right part of the <span class="guilabel ">Discover</span> page, you can
    view the <span class="bold"><strong>log data</strong></span> returned by your search
    queries. Depending on whether you have filtered the data by index fields,
    the log data is either restricted to these fields or entire records are
    displayed.
   </p>
  </li><li class="listitem ">
   <p>
    On the left side of the <span class="guilabel ">Discover</span> page below the search
    box, you see the <span class="bold"><strong>index fields</strong></span> from the
    indices that match the current index pattern. You can select individual
    fields to modify which log data is displayed on the right side.
   </p>
   <p>
    Select a field from the <span class="guilabel ">Available Fields</span> section for
    this purpose and use <span class="guilabel ">Add</span>. To remove a field, select it
    in the <span class="guilabel ">Selected Fields</span> section and use
    <span class="guilabel ">Remove</span>.
   </p>
   <p>
    From the field list, you can expand a field by simply clicking it. This
    shows the most common values for the field. You can also set field values
    as filter, or you can exclude log data with specific field values.
   </p>
  </li><li class="listitem ">
   <p>
    If a time field is configured for the current index pattern, the
    distribution of log entries over time is displayed in a
    <span class="bold"><strong>histogram</strong></span> in the top right part of the
    <span class="guilabel ">Discover</span> page.
   </p>
   <p>
    By default, the histogram shows the number of logs entries versus time,
    matched by the underlying query and time filter. You can click the bars in
    the histogram to narrow down the time filter.
   </p>
  </li></ul></div>
 <p>
  Queries can be saved and re-used. They can also be shared with other users.
  For this purpose, use the options to the right of the search box at the top
  border of the log management window:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    To save a query, use <span class="guilabel ">Save Search</span>. Saving a query means
    saving both the query syntax and the current index pattern.
   </p>
  </li><li class="listitem ">
   <p>
    To load a query, use <span class="guilabel ">Load Saved Search</span>. A saved query
    can be loaded and used by any OpenStack or Monitoring Service operator.
   </p>
  </li><li class="listitem ">
   <p>
    To share a query with other users, use <span class="guilabel ">Share Search</span>.
    The option displays a direct link to the query that you can forward. As a
    prerequisite for using a direct link, a user must have <span class="phrase">SUSE
    OpenStack Cloud Monitoring</span> access.
   </p>
  </li></ul></div>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.12.16"><span class="name">Visualizing Query Results</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.16">#</a></h5></div>
 <p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> supports you in building
  graphical representations of your query results. You can choose from
  different visualization types, for example, pie charts, data tables, line
  charts, or vertical bar charts. For visualizing your results, you use the
  <span class="guilabel ">Visualize</span> page in the log management window:
 </p>
 <div class="informalfigure">
  <div class="mediaobject"><a xmlns="" href="images/socm-kibana-visualize.png" target="_blank"><img src="images/socm-kibana-visualize.png" width="" /></a></div>
 </div>
 <p>
  To create a visualization, use <span class="guilabel ">New Visualization</span> to the
  right of the search box at the top border of the window. You have to select a
  visualization type and the query to be used. You can either create a new
  query or load a query you have already saved.
 </p>
 <p>
  Based on the visualization type and the query, you can proceed with designing
  the graphical representation in a visualization editor. Multiple design
  options and a preview function are provided for creating, modifying, and
  viewing the graphical representation.
 </p>
 <p>
  You can save and re-use visualizations. You can also share them with other
  users. For this purpose, use the options to the right of the search box at
  the top border of the log management window:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    To save a visualization, use <span class="guilabel ">Save Visualization</span>.
   </p>
  </li><li class="listitem ">
   <p>
    To load a visualization, use <span class="guilabel ">Load Saved Visualization</span>.
    A saved visualization can be loaded and used by any OpenStack or Monitoring
    Service operator.
   </p>
  </li><li class="listitem ">
   <p>
    To share a visualization with other users, use <span class="guilabel ">Share
    Visualization</span>. The option displays an HTML snippet that can be
    used to embed the visualization in a Web page. It also displays a direct
    link to the visualization that you can forward. As a prerequisite for using
    an embedded visualization or a direct link, a user must have <span class="phrase">SUSE
    OpenStack Cloud Monitoring</span> access.
   </p>
  </li></ul></div>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.12.23"><span class="name">Combining Visualizations in Dashboards</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.23">#</a></h5></div>
 <p>
  For correlating related information or providing an overview, you can combine
  visualizations in dashboards. Use the <span class="guilabel ">Dashboard</span> page in
  the log management window for this purpose:
 </p>
 <p>
  To create a dashboard from scratch, you use <span class="guilabel ">New
  Dashboard</span> to the right of the search box at the top border of the
  window. To add a visualization from a list of existing visualizations, use
  <span class="guilabel ">Add Visualization</span>. You need at least one saved
  visualization to create a dashboard. In addition to adding visualizations,
  you can also place the tabular output of query results on your dashboards.
  Switch to the <span class="guilabel ">Searches</span> tab when adding a visualization,
  and select a saved query. This adds the query result to your dashboard.
 </p>
 <p>
  A visualization or query result is displayed in a container on your
  dashboard. Various options are provided for arranging containers:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    Move a container by clicking and dragging its title bar.
   </p>
  </li><li class="listitem ">
   <p>
    Resize a container by dragging its bottom right corner.
   </p>
  </li><li class="listitem ">
   <p>
    Remove a container using <span class="guilabel ">Delete</span> in the top right
    corner of the container.
   </p>
  </li></ul></div>
 <p>
  Using <span class="guilabel ">Edit</span> in the top right corner of a container, you
  can switch to the <span class="guilabel ">Visualize</span> or
  <span class="guilabel ">Discover</span> page. This allows you to design the graphical
  representation or edit the query. To view the raw data behind a
  visualization, you can click the bar at the bottom of the container. This
  replaces your visualization by the underlying raw data. You can export the
  raw data, if required.
 </p>
 <p>
  For each dashboard, you can configure a refresh interval to automatically
  refresh its content with the latest data. The current interval is displayed
  in the top right border of the log management window. Click the interval if
  you want to change it. You can define the interval in absolute or relative
  terms. Use <span class="guilabel ">Auto-Refresh</span> next to the interval in the
  border of the log management window to instantly submit the underlying
  queries and refresh the dashboard content.
 </p>
 <p>
  By default, dashboards are displayed with a light background. Using
  <span class="guilabel ">Options</span> in the top right border of the log management
  window, you can switch to a dark color scheme.
 </p>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.12.31"><span class="name">Filtering Query Results in Dashboards</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.31">#</a></h5></div>
 <p>
  By submitting a query on the data displayed in a dashboard, you can filter
  out specific sets of data that you want to aggregate while not changing the
  logic of the individual visualizations.
 </p>
 <p>
  Use the search box below the main navigation bar at the top of the log
  management window for entering a query on the whole dashboard. If a
  visualization is already based on a saved query, both queries apply.
 </p>
 <div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.12.34"><span class="name">Sharing Dashboards</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.12.34">#</a></h5></div>
 <p>
  Dashboards can be saved and re-used. They can also be shared with other
  users. For this purpose, use the options to the right of the search box at
  the top border of the log management window:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    To save a dashboard, use <span class="guilabel ">Save Dashboard</span>. By default,
    saving a dashboard also saves the time filter that is defined at the time
    of saving. You can disable this default by clearing the <span class="guilabel ">Store
    time with dashboard</span> option. Disabling the default means that the
    time filter is set to the currently selected time each time the dashboard
    is loaded.
   </p>
  </li><li class="listitem ">
   <p>
    To load a dashboard, use <span class="guilabel ">Load Saved Dashboard</span>. A saved
    dashboard can be loaded and used by any OpenStack or Monitoring Service
    operator.
   </p>
  </li><li class="listitem ">
   <p>
    To share a dashboard with other users, use <span class="guilabel ">Share
    Dashboard</span>. The option displays an HTML snippet that can be used
    to embed the dashboard in a Web page. It also displays a direct link to the
    dashboard that you can forward. As a prerequisite for using an embedded
    dashboard or a direct link, a user must have <span class="phrase">SUSE OpenStack Cloud
    Monitoring</span> access.
   </p>
  </li></ul></div>
</div>
 <div class="sect1" id="idg-osoperator-shared-logging-c-osolog-index-xml-1"><div class="titlepage"><div><div><h2 class="title"><span class="number">4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring Index Patterns</span> <a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#idg-osoperator-shared-logging-c-osolog-index-xml-1">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>osoperator-shared-logging-c-osolog-index.xml</li><li><span class="ds-label">ID: </span>idg-osoperator-shared-logging-c-osolog-index-xml-1</li></ul></div></div></div></div>
 
 <p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> enables the dynamic mapping
  of fields. After configuring an index pattern, the indices that match the
  pattern are automatically scanned to display the list of index fields. This
  guarantees that the fields are correctly visualized in the dashboard.
 </p>
 <p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> ships with a preconfigured
  index pattern that allows you to instantly explore your Elasticsearch indices
  when accessing the dashboard for the first time. You can create additional
  patterns to view and analyze specific sets of data. One or multiple patterns
  can be created per project. When you create additional patterns, you have to
  set one of them as the default.
 </p>
 <p>
  To configure an additional index pattern, use <span class="guilabel ">Settings &gt;
  Indices</span>. Click the index pattern that is displayed in the
  <span class="guilabel ">Index Patterns</span> field on the left, and use the
  <span class="guilabel ">Add New</span> option.
 </p>
 <p>
  Indices that match the pattern you define must exist in the Elasticsearch
  database, and they must contain data. For an index pattern, you specify the
  following elements:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    <span class="guilabel ">Index contains time-based events</span>. It is recommended
    that this option is selected. This improves search performance by enabling
    searches only on those indices that contain data on time-based events.
   </p>
  </li><li class="listitem ">
   <p>
    <span class="guilabel ">Use event times to create index names</span>. It is
    recommended that this option is selected. This improves search performance
    by enabling searches only on those indices that contain data in the time
    range you specify.
   </p>
  </li><li class="listitem ">
   <p>
    <span class="guilabel ">Index pattern interval</span>. Select
    <code class="literal">Daily</code> as index pattern interval. Daily intervals are
    supported by the Monitoring Service.
   </p>
  </li><li class="listitem ">
   <p>
    <span class="guilabel ">Index name or pattern</span>. The pattern allows you to
    define dynamic index names. Static text in a pattern is denoted using
    brackets. Replace the predefined pattern (<code class="literal">[logstash-]*</code>
    or <code class="literal">[logstash-]YYYY.MM.DD</code>) as follows:
   </p>
   <p>
    Replace <code class="literal">logstash-</code> by the project ID of the OpenStack
    project whose log data is to be visualized in the dashboard.
   </p>
   <p>
    Replace <code class="literal">*</code> or <code class="literal">YYYY.MM.DD</code> by
    <code class="literal">YYYY-MM-DD</code> as naming pattern. This naming pattern is
    supported by the Monitoring Service.
   </p>
   <p>
    Example: <code class="literal">[557aff4bf007473d84069aca202a1633-]YYYY-MM-DD</code>
   </p>
  </li><li class="listitem ">
   <p>
    <span class="guilabel ">Time-field name</span>. Select <code class="literal">@timestamp</code>
    as time-field name. <code class="literal">@timestamp</code> matches the
    <code class="literal">YYYY-MM-DD</code> naming pattern.
   </p>
  </li></ul></div>
 <p>
  The default index pattern is automatically loaded when you access the log
  management window. It is marked with an asterisk in front of the pattern name
  in the <span class="guilabel ">Index Patterns</span> field at the top left corner of
  the <span class="guilabel ">Settings</span> page. Select the pattern you want to set as
  the default from the <span class="guilabel ">Index Patterns</span> field. The
  content of the log management window is instantly updated.
 </p>
</div>
 <div class="sect1" id="id-1.7.14"><div class="titlepage"><div><div><h2 class="title"><span class="number">4.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Monitoring Log Data</span> <a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.14">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>osoperator-shared-logging-c-osolog-alarms.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div>
 
 <p>
  <span class="phrase">SUSE OpenStack Cloud Monitoring</span> provides alerting features
  for monitoring your log data. Specific log metrics support you in checking
  the severity of the entries in your log files. Log metrics are handled like
  any other metrics in <span class="phrase">SUSE OpenStack Cloud Monitoring</span>. They
  complete the log management features and support you in analyzing and
  troubleshooting any issue that you encounter in your log data.
 </p>

 
 <p>
  Using the log metrics for monitoring corresponds to using any other metrics:
 </p>
 <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
   <p>
    Use <span class="guilabel ">Monitoring &gt; Alarm Definitions</span> to create, edit,
    and delete alarms for log data.
   </p>
  </li><li class="listitem ">
   <p>
    Use <span class="guilabel ">Monitoring &gt; Notifications</span> to create, edit, and
    delete notifications for alarms.
   </p>
  </li><li class="listitem ">
   <p>
    Use <span class="guilabel ">Monitoring &gt; Overview</span> to check whether there
    are any irregularities in your log data. As soon as you have defined an
    alarm for your log data and metrics data has been received, there is status
    information displayed on the <span class="guilabel ">Overview</span> page.
   </p>
  </li></ul></div>
 <p>
  For details on using the log metrics, refer to
  <a class="xref" href="idg-osoperator-shared-monitor-c-monitor-xml-1.html" title="Chapter 3. Monitoring">Chapter 3, <em>Monitoring</em></a>.
 </p>
</div>
 <div class="sect1" id="id-1.7.15"><div class="titlepage"><div><div><h2 class="title"><span class="number">4.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.15">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>osoperator-shared-logging-c-osolog-troubleshooting.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div>
 
 <p>
     Here are some common errors, and how to resolve them.
 </p>

<div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.15.3"><span class="name">Shard Failures</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.15.3">#</a></h5></div>
 <p>
 This problem may occur the first time the Log Management Window is opened. It occurs because the Elasticsearch index for the Monasca project does not yet exist. A browser reload should fix the problem in most cases.
 </p>
 <div class="informalfigure">
  <div class="mediaobject"><a xmlns="" href="images/kibana_shard_failure-2.jpg" target="_blank"><img src="images/kibana_shard_failure-2.jpg" width="" alt="Kibana shard failure" /></a></div>
 </div>

<div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.15.6"><span class="name">Oops! Looks like something went wrong</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.15.6">#</a></h5></div>
<p>
This problem happens when you were previously logged into Horizon and the session expired, leaving a stale session state that confuses Kibana. In this case, re-login to Horizon and then reload Kibana to fix the problem.
 </p>
 <div class="informalfigure">
  <div class="mediaobject"><a xmlns="" href="images/kibana_oops.png" target="_blank"><img src="images/kibana_oops.png" width="" alt="Oops!" /></a></div>
 </div>

<div xmlns:dm="urn:x-suse:ns:docmanager" class="sect4 bridgehead"><h5 class="title" id="id-1.7.15.9"><span class="name">No results found</span><a title="Permalink" class="permalink" href="idg-osoperator-shared-logging-c-osologging-xml-1.html#id-1.7.15.9">#</a></h5></div>
 <p>
This may be due to an overly narrow time window (that is, no logs were sent in the last 15 minutes, which is the default time window). Try increasing the time window with the drop-down box in the screen's top right corner. If the problem persists verify that log agents are running properly; make sure the <code class="literal">openstack-monasca-log-agent</code> service is running and check <code class="filename">/var/log/monasca-log-agent/agent.log</code> for errors on the agent nodes.
 </p>
  <div class="informalfigure">
  <div class="mediaobject"><a xmlns="" href="images/kibana_noresults.png" target="_blank"><img src="images/kibana_noresults.png" width="" alt="No results" /></a></div>
 </div>
 </div>
</div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="idg-osoperator-appendix-r-osometrics-xml-1.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Appendix A </span>Supported Metrics</span></a><a class="nav-link" href="idg-osoperator-shared-monitor-c-monitor-xml-1.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 3 </span>Monitoring</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2020 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>