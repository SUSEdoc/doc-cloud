<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SUSE OpenStack Cloud 8 | Planning an Installation with Cloud Lifecycle Manager | Configuration Objects</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Configuration Objects | SUSE OpenStack Cloud 8"/>
<meta name="description" content="The top-level cloud configuration file, cloudConfig.yml, defines some global values for SUSE OpenStack Cloud, as described in the table below."/>
<meta name="product-name" content="SUSE OpenStack Cloud"/>
<meta name="product-number" content="8"/>
<meta name="book-title" content="Planning an Installation with Cloud Lifecycle Manager"/>
<meta name="chapter-title" content="Chapter 6. Configuration Objects"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8"/>
<meta property="og:title" content="Configuration Objects | SUSE OpenStack Cloud 8"/>
<meta property="og:description" content="The top-level cloud configuration file, cloudConfig.yml, defines some global values for SUSE OpenStack Cloud, as described in the table below."/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Configuration Objects | SUSE OpenStack Cloud 8"/>
<meta name="twitter:description" content="The top-level cloud configuration file, cloudConfig.yml, defines some global values for SUSE OpenStack Cloud, as described in the table below."/>
<link rel="prev" href="cha-input-model-intro-concept.html" title="Chapter 5. Input Model"/><link rel="next" href="othertopics.html" title="Chapter 7. Other Topics"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationobjects.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Planning an Installation with Cloud Lifecycle Manager</a><span> / </span><a class="crumb" href="architecture.html">Cloud Lifecycle Manager Overview</a><span> / </span><a class="crumb" href="configurationobjects.html">Configuration Objects</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title"><em class="citetitle">Planning an Installation with Cloud Lifecycle Manager</em></div><ol><li><a href="planning-index.html" class="has-children "><span class="title-number">I </span><span class="title-name">Planning</span></a><ol><li><a href="register-suse-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Registering SLES</span></a></li><li><a href="min-hardware.html" class=" "><span class="title-number">2 </span><span class="title-name">Hardware and Software Support Matrix</span></a></li><li><a href="idg-planning-planning-recommended-hardware-minimums-xml-1.html" class=" "><span class="title-number">3 </span><span class="title-name">Recommended Hardware Minimums for the Example Configurations</span></a></li><li><a href="HP3-0HA.html" class=" "><span class="title-number">4 </span><span class="title-name">High Availability</span></a></li></ol></li><li class="active"><a href="architecture.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Cloud Lifecycle Manager Overview</span></a><ol><li><a href="cha-input-model-intro-concept.html" class=" "><span class="title-number">5 </span><span class="title-name">Input Model</span></a></li><li><a href="configurationobjects.html" class=" you-are-here"><span class="title-number">6 </span><span class="title-name">Configuration Objects</span></a></li><li><a href="othertopics.html" class=" "><span class="title-number">7 </span><span class="title-name">Other Topics</span></a></li><li><a href="cpinfofiles.html" class=" "><span class="title-number">8 </span><span class="title-name">Configuration Processor Information Files</span></a></li><li><a href="example-configurations.html" class=" "><span class="title-number">9 </span><span class="title-name">Example Configurations</span></a></li><li><a href="modify-compute-input-model.html" class=" "><span class="title-number">10 </span><span class="title-name">Modifying Example Configurations for Compute Nodes</span></a></li><li><a href="modify-input-model.html" class=" "><span class="title-number">11 </span><span class="title-name">Modifying Example Configurations for Object Storage using Swift</span></a></li><li><a href="alternative-configurations.html" class=" "><span class="title-number">12 </span><span class="title-name">Alternative Configurations</span></a></li></ol></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="configurationobjects" data-id-title="Configuration Objects"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber"><span class="phrase"><span class="phrase">8</span></span></span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">Configuration Objects</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationobjects.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect1" id="configobj-cloud" data-id-title="Cloud Configuration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.1 </span><span class="title-name">Cloud Configuration</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-cloud">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-cloud.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The top-level cloud configuration file, <code class="filename">cloudConfig.yml</code>,
  defines some global values for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, as described in the table below.
 </p><p>
  The snippet below shows the start of the control plane definition file.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  cloud:
    name: entry-scale-kvm

    hostname-data:
        host-prefix: ardana
        member-prefix: -m

    ntp-servers:
        - "ntp-server1"

    # dns resolving configuration for your site
    dns-settings:
      nameservers:
        - name-server1

    firewall-settings:
        enable: true
        # log dropped packets
        logging: true

    audit-settings:
       audit-dir: /var/audit
       default: disabled
       enabled-services:
         - keystone</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the cloud</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hostname-data (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Provides control over some parts of the generated names (see )
      </p>
      <p>
       Consists of two values:
      </p>
      <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         host-prefix - default is to use the cloud name (above)
        </p></li><li class="listitem"><p>
         member-prefix - default is "-m"
        </p></li></ul></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ntp-servers (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of external NTP servers your cloud has access to. If specified
       by name then the names need to be resolvable via the external DNS
       nameservers you specify in the next section. All servers running the
       "ntp-server" component will be configured to use these external NTP
       servers.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">dns-settings (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       DNS configuration data that will be applied to all servers. See
       example configuration for a full list of values.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">smtp-settings (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       SMTP client configuration data that will be applied to all servers.
       See example configurations for a full list of values.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">firewall-settings (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Used to enable/disable the firewall feature and to enable/disable
       logging of dropped packets.
      </p>
      <p>
       The default is to have the firewall enabled.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">audit-settings (optional)</td><td>
      <p>
       Used to enable/disable the production of audit data from services.
      </p>
      <p>
       The default is to have audit disabled for all services.
      </p>
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-controlplane" data-id-title="Control Plane"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.2 </span><span class="title-name">Control Plane</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-controlplane">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-controlplane.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The snippet below shows the start of the control plane definition file.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  control-planes:
     - name: control-plane-1
       control-plane-prefix: cp1
       region-name: region0
       failure-zones:
         - AZ1
         - AZ2
         - AZ3
       configuration-data:
         - NEUTRON-CONFIG-CP1
         - OCTAVIA-CONFIG-CP1
       common-service-components:
         - logging-producer
         - monasca-agent
         - freezer-agent
         - stunnel
         - lifecycle-manager-target
       clusters:
         - name: cluster1
           cluster-prefix: c1
           server-role: CONTROLLER-ROLE
           member-count: 3
           allocation-policy: strict
           service-components:
             - lifecycle-manager
             - ntp-server
             - swift-ring-builder
             - mysql
             - ip-cluster
             ...

       resources:
         - name: compute
           resource-prefix: comp
           server-role: COMPUTE-ROLE
           allocation-policy: any
           min-count: 0
           service-components:
              - ntp-client
              - nova-compute
              - nova-compute-kvm
              - neutron-l3-agent
              ...</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       This name identifies the control plane. This value is used to persist
       server allocations <a class="xref" href="othertopics.html#persisteddata" title="7.3. Persisted Data">Section 7.3, “Persisted Data”</a> and cannot be
       changed once servers have been allocated.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">control-plane-prefix (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       The control-plane-prefix is used as part of the hostname (see
       <a class="xref" href="othertopics.html#namegeneration" title="7.2. Name Generation">Section 7.2, “Name Generation”</a>). If not specified, the control plane
       name is used.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">region-name</td><td style="border-bottom: 1px solid ; ">
      <p>
       This name identifies the Keystone region within which services in the
       control plane will be registered. In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, multiple regions are
       not supported. Only <code class="literal">Region0</code> is valid.
      </p>
      <p>
       For clouds consisting of multiple control planes, this attribute should
       be omitted and the regions object should be used to set the region
       name (<code class="literal">Region0</code>).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">uses (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Identifies the services this control will consume from other control
       planes (see <a class="xref" href="configurationobjects.html#configobj-multiple-control-planes" title="6.2.3. Multiple Control Planes">Section 6.2.3, “Multiple Control Planes”</a>).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">load-balancers (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of load balancer definitions for this control plane (see
       <a class="xref" href="configurationobjects.html#configobj-load-balancer-definitions" title="6.2.4. Load Balancer Definitions in Control Planes">Section 6.2.4, “Load Balancer Definitions in Control Planes”</a>).
      </p>
      <p>
       For a multi control-plane cloud load balancers must be defined in each
       control-plane. For a single control-plane cloud they may be defined
       either in the control plane or as part of a network group.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">common-service-components (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       This lists a set of service components that run on all servers in the
       control plane (clusters and resource pools).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">failure-zones (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of <span class="guimenu">server-group</span> names that servers for this
       control plane will be allocated from. If no failure-zones are
       specified, only servers not associated with a
       <span class="guimenu">server-group</span> will be used. (See
       <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups-failurezones" title="5.2.9.1. Server Groups and Failure Zones">Section 5.2.9.1, “Server Groups and Failure Zones”</a> for a description
       of server-groups as failure zones.)
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">configuration-data (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of configuration data settings to be used for services in this
       control plane (see <a class="xref" href="cha-input-model-intro-concept.html#concept-configuration-data" title="5.2.11. Configuration Data">Section 5.2.11, “Configuration Data”</a>).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">clusters</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of clusters for this control plane (see
       <a class="xref" href="configurationobjects.html#configobj-clusters" title="6.2.1.  Clusters">Section 6.2.1, “
  Clusters”</a>).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">resources</td><td>
      <p>
       A list of resource groups for this control plane (see
       <a class="xref" href="configurationobjects.html#configobj-resources" title="6.2.2. Resources">Section 6.2.2, “Resources”</a>).
      </p>
     </td></tr></tbody></table></div><section class="sect2" id="configobj-clusters" data-id-title="Clusters"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.2.1 </span><span class="title-name">
  Clusters</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-clusters">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-clusters.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       Cluster and resource names must be unique within a control plane. This
       value is used to persist server allocations (see
       <a class="xref" href="othertopics.html#persisteddata" title="7.3. Persisted Data">Section 7.3, “Persisted Data”</a>) and cannot be changed once servers
       have been allocated.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cluster-prefix (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       The cluster prefix is used in the hostname (see
       <a class="xref" href="othertopics.html#namegeneration" title="7.2. Name Generation">Section 7.2, “Name Generation”</a>). If not supplied then the cluster
       name is used.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">server-role</td><td style="border-bottom: 1px solid ; ">
      <p>
       This can either be a string (for a single role) or a list of roles.
       Only servers matching one of the specified
       <span class="guimenu">server-roles</span> will be allocated to this cluster.
       (see <a class="xref" href="cha-input-model-intro-concept.html#concept-serverroles" title="5.2.4. Server Roles">Section 5.2.4, “Server Roles”</a> for a description of server
       roles)
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">service-components</td><td style="border-bottom: 1px solid ; ">
      <p>
       The list of <span class="guimenu">service-components</span> to be deployed on
       the servers allocated for the cluster. (The common-service-components
       for the control plane are also deployed.)
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       member-count
      </p>
      <p>
       min-count
      </p>
      <p>
       max-count
      </p>
      <p>
       (all optional)
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       Defines the number of servers to add to the cluster.
      </p>
      <p>
       The number of servers that can be supported in a cluster depends on the
       services it is running. For example MariaDB and RabbitMQ can only be
       deployed on clusters on 1 (non-HA) or 3 (HA) servers. Other services may
       support different sizes of cluster.
      </p>
      <p>
       If min-count is specified, then at least that number of servers will be
       allocated to the cluster. If min-count is not specified it defaults to a
       value of 1.
      </p>
      <p>
       If max-count is specified, then the cluster will be limited to that
       number of servers. If max-count is not specified then all servers
       matching the required role and failure-zones will be allocated to the
       cluster.
      </p>
      <p>
       Specifying member-count is equivalent to specifying min-count and
       max-count with the same value.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">failure-zones (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of <span class="guimenu">server-groups</span> that servers will be
       allocated from. If specified, it overrides the list of values
       specified for the control-plane. If not specified, the control-plane
       value is used. (see
       <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups-failurezones" title="5.2.9.1. Server Groups and Failure Zones">Section 5.2.9.1, “Server Groups and Failure Zones”</a> for a description
       of server groups as failure zones).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">allocation-policy (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Defines how failure zones will be used when allocating servers.
      </p>
      <p>
       <span class="bold"><strong>strict</strong></span>: Server allocations will be
       distributed across all specified failure zones. (if max-count is not a
       whole number, an exact multiple of the number of zones, then some zones
       may provide one more server than other zones)
      </p>
      <p>
       <span class="bold"><strong>any</strong></span>: Server allocations will be made
       from any combination of failure zones.
      </p>
      <p>
       The default allocation-policy for a cluster is
       <span class="emphasis"><em>strict</em></span>.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">configuration-data (optional)</td><td>
      <p>
       A list of configuration-data settings that will be applied to the
       services in this cluster. The values for each service will be combined
       with any values defined as part of the configuration-data list for the
       control-plane. If a value is specified by settings in both lists, the
       value defined here takes precedence.
      </p>
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-resources" data-id-title="Resources"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.2.2 </span><span class="title-name">Resources</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-resources">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-resources.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name of this group of resources. Cluster names and resource-node
       names must be unique within a control plane. Additionally, clusters and
       resources cannot share names within a control-plane.
      </p>
      <p>
       This value is used to persist server allocations (see
       <a class="xref" href="othertopics.html#persisteddata" title="7.3. Persisted Data">Section 7.3, “Persisted Data”</a>) and cannot be changed once servers
       have been allocated.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">resource-prefix</td><td style="border-bottom: 1px solid ; ">
      The resource-prefix is used in the name generation. (see
      <a class="xref" href="othertopics.html#namegeneration" title="7.2. Name Generation">Section 7.2, “Name Generation”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">server-role</td><td style="border-bottom: 1px solid ; ">
      This can either be a string (for a single role) or a list of roles.
      Only servers matching one of the specified
      <span class="guimenu">server-roles</span> will be allocated to this resource
      group. (see <a class="xref" href="cha-input-model-intro-concept.html#concept-serverroles" title="5.2.4. Server Roles">Section 5.2.4, “Server Roles”</a> for a description of
      server roles).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">service-components</td><td style="border-bottom: 1px solid ; ">
      The list of <span class="guimenu">service-components</span> to be deployed on the
      servers in this resource group. (The common-service-components for the
      control plane are also deployed.)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       member-count
      </p>
      <p>
       min-count
      </p>
      <p>
       max-count
      </p>
      <p>
       (all optional)
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      <p>
       Defines the number of servers to add to the cluster.
      </p>
      <p>
       The number of servers that can be supported in a cluster depends on the
       services it is running. For example MariaDB and RabbitMQ can only be
       deployed on clusters on 1 (non-HA) or 3 (HA) servers. Other services may
       support different sizes of cluster.
      </p>
      <p>
       If min-count is specified, then at least that number of servers will be
       allocated to the cluster. If min-count is not specified it defaults to a
       value of 1.
      </p>
      <p>
       If max-count is specified, then the cluster will be limited to that
       number of servers. If max-count is not specified then all servers
       matching the required role and failure-zones will be allocated to the
       cluster.
      </p>
      <p>
       Specifying member-count is equivalent to specifying min-count and
       max-count with the same value.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">failure-zones (optional)</td><td style="border-bottom: 1px solid ; ">
      A list of <span class="guimenu">server-groups</span> that servers will be
      allocated from. If specified, it overrides the list of values specified
      for the control-plane. If not specified, the control-plane value is
      used. (see <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups-failurezones" title="5.2.9.1. Server Groups and Failure Zones">Section 5.2.9.1, “Server Groups and Failure Zones”</a> for a
      description of server groups as failure zones).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">allocation-policy (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Defines how failure zones will be used when allocating servers.
      </p>
      <p>
       <span class="bold"><strong>strict</strong></span>: Server allocations will be
       distributed across all specified failure zones. (if max-count is not a
       whole number, an exact multiple of the number of zones, then some zones
       may provide one more server than other zones)
      </p>
      <p>
       <span class="bold"><strong>any</strong></span>: Server allocations will be made
       from any combination of failure zones.
      </p>
      <p>
       The default allocation-policy for resources is <span class="emphasis"><em>any</em></span>.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">configuration-data (optional)</td><td>
      A list of configuration-data settings that will be applied to the
      services in this cluster. The values for each service will be combined
      with any values defined as part of the configuration-data list for the
      control-plane. If a value is specified by settings in both lists, the
      value defined here takes precedence.
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-multiple-control-planes" data-id-title="Multiple Control Planes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.2.3 </span><span class="title-name">Multiple Control Planes</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-multiple-control-planes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-multiple_control_planes.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The dependencies between service components (for example, Nova needs
  MariaDB and Keystone API) is defined as part of the service definitions
  provide by <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, the control-planes define how those dependencies will
  be met. For clouds consisting of multiple control-planes, the relationship
  between services in different control planes is defined by a
  <code class="literal">uses</code> attribute in its control-plane object. Services
  will always use other services in the same control-plane before looking to
  see if the required service can be provided from another control-plane.
  For example, a service component in control-plane
  <code class="literal">cp-2</code> (for example, nova-api) might use service
  components from control-plane <code class="literal">cp-shared</code> (for example,
  keystone-api).
 </p><div class="verbatim-wrap"><pre class="screen">control-planes:
    - name: cp-2
      uses:
        - from: cp-shared
          service-components:
            - any</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">from</td><td style="border-bottom: 1px solid ; ">
      The name of the control-plane providing services which may be consumed
      by this control-plane.
     </td></tr><tr><td style="border-right: 1px solid ; ">service-components</td><td>
      A list of service components from the specified control-plane which may
      be consumed by services in this control-plane. The reserved keyword
      <code class="literal">any</code> indicates that any service component from the
      specified control-plane may be consumed by services in this
      control-plane.
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-load-balancer-definitions" data-id-title="Load Balancer Definitions in Control Planes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.2.4 </span><span class="title-name">Load Balancer Definitions in Control Planes</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-load-balancer-definitions">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-load_balancer_definitions.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Starting in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, a load-balancer may be defined within a
  control-plane object, and referenced by name from a network-groups object.
  The following example shows load balancer <code class="literal">extlb</code> defined in
  control-plane <code class="literal">cp1</code> and referenced from the EXTERNAL-API
  network group. See section Load balancers for a complete description of load
  balance attributes.
 </p><div class="verbatim-wrap"><pre class="screen">network-groups:
    - name: EXTERNAL-API
      load-balancers:
        - extlb

  control-planes:
    - name: cp1
      load-balancers:
        - provider: ip-cluster
          name: extlb
          external-name:
          tls-components:
            - default
          roles:
            - public
          cert-file: cp1-extlb-cert</pre></div></section></section><section class="sect1" id="configobj-load-balancers" data-id-title="Load Balancers"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.3 </span><span class="title-name">Load Balancers</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-load-balancers">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-load_balancers.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Load balancers may be defined as part of a network-group object, or as part
  of a control-plane object. When a load-balancer is defined in a
  control-plane, it must be referenced by name only from the associated
  network-group object.
 </p><p>
  For clouds consisting of multiple control planes, load balancers must be
  defined as part of a control-plane object. This allows different load
  balancer configurations for each control plane.
 </p><p>
  In either case, a load-balancer definition has the following attributes:
 </p><div class="verbatim-wrap"><pre class="screen">load-balancers:
        - provider: ip-cluster
          name: extlb
          external-name:

          tls-components:
            - default
          roles:
            - public
          cert-file: cp1-extlb-cert</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      An administrator defined name for the load balancer. This name is used
      to make the association from a network-group.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">provider</td><td style="border-bottom: 1px solid ; ">
      The service component that implements the load balancer. Currently only
      <code class="literal">ip-cluster</code> (ha-proxy) is supported. Future releases
      will provide support for external load balancers.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">roles</td><td style="border-bottom: 1px solid ; ">
      The list of endpoint roles that this load balancer provides (see
      below). 
      Valid roles are
      <code class="literal">public</code>, <code class="literal">internal</code>, and
      <code class="literal">admin</code>. To ensure separation of concerns, the role
      <code class="literal">public</code> cannot be combined with any other role. See
      Load Balancers for an example of how the role provides endpoint
      separation.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">components (optional)</td><td style="border-bottom: 1px solid ; ">
      The list of service-components for which the load balancer provides a
      non-encrypted virtual IP address for.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">tls-components (optional)</td><td style="border-bottom: 1px solid ; ">
      The list of service-components for which the load balancer provides
      TLS-terminated virtual IP addresses for.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">external-name (optional)</td><td style="border-bottom: 1px solid ; ">
      The name to be registered in Keystone for the publicURL. If not
      specified, the virtual IP address will be registered. Note that this
      value cannot be changed after the initial deployment.
     </td></tr><tr><td style="border-right: 1px solid ; ">cert-file (optional)</td><td>
      The name of the certificate file to be used for tls endpoints. If not
      specified, a file name will be constructed using the format
      <code class="literal"><em class="replaceable">CP-NAME</em>-<em class="replaceable">LB-NAME</em>-cert</code>,
      where <code class="literal"><em class="replaceable">CP-NAME</em></code> is the
      control-plane name and
      <code class="literal"><em class="replaceable">LB-NAME</em></code> is the
      load-balancer name.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-regions" data-id-title="Regions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.4 </span><span class="title-name">Regions</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-regions">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-regions.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The regions configuration object is used to define how a set of services from
  one or more control-planes are mapped into Openstack regions (entries within
  the Keystone catalog). In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, multiple regions are not
  supported. Only <code class="literal">Region0</code> is valid.
 </p><p>
  Within each region a given service is provided by one control plane, but the
  set of services in the region may be provided by multiple control planes.
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">The name of the region in the Keystone service catalog. </td></tr><tr><td style="border-right: 1px solid ; ">includes</td><td>
      A list of services to include in this region, broken down by the
      control planes providing the services.
     </td></tr></tbody></table></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">control-plane</td><td style="border-bottom: 1px solid ; ">A control-plane name.</td></tr><tr><td style="border-right: 1px solid ; ">services</td><td>
      A list of service names. This list specifies the services from this
      control-plane to be included in this region. The reserved keyword
      <code class="literal">all</code> may be used when all services from the
      control-plane are to be included.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-servers" data-id-title="Servers"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.5 </span><span class="title-name">Servers</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-servers">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-servers.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The <span class="guimenu">servers</span> configuration object is used to list the
  available servers for deploying the cloud.
 </p><p>
  Optionally, it can be used as an input file to the operating system
  installation process, in which case some additional fields (identified below)
  will be necessary.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  baremetal:
    subnet: 192.168.10.0
    netmask: 255.255.255.0

  servers:
    - id: controller1
      ip-addr: 192.168.10.3
      role: CONTROLLER-ROLE
      server-group: RACK1
      nic-mapping: HP-DL360-4PORT
      mac-addr: b2:72:8d:ac:7c:6f
      ilo-ip: 192.168.9.3
      ilo-password: password
      ilo-user: admin

    - id: controller2
      ip-addr: 192.168.10.4
      role: CONTROLLER-ROLE
      server-group: RACK2
      nic-mapping: HP-DL360-4PORT
      mac-addr: 8a:8e:64:55:43:76
      ilo-ip: 192.168.9.4
      ilo-password: password
      ilo-user: admin</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">id</td><td style="border-bottom: 1px solid ; ">
      An administrator-defined identifier for the server. IDs must be unique
      and are used to track server allocations. (see
      <a class="xref" href="othertopics.html#persisteddata" title="7.3. Persisted Data">Section 7.3, “Persisted Data”</a>).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ip-addr</td><td style="border-bottom: 1px solid ; ">
      <p>
       The IP address is used by the configuration processor to install and
       configure the service components on this server.
      </p>
      <p>
       This IP address must be within the range of a <span class="guimenu">network</span>
       defined in this model.
      </p>
      <p>
       When the servers file is being used for operating system installation,
       this IP address will be assigned to the node by the installation
       process, and the associated <span class="guimenu">network</span> must be an
       untagged VLAN.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hostname (optional)</td><td style="border-bottom: 1px solid ; ">
      The value to use for the hostname of the server. If specified this will
      be used to set the hostname value of the server which will in turn be
      reflected in systems such as Nova, Monasca, etc. If not specified the
      hostname will be derived based on where the server is used and the
      network defined to provide hostnames.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">role</td><td style="border-bottom: 1px solid ; ">
      Identifies the <span class="guimenu">server-role</span> of the server.
      
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">nic-mapping</td><td style="border-bottom: 1px solid ; ">
      Name of the <span class="guimenu">nic-mappings</span> entry to apply to this
      server. (See <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>.)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">server-group (optional)</td><td style="border-bottom: 1px solid ; ">
      Identifies the <span class="guimenu">server-groups</span> entry that this server
      belongs to. (see <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups" title="5.2.9. Server Groups">Section 5.2.9, “Server Groups”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">boot-from-san (optional)</td><td style="border-bottom: 1px solid ; ">
      Must be set to true is the server needs to be configured to boot from
      SAN storage. Default is False
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">fcoe-interfaces (optional)</td><td style="border-bottom: 1px solid ; ">
      A list of network devices that will be used for accessing FCoE storage.
      This is only needed for devices that present as native FCoE, not
      devices such as Emulex which present as a FC device.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ansible-options (optional)</td><td style="border-bottom: 1px solid ; ">
      A string of additional variables to be set when defining the server as
      a host in Ansible. For example, <code class="literal">ansible_ssh_port=5986</code>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">mac-addr (optional)</td><td style="border-bottom: 1px solid ; ">
      Needed when the servers file is being used for operating system
      installation. This identifies the MAC address on the server that will
      be used to network install the operating system.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">kopt-extras (optional)</td><td style="border-bottom: 1px solid ; ">
      Provides additional command line arguments to be passed to the booting
      network kernel. For example, <code class="literal">vga=769</code> sets the video
      mode for the install to low resolution which can be useful for remote
      console users.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ilo-ip (optional)</td><td style="border-bottom: 1px solid ; ">
      Needed when the servers file is being used for operating system
      installation. This provides the IP address of the power management
      (for example, IPMI, iLO) subsystem.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ilo-user (optional)</td><td style="border-bottom: 1px solid ; ">
      Needed when the servers file is being used for operating system
      installation. This provides the user name of the power management (for
      example, IPMI, iLO) subsystem.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ilo-password (optional)</td><td style="border-bottom: 1px solid ; ">
      Needed when the servers file is being used for operating system
      installation. This provides the user password of the power management
      (for example, IPMI, iLO) subsystem.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ilo-extras (optional)</td><td style="border-bottom: 1px solid ; ">
      Needed when the servers file is being used for operating system
      installation. Additional options to pass to ipmitool. For example, this
      may be required if the servers require additional IPMI addressing
      parameters.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">moonshot (optional)</td><td style="border-bottom: 1px solid ; ">
      Provides the node identifier for HPE Moonshot servers, for example,
      <code class="literal">c4n1</code> where c4 is the cartridge and n1 is node.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hypervisor-id (optional)</td><td style="border-bottom: 1px solid ; ">
      This attribute serves two purposes: it indicates that this server is a
      virtual machine (VM), and it specifies the server id of the Cloud Lifecycle Manager
      hypervisor that will host the VM.
     </td></tr><tr><td style="border-right: 1px solid ; ">ardana-hypervisor (optional)</td><td>
      When set to True, this attribute identifies a server as a Cloud Lifecycle Manager
      hypervisor. A Cloud Lifecycle Manager hypervisor is a server that may be used to host
      other servers that are themselves virtual machines. Default value is
      <code class="literal">False</code>.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-servergroups" data-id-title="Server Groups"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.6 </span><span class="title-name">Server Groups</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-servergroups">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-servergroups.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The server-groups configuration object provides a mechanism for organizing
  servers and networks into a hierarchy that can be used for allocation and
  network resolution.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

     - name: CLOUD
        server-groups:
         - AZ1
         - AZ2
         - AZ3
        networks:
         - EXTERNAL-API-NET
         - EXTERNAL-VM-NET
         - GUEST-NET
         - MANAGEMENT-NET

     #
     # Create a group for each failure zone
     #
     - name: AZ1
       server-groups:
         - RACK1

     - name: AZ2
       server-groups:
         - RACK2

     - name: AZ3
       server-groups:
         - RACK3

     #
     # Create a group for each rack
     #
     - name: RACK1
     - name: RACK2
     - name: RACK3</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      An administrator-defined name for the server group. The name is used to
      link server-groups together and to identify server-groups to be used as
      failure zones in a <span class="guimenu">control-plane</span>. (see
      <a class="xref" href="configurationobjects.html#configobj-controlplane" title="6.2. Control Plane">Section 6.2, “Control Plane”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">server-groups (optional)</td><td style="border-bottom: 1px solid ; ">
      A list of server-group names that are nested below this group in the
      hierarchy. Each server group can only be listed in one other server
      group (that is in a strict tree topology).
     </td></tr><tr><td style="border-right: 1px solid ; ">networks (optional)</td><td>
      A list of network names (see <a class="xref" href="cha-input-model-intro-concept.html#concept-networks" title="5.2.10.2. Networks">Section 5.2.10.2, “Networks”</a>). See
      <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups-networks" title="5.2.9.2. Server Groups and Networks">Section 5.2.9.2, “Server Groups and Networks”</a> for a description of
      how networks are matched to servers via server groups.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-serverroles" data-id-title="Server Roles"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.7 </span><span class="title-name">Server Roles</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-serverroles">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-serverroles.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The server-roles configuration object is a list of the various server roles
  that you can use in your cloud. Each server role is linked to other
  configuration objects:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Disk model (<a class="xref" href="configurationobjects.html#configobj-diskmodels" title="6.8.  Disk Models">Section 6.8, “
  Disk Models”</a>)
   </p></li><li class="listitem"><p>
    Interface model (<a class="xref" href="configurationobjects.html#configobj-interfacemodels" title="6.11. Interface Models">Section 6.11, “Interface Models”</a>)
   </p></li><li class="listitem"><p>
    Memory model (<a class="xref" href="configurationobjects.html#configobj-memorymodels" title="6.9. Memory Models">Section 6.9, “Memory Models”</a>)
   </p></li><li class="listitem"><p>
    CPU model (<a class="xref" href="configurationobjects.html#configobj-cpumodels" title="6.10.  CPU Models">Section 6.10, “
  CPU Models”</a>)
   </p></li></ul></div><p>
  Server roles are referenced in the servers (see
  <a class="xref" href="configurationobjects.html#configobj-serverroles" title="6.7. Server Roles">Section 6.7, “Server Roles”</a>) configuration object above.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  server-roles:

     - name: CONTROLLER-ROLE
       interface-model: CONTROLLER-INTERFACES
       disk-model: CONTROLLER-DISKS

     - name: COMPUTE-ROLE
       interface-model: COMPUTE-INTERFACES
       disk-model: COMPUTE-DISKS
       memory-model: COMPUTE-MEMORY
       cpu-model: COMPUTE-CPU</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the role.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">interface-model</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name of the <span class="guimenu">interface-model</span> to be used for this
       server-role.
      </p>
      <p>
       Different server-roles can use the same interface-model.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">disk-model</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name of the <span class="guimenu">disk-model</span> to use for this
       server-role.
      </p>
      <p>
       Different server-roles can use the same disk-model.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">memory-model (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name of the <span class="guimenu">memory-model</span> to use for this
       server-role.
      </p>
      <p>
       Different server-roles can use the same memory-model.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">cpu-model (optional)</td><td>
      <p>
       The name of the <span class="guimenu">cpu-model</span> to use for this
       server-role.
      </p>
      <p>
       Different server-roles can use the same cpu-model.
      </p>
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-diskmodels" data-id-title="Disk Models"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.8 </span><span class="title-name">
  Disk Models</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-diskmodels">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-diskmodels.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The disk-models configuration object is used to specify how the directly
  attached disks on the server should be configured. It can also identify which
  service or service component consumes the disk, for example, Swift object
  server, and provide service-specific information associated with the disk.
  It is also used to specify disk sizing information for virtual machine
  servers.
 </p><p>
  Disks can be used as raw devices or as logical volumes and the disk model
  provides a configuration item for each.
 </p><p>
  If the operating system has been installed by the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> installation
  process then the root disk will already have been set up as a volume-group
  with a single logical-volume. This logical-volume will have been created on a
  partition identified, symbolically, in the configuration files as
  <code class="filename">/dev/sda_root</code>. This is due to the fact that different
  BIOS systems (UEFI, Legacy) will result in different partition numbers on the
  root disk.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  disk-models:
  - name: SES-DISKS

    volume-groups:
       - ...
    device-groups:
       - ...
    vm-size:
       ...</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      The name of the disk-model that is referenced from one or more
      server-roles.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">volume-groups</td><td style="border-bottom: 1px solid ; ">
      A list of volume-groups to be configured (see below). There must be at
      least one volume-group describing the root file system.
      
     </td></tr><tr><td style="border-right: 1px solid ; ">device-groups (optional)</td><td>A list of device-groups (see below)</td></tr></tbody></table></div><section class="sect2" id="configobj-volumegroups" data-id-title="Volume Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.8.1 </span><span class="title-name">Volume Groups</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-volumegroups">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-volumegroups.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The <span class="guimenu">volume-groups</span> configuration object is used to define
  volume groups and their constituent logical volumes.
 </p><p>
  Note that volume-groups are not exact analogs of device-groups. A
  volume-group specifies a set of physical volumes used to make up a
  volume-group that is then subdivided into multiple logical volumes.
 </p><p>
  The <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> operating system installation automatically creates a
  volume-group name "ardana-vg" on the first drive in the system. It creates a
  "root" logical volume there. The volume-group can be expanded by adding more
  physical-volumes (see examples). In addition, it is possible to create more
  logical-volumes on this volume-group to provide dedicated capacity for
  different services or file system mounts.
 </p><div class="verbatim-wrap"><pre class="screen">   volume-groups:
     - name: ardana-vg
       physical-volumes:
         - /dev/sda_root

       logical-volumes:
         - name: root
           size: 35%
           fstype: ext4
           mount: /

         - name: log
           size: 50%
           mount: /var/log
           fstype: ext4
           mkfs-opts: -O large_file

         - ...

     - name: vg-comp
       physical-volumes:
         - /dev/sdb
       logical-volumes:
         - name: compute
           size: 95%
           mount: /var/lib/nova
           fstype: ext4
           mkfs-opts: -O large_file</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Descriptions</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">The name that will be assigned to the volume-group</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">physical-volumes</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of physical disks that make up the volume group.
      </p>
      <p>
       As installed by the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> operating system install process, the
       volume group "ardana-vg" will use a large partition (sda_root) on the
       first disk. This can be expanded by adding additional disk(s).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">logical-volumes</td><td style="border-bottom: 1px solid ; ">
      A list of logical volume devices to create from the above named volume
      group.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">The name to assign to the logical volume.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">size</td><td style="border-bottom: 1px solid ; ">
      The size, expressed as a percentage of the entire volume group
      capacity, to assign to the logical volume.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">fstype (optional)</td><td style="border-bottom: 1px solid ; ">
      The file system type to create on the logical volume. If none
      specified, the volume is not formatted.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">mkfs-opts (optional)</td><td style="border-bottom: 1px solid ; ">
      Options, for example, <code class="literal">-O large_file</code> to pass to the
      mkfs command.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">mode (optional)</td><td style="border-bottom: 1px solid ; ">
      The <code class="literal">mode</code> changes the root file system mode bits,
      which can be either a symbolic representation or an octal number
      representing the bit pattern for the new mode bits.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">mount (optional)</td><td style="border-bottom: 1px solid ; ">Mount point for the file system.</td></tr><tr><td style="border-right: 1px solid ; ">consumer attributes (optional, consumer dependent)</td><td>
      <p>
       These will vary according to the service consuming the device group. The
       examples section provides sample content for the different services.
      </p>
     </td></tr></tbody></table></div><div id="id-1.3.4.4.9.7.7" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
   Multipath storage should be listed as the corresponding
   <code class="filename">/dev/mapper/mpath<em class="replaceable">X</em></code>
  </p></div></section><section class="sect2" id="configobj-devicegroups" data-id-title="Device Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.8.2 </span><span class="title-name">Device Groups</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-devicegroups">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-devicegroups.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The device-groups configuration object provides the mechanism to make the
  whole of a physical disk available to a service.
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Descriptions</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the device group.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">devices</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of named devices to be assigned to this group. There must be at
       least one device in the group.
      </p>
      <p>
       Multipath storage should be listed as the corresponding
       <code class="filename">/dev/mapper/mpath<em class="replaceable">X</em>f</code>
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">consumer</td><td style="border-bottom: 1px solid ; ">
      <p>
       Identifies the name of one of the storage services (for example, one
       of the following: Swift, Cinder, etc.) that will consume the disks in
       this device group.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">consumer attributes</td><td>
      <p>
       These will vary according to the service consuming the device group.
       The examples section provides sample content for the different
       services.
      </p>
     </td></tr></tbody></table></div></section></section><section class="sect1" id="configobj-memorymodels" data-id-title="Memory Models"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.9 </span><span class="title-name">Memory Models</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-memorymodels">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-memorymodels.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The memory-models configuration object describes details of the optional
  configuration of Huge Pages. It also describes the amount of memory to be
  allocated for virtual machine servers.
 </p><p>
  The memory-model allows the number of pages of a particular size to be
  configured at the server level or at the numa-node level.
 </p><p>
  The following example would configure:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    five 2 MB pages in each of numa nodes 0 and 1
   </p></li><li class="listitem"><p>
    three 1 GB pages (distributed across all numa nodes)
   </p></li><li class="listitem"><p>
    six 2 MB pages (distributed across all numa nodes)
   </p></li></ul></div><div class="verbatim-wrap"><pre class="screen">memory-models:
    - name: COMPUTE-MEMORY-NUMA
      default-huge-page-size: 2M
      huge-pages:
        - size: 2M
          count: 5
          numa-node: 0
        - size: 2M
          count: 5
          numa-node: 1
        - size: 1G
          count: 3
        - size: 2M
          count: 6
    - name: VIRTUAL-CONTROLLER-MEMORY
      vm-size:
        ram: 6G</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">The name of the memory-model that is referenced from one or more
              server-roles.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">default-huge-page-size
              (optional)
            </td><td style="border-bottom: 1px solid ; ">
      <p>
       The default page size that will be used is specified when allocating
       huge pages.
      </p>
      <p>
       If not specified, the default is set by the operating system.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">huge-pages</td><td>A list of huge page definitions (see below).</td></tr></tbody></table></div><section class="sect2" id="configobj-huge-pages" data-id-title="Huge Pages"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.9.1 </span><span class="title-name">Huge Pages</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-huge-pages">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-huge_pages.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">size</td><td style="border-bottom: 1px solid ; ">
      <p>
       The page size in kilobytes, megabytes, or gigabytes specified as
       <span class="emphasis"><em>n</em></span>X where:
      </p>
      <div class="variablelist"><dl class="variablelist"><dt id="id-1.3.4.4.10.8.2.1.4.1.2.2.1"><span class="term"><span class="emphasis"><em>n</em></span>
        </span></dt><dd><p>
          is an integer greater than zero
         </p></dd><dt id="id-1.3.4.4.10.8.2.1.4.1.2.2.2"><span class="term">X</span></dt><dd><p>
          is one of "K", "M" or "G"
         </p></dd></dl></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">count</td><td style="border-bottom: 1px solid ; ">The number of pages of this size to create (must be greater than zero).</td></tr><tr><td style="border-right: 1px solid ; ">numa-node (optional) </td><td>
      <p>
       If specified the pages will be created in the memory associated with
       this numa node.
      </p>
      <p>
       If not specified the pages are distributed across numa nodes by the
       operating system.
      </p>
     </td></tr></tbody></table></div></section></section><section class="sect1" id="configobj-cpumodels" data-id-title="CPU Models"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.10 </span><span class="title-name">
  CPU Models</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-cpumodels">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-cpumodels.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The <code class="literal">cpu-models</code> configuration object describes how CPUs are
  assigned for use by service components such as Nova (for VMs) and Open
  vSwitch (for DPDK), and whether or not those CPUs are isolated from the
  general kernel SMP balancing and scheduling algorithms.
  It also describes the number of vCPUs for virtual machine servers.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  cpu-models:
    - name: COMPUTE-CPU
      assignments:
        - components:
            - nova-compute-kvm
          cpu:
            - processor-ids: 0-1,3,5-7
              role: vm
        - components:
            - openvswitch
          cpu:
            - processor-ids: 4,12
              isolate: False
              role: eal
            - processor-ids: 2,10
              role: pmd
    - name: VIRTUAL-CONTROLLER-CPU
      vm-size:
         vcpus: 4</pre></div><p>
  <span class="bold"><strong>cpu-models</strong></span>
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the cpu model.</td></tr><tr><td style="border-right: 1px solid ; ">assignments</td><td>A list of CPU assignments .</td></tr></tbody></table></div><section class="sect2" id="configobj-cpu-assignments" data-id-title="CPU Assignments"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.10.1 </span><span class="title-name">CPU Assignments</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-cpu-assignments">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-cpu_assignments.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <span class="bold"><strong>assignments</strong></span>
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">components</td><td style="border-bottom: 1px solid ; ">A list of components to which the CPUs will be assigned.</td></tr><tr><td style="border-right: 1px solid ; ">cpu</td><td>
      A list of CPU usage objects (see <a class="xref" href="configurationobjects.html#configobj-cpu-usage" title="6.10.2. CPU Usage">Section 6.10.2, “CPU Usage”</a>
      below).
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-cpu-usage" data-id-title="CPU Usage"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.10.2 </span><span class="title-name">CPU Usage</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-cpu-usage">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-cpu_usage.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <span class="bold"><strong>cpu</strong></span>
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">processor-ids</td><td style="border-bottom: 1px solid ; ">A list of CPU IDs as seen by the operating system.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">isolate (optional) </td><td style="border-bottom: 1px solid ; ">
      <p>
       A Boolean value which indicates if the CPUs are to be isolated from the
       general kernel SMP balancing and scheduling algorithms. The specified
       processor IDs will be configured in the Linux kernel isolcpus parameter.
      </p>
      <p>
       The default value is True.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">role</td><td>A role within the component for which the CPUs will be used.</td></tr></tbody></table></div></section><section class="sect2" id="configobj-cpu-components-roles" data-id-title="Components and Roles in the CPU Model"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.10.3 </span><span class="title-name">Components and Roles in the CPU Model</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-cpu-components-roles">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-cpu_components_roles.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Component</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Role</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">nova-compute-kvm</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">vm</td><td style="border-bottom: 1px solid ; ">
      <p>
       The specified processor IDs will be configured in the Nova
       vcpu_pin_set option.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; " rowspan="2">openvswitch</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">eal</td><td style="border-bottom: 1px solid ; ">
      <p>
       The specified processor IDs will be configured in the Open vSwitch
       DPDK EAL -c (coremask) option. Refer to the DPDK documentation for
       details.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">pmd</td><td>
      <p>
       The specified processor IDs will be configured in the <span class="productname">Open vSwitch</span>
       pmd-cpu-mask option. Refer to the <span class="productname">Open vSwitch</span> documentation and the
       ovs-vswitchd.conf.db man page for details.
      </p>
     </td></tr></tbody></table></div></section></section><section class="sect1" id="configobj-interfacemodels" data-id-title="Interface Models"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.11 </span><span class="title-name">Interface Models</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-interfacemodels">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-interfacemodels.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The interface-models configuration object describes how network interfaces
  are bonded and the mapping of network groups onto interfaces. Interface
  devices are identified by name and mapped to a particular physical port by
  the <span class="guimenu">nic-mapping</span> (see <a class="xref" href="cha-input-model-intro-concept.html#concept-nicmapping" title="5.2.10.4. NIC Mapping">Section 5.2.10.4, “NIC Mapping”</a>).
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  interface-models:
     - name: INTERFACE_SET_CONTROLLER
       network-interfaces:
          - name: BONDED_INTERFACE
            device:
              name: bond0
            bond-data:
              provider: linux
              devices:
                - name: hed3
                - name: hed4
              options:
                mode: active-backup
                miimon: 200
                primary: hed3
            network-groups:
               - EXTERNAL_API
               - EXTERNAL_VM
               - GUEST

          - name: UNBONDED_INTERFACE
            device:
               name: hed0
            network-groups:
               - MGMT


       fcoe-interfaces:
          - name: FCOE_DEVICES
            devices:
              - eth7
              - eth8


     - name: INTERFACE_SET_DPDK
       network-interfaces:
          - name: BONDED_DPDK_INTERFACE
            device:
              name: bond0
            bond-data:
              provider: openvswitch
              devices:
                - name: dpdk0
                - name: dpdk1
              options:
                mode: active-backup
            network-groups:
               - GUEST
          - name: UNBONDED_DPDK_INTERFACE
            device:
               name: dpdk2
            network-groups:
               - PHYSNET2
       dpdk-devices:
         - devices:
             - name: dpdk0
             - name: dpdk1
             - name: dpdk2
               driver: igb_uio
           components:
             - openvswitch
           eal-options:
             - name: socket-mem
               value: 1024,0
             - name: n
               value: 2
           component-options:
             - name: n-dpdk-rxqs
               value: 64</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the interface model.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">network-interfaces</td><td style="border-bottom: 1px solid ; ">A list of network interface definitions.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      fcoe-interfaces (optional): <a class="xref" href="configurationobjects.html#configobj-fcoeinterfaces" title="6.11.2. fcoe-interfaces">Section 6.11.2, “fcoe-interfaces”</a>
      </td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of network interfaces that will be used for Fibre Channel over
       Ethernet (FCoE). This is only needed for devices that present as a
       native FCoE device, not cards such as Emulex which present FCoE as a FC
       device.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">dpdk-devices (optional)</td><td>A list of DPDK device definitions.</td></tr></tbody></table></div><div id="id-1.3.4.4.12.5" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
   The devices must be <span class="quote">“<span class="quote">raw</span>”</span> device names, not names controlled
   via a nic-mapping.
  </p></div><section class="sect2" id="configobj-network-interfaces" data-id-title="network-interfaces"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.11.1 </span><span class="title-name">
  network-interfaces</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-network-interfaces">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-network_interfaces.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The network-interfaces configuration object has the following attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the interface</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">device</td><td style="border-bottom: 1px solid ; ">
      <p>
       A dictionary containing the network device name (as seen on the
       associated server) and associated properties (see
       <a class="xref" href="configurationobjects.html#configobj-network-interfaces-device" title="6.11.1.1. network-interfaces device">Section 6.11.1.1, “network-interfaces device”</a> for details).
      </p>
      
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">network-groups (optional if forced-network-groups is defined)</td><td style="border-bottom: 1px solid ; ">
      A list of one or more <span class="guimenu">network-groups</span> (see
      <a class="xref" href="configurationobjects.html#configobj-networkgroups" title="6.13. Network Groups">Section 6.13, “Network Groups”</a>) containing
      <span class="guimenu">networks</span> (see <a class="xref" href="configurationobjects.html#configobj-networks" title="6.14. Networks">Section 6.14, “Networks”</a>)
      that can be accessed via this interface. Networks in these groups will
      only be configured if there is at least one
      <span class="guimenu">service-component</span> on the server which matches the
      list of component-endpoints defined in the
      <span class="guimenu">network-group</span>.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">forced-network-groups (optional if network-groups is defined)</td><td style="border-bottom: 1px solid ; ">
      A list of one or more <span class="guimenu">network-groups</span> (see
      <a class="xref" href="configurationobjects.html#configobj-networkgroups" title="6.13. Network Groups">Section 6.13, “Network Groups”</a>) containing
      <span class="guimenu">networks</span> (see <a class="xref" href="configurationobjects.html#configobj-networks" title="6.14. Networks">Section 6.14, “Networks”</a>)
      that can be accessed via this interface. Networks in these groups are
      always configured on the server.
     </td></tr><tr><td style="border-right: 1px solid ; ">passthrough-network-groups (optional)</td><td>
      A list of one or more network-groups (see
      <a class="xref" href="configurationobjects.html#configobj-networkgroups" title="6.13. Network Groups">Section 6.13, “Network Groups”</a>) containing networks (see
      <a class="xref" href="configurationobjects.html#configobj-networks" title="6.14. Networks">Section 6.14, “Networks”</a>) that can be accessed by servers
      running as virtual machines on an Cloud Lifecycle Manager hypervisor server. Networks in
      these groups are not configured on the Cloud Lifecycle Manager hypervisor server unless
      they also are specified in the <code class="literal">network-groups</code> or
      <code class="literal">forced-network-groups</code> attributes.
     </td></tr></tbody></table></div><section class="sect3" id="configobj-network-interfaces-device" data-id-title="network-interfaces device"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.11.1.1 </span><span class="title-name">network-interfaces device</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-network-interfaces-device">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-network_interfaces_device.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <span class="bold"><strong>network-interfaces device</strong></span>
 </p><p>
  The network-interfaces device configuration object has the following
  attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       When configuring a bond, this is used as the bond device name - the
       names of the devices to be bonded are specified in the bond-data
       section.
      </p>
      <p>
       If the interface is not bonded, this must be the name of the device
       specified by the nic-mapping (see NIC Mapping).
       
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">vf-count (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       Indicates that the interface is to be used for SR-IOV. The value is the
       number of virtual functions to be created. The associated device
       specified by the nic-mapping must have a valid nice-device-type.
      </p>
      <p>
       vf-count cannot be specified on bonded interfaces
      </p>
      <p>
       Interfaces used for SR-IOV must be associated with a network with
       <code class="literal">tagged-vlan: false</code>.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">sriov-only (optional) </td><td style="border-bottom: 1px solid ; ">
      <p>
       Only valid when vf-count is specified. If set to true then the interface
       is to be used for virtual functions only and the physical function will
       not be used.
      </p>
      <p>
       The default value is False.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">pci-pt (optional) </td><td>
      <p>
       If set to true then the interface is used for PCI passthrough.
      </p>
      <p>
       The default value is False.
      </p>
     </td></tr></tbody></table></div></section></section><section class="sect2" id="configobj-fcoeinterfaces" data-id-title="fcoe-interfaces"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.11.2 </span><span class="title-name">fcoe-interfaces</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-fcoeinterfaces">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-fcoeinterfaces.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The fcoe-interfaces configuration object has the following attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the group of FCOE interfaces </td></tr><tr><td style="border-right: 1px solid ; ">devices</td><td>
      <p>
       A list of network devices that will be configured for FCOE
      </p>
      <p>
       Entries in this must be the name of a device specified by the
       nic-mapping (see <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>).
      </p>
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-dpdkdevices" data-id-title="dpdk-devices"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.11.3 </span><span class="title-name">dpdk-devices</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-dpdkdevices">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-dpdkdevices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The dpdk-devices configuration object has the following attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Descriptions</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">devices</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of network devices to be configured for DPDK. See
       <a class="xref" href="configurationobjects.html#configobj-dpdkdevices-devices" title="6.11.3.1.  dpdk-devices devices">Section 6.11.3.1, “
  dpdk-devices devices”</a>.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">eal-options</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of key-value pairs that may be used to set DPDK Environmental
       Abstraction Layer (EAL) options. Refer to the DPDK documentation for
       details.
      </p>
      <p>
       Note that the cpu-model should be used to specify the processor IDs to
       be used by EAL for this component. The EAL coremask
       (<code class="literal">-c</code>) option will be set automatically based on the
       information in the cpu-model, and so should not be specified here. See
       <a class="xref" href="configurationobjects.html#configobj-cpumodels" title="6.10.  CPU Models">Section 6.10, “
  CPU Models”</a>.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">component-options</td><td>
      <p>
       A list of key-value pairs that may be used to set component-specific
       configuration options.
      </p>
     </td></tr></tbody></table></div><section class="sect3" id="configobj-dpdkdevices-devices" data-id-title="dpdk-devices devices"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.11.3.1 </span><span class="title-name">
  dpdk-devices devices</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-dpdkdevices-devices">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-dpdkdevices_devices.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The devices configuration object within dpdk-devices has the following
  attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Descriptions</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">The name of a network device to be used with DPDK. The device names must be the
            logical-name specified by the nic-mapping
            (see <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>).</td></tr><tr><td style="border-right: 1px solid ; ">driver (optional) </td><td>
      <p>
       Defines the userspace I/O driver to be used for network devices where
       the native device driver does not provide userspace I/O capabilities.
      </p>
      <p>
       The default value is <code class="literal">igb_uio</code>.
      </p>
     </td></tr></tbody></table></div></section><section class="sect3" id="configobj-dpdk-componentoptions" data-id-title="DPDK component-options for the openvswitch component"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.11.3.2 </span><span class="title-name">DPDK component-options for the openvswitch component</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-dpdk-componentoptions">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-dpdk_componentoptions.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The following options are supported for use with the openvswitch component:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Name</th><th style="border-bottom: 1px solid ; ">Value Descriptions</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; ">n-dpdk-rxqs</td><td>
      <p>
       Number of rx queues for each DPDK interface. Refer to the Open vSwitch
       documentation and the <code class="literal">ovs-vswitchd.conf.db</code> man page
       for details.
      </p>
     </td></tr></tbody></table></div><p>
  Note that the cpu-model should be used to define the CPU affinity of the <span class="productname">Open vSwitch</span>
  PMD (Poll Mode Driver) threads. The <span class="productname">Open vSwitch</span>
  <code class="literal">pmd-cpu-mask</code> option will be set automatically based on the
  information in the cpu-model. See <a class="xref" href="configurationobjects.html#configobj-cpumodels" title="6.10.  CPU Models">Section 6.10, “
  CPU Models”</a>.
 </p></section></section></section><section class="sect1" id="configobj-nicmappings" data-id-title="NIC Mappings"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.12 </span><span class="title-name">NIC Mappings</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-nicmappings">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-nicmappings.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The <span class="guimenu">nic-mappings</span> configuration object is used to ensure
  that the network device name used by the operating system always maps to the
  same physical device. A <span class="guimenu">nic-mapping</span> is associated to a
  <span class="guimenu">server</span> in the server definition file.  Devices should be named <code class="literal">hedN</code> to
  avoid name clashes with any other devices configured during the operating
  system install as well as any interfaces that are not being managed by
  <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, ensuring that all devices on a baremetal machine are specified in
  the file. An excerpt from <code class="filename">nic_mappings.yml</code> illustrates:
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  nic-mappings:

    - name: HP-DL360-4PORT
      physical-ports:
        - logical-name: hed1
          type: simple-port
          bus-address: "0000:07:00.0"

        - logical-name: hed2
          type: simple-port
          bus-address: "0000:08:00.0"
          nic-device-type: '8086:10fb'

        - logical-name: hed3
          type: multi-port
          bus-address: "0000:09:00.0"
          port-attributes:
              port-num: 0

        - logical-name: hed4
          type: multi-port
          bus-address: "0000:09:00.0"
          port-attributes:
              port-num: 1</pre></div><p>
  Each entry in the <span class="guimenu">nic-mappings</span> list has the following
  attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      An administrator-defined name for the mapping. This name may be used in
      a server definition (see <a class="xref" href="configurationobjects.html#configobj-servers" title="6.5. Servers">Section 6.5, “Servers”</a>) to apply
      the mapping to that server.
     </td></tr><tr><td style="border-right: 1px solid ; ">physical-ports</td><td>A list containing device name to address mapping information.</td></tr></tbody></table></div><p>
  Each entry in the <span class="guimenu">physical-ports</span> list has the following
  attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">logical-name</td><td style="border-bottom: 1px solid ; ">
      The network device name that will be associated with the device at the
      specified <span class="emphasis"><em>bus-address</em></span>. The logical-name specified
      here can be used as a device name in network interface model
      definitions. (See <a class="xref" href="configurationobjects.html#configobj-interfacemodels" title="6.11. Interface Models">Section 6.11, “Interface Models”</a>.)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">type</td><td style="border-bottom: 1px solid ; ">
      <p>
       The type of port. <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span> supports "simple-port" and
       "multi-port". Use "simple-port" if your device has a unique bus-address.
       Use "multi-port" if your hardware requires a "port-num" attribute to
       identify a single port on a multi-port device. An examples of such a
       device is:
      </p>
      <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         Mellanox Technologies MT26438 [ConnectX VPI PCIe 2.0 5GT/s - IB QDR /
         10GigE Virtualization+]
        </p></li></ul></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">bus-address</td><td style="border-bottom: 1px solid ; ">
      PCI bus address of the port. Enclose the bus address in quotation marks
      so yaml does not misinterpret the embedded colon
      (<code class="literal">:</code>) characters. See
      <span class="intraxref">Book “<em class="citetitle">Installing with Cloud Lifecycle Manager</em>”, Chapter 2 “Pre-Installation Checklist”</span> for details on how to determine
      this value. </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      port-attributes (required if type is
      <code class="literal">multi-port</code>)
     </td><td style="border-bottom: 1px solid ; ">
      Provides a list of attributes for the physical port. The current
      implementation supports only one attribute, "port-num". Multi-port
      devices share a bus-address. Use the "port-num" attribute to identify
      which physical port on the multi-port device to map. See
      <span class="intraxref">Book “<em class="citetitle">Installing with Cloud Lifecycle Manager</em>”, Chapter 2 “Pre-Installation Checklist”</span> for details on how to determine
      this value.</td></tr><tr><td style="border-right: 1px solid ; ">nic-device-type (optional) </td><td>
      Specifies the PCI vendor ID and device ID of the port in the format of
      <code class="literal"><em class="replaceable">VENDOR_ID</em>:<em class="replaceable">DEVICE_ID</em></code>, for example,
      <code class="literal">8086:10fb</code>.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-networkgroups" data-id-title="Network Groups"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.13 </span><span class="title-name">Network Groups</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-networkgroups">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networkgroups.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Network-groups define the overall network topology, including where
  service-components connect, what load balancers are to be deployed, which
  connections use TLS, and network routing. They also provide the data needed
  to map Neutron's network configuration to the physical networking.
 </p><div id="id-1.3.4.4.14.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>
   The name of the "MANAGEMENT" <span class="guimenu">network-group</span> cannot be
   changed. It must be upper case. Every SUSE <span class="productname">OpenStack</span> Cloud requires this network group in
   order to be valid.
  </p></div><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  network-groups:

     - name: EXTERNAL-API
       hostname-suffix: extapi

       load-balancers:
         - provider: ip-cluster
           name: extlb
           external-name:

           tls-components:
             - default
           roles:
            - public
           cert-file: my-public-entry-scale-kvm-cert

      - name: EXTERNAL-VM
        tags:
          - neutron.l3_agent.external_network_bridge

      - name: GUEST
        hostname-suffix: guest
        tags:
          - neutron.networks.vxlan

      - name: MANAGEMENT
        hostname-suffix: mgmt
        hostname: true

        component-endpoints:
          - default

        routes:
          - default

        load-balancers:
          - provider: ip-cluster
            name: lb
            components:
              - default
            roles:
              - internal
              - admin

        tags:
          - neutron.networks.vlan:
              provider-physical-network: physnet1</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      An administrator-defined name for the network group. The name is used
      to make references from other parts of the input model.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">component-endpoints (optional)</td><td style="border-bottom: 1px solid ; ">
      The list of <span class="guimenu">service-components</span> that will bind to or
      need direct access to networks in this network-group.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hostname (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       If set to true, the name of the address associated with a network in
       this group will be used to set the hostname of the server.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">hostname-suffix (optional)</td><td style="border-bottom: 1px solid ; ">
      If supplied, this string will be used in the name generation (see
      <a class="xref" href="othertopics.html#namegeneration" title="7.2. Name Generation">Section 7.2, “Name Generation”</a>). If not specified, the name of the
      network-group will be used.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">load-balancers (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of load balancers to be configured on networks in this
       network-group. Because load balances need a virtual IP address, any
       network group that contains a load balancer can only have one network
       associated with it.
      </p>
      <p>
       For clouds consisting of a single control plane, a load balancer may be
       fully defined within a <code class="literal">network-group</code> object. See Load
       balancer definitions in network groups.
      </p>
      <p>
       Starting in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, a load balancer may be defined within a
       <code class="literal">control-plane</code> object and referenced by name from a
       <code class="literal">network-group</code> object. See
       <a class="xref" href="configurationobjects.html#configobj-lb-defs-networkgroups" title="6.13.1. Load Balancer Definitions in Network Groups">Section 6.13.1, “Load Balancer Definitions in Network Groups”</a>
       in control planes.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">routes (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of <span class="guimenu">network-groups</span> that networks in this group
       provide access to via their gateway. This can include the value
       <code class="literal">default</code> to define the default route.
      </p>
      <p>
       A network group with no services attached to it can be used to define
       routes to external networks.
      </p>
      <p>
       The name of a Neutron provide network defined via configuration-data
       (see <a class="xref" href="configurationobjects.html#configobj-neutron-provider-networks" title="6.16.2.1. neutron-provider-networks">Section 6.16.2.1, “neutron-provider-networks”</a>) can also be
       included in this list.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">tags (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of network tags. Tags provide the linkage between the physical
       network configuration and the Neutron network configuration.
      </p>
      <p>
       Starting in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, network tags may be defined as part of a
       Neutron <code class="literal">configuration-data</code> object rather than as part
       of a <code class="literal">network-group</code> object (see
       <a class="xref" href="configurationobjects.html#configobj-configurationdata-neutron" title="6.16.2. Neutron Configuration Data">Section 6.16.2, “Neutron Configuration Data”</a>).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">mtu (optional)</td><td>
      <p>
       Specifies the MTU value required for networks in this network group If
       not specified a default value of 1500 is used.
      </p>
      <p>
       See <a class="xref" href="configurationobjects.html#configobj-mtu" title="6.13.3. MTU (Maximum Transmission Unit)">Section 6.13.3, “MTU (Maximum Transmission Unit)”</a> on how MTU settings are applied to
       interfaces when there are multiple tagged networks on the same
       interface.
      </p>
     </td></tr></tbody></table></div><div id="id-1.3.4.4.14.6" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
   <code class="literal">hostname</code><span class="bold"><strong>must</strong></span> be set to
   <code class="literal">true</code> for one, and only one, of your network groups.
  </p></div><p>
  A load balancer definition has the following attributes:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the load balancer.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">provider</td><td style="border-bottom: 1px solid ; ">
      The service component that implements the load balancer. Currently only
      <code class="literal">ip-cluster</code> (ha-proxy) is supported. Future releases
      will provide support for external load balancers.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">roles</td><td style="border-bottom: 1px solid ; ">
      The list of endpoint roles that this load balancer provides (see
      below). Valid roles are "public", "internal", and "admin'. To ensure
      separation of concerns, the role "public" cannot be combined with any
      other role. See <a class="xref" href="cha-input-model-intro-concept.html#concept-loadbalancers" title="5.2.10.1.1. Load Balancers">Section 5.2.10.1.1, “Load Balancers”</a> for an example
      of how the role provides endpoint separation.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">components (optional)</td><td style="border-bottom: 1px solid ; ">The list of <span class="guimenu">service-components</span> for which the load
                        balancer provides a non-encrypted virtual IP address for.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">tls-components (optional)</td><td style="border-bottom: 1px solid ; ">
      The list of <span class="guimenu">service-components</span> for which the load
      balancer provides TLS-terminated virtual IP addresses for. In
      <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, TLS is supported both for internal and public endpoints.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">external-name (optional)</td><td style="border-bottom: 1px solid ; ">
      The name to be registered in Keystone for the publicURL. If not
      specified, the virtual IP address will be registered. Note that this
      value cannot be changed after the initial deployment.
     </td></tr><tr><td style="border-right: 1px solid ; ">cert-file (optional)</td><td>
      The name of the certificate file to be used for TLS endpoints.
     </td></tr></tbody></table></div><section class="sect2" id="configobj-lb-defs-networkgroups" data-id-title="Load Balancer Definitions in Network Groups"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.13.1 </span><span class="title-name">Load Balancer Definitions in Network Groups</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-lb-defs-networkgroups">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-lb_defs_networkgroups.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  In a cloud consisting of a single control-plane, a
  <code class="literal">load-balancer</code> may be fully defined within a
  <code class="literal">network-groups</code> object as shown in the examples above. See
  section <a class="xref" href="configurationobjects.html#configobj-load-balancers" title="6.3. Load Balancers">Section 6.3, “Load Balancers”</a> for a complete description
  of load balancer attributes.
 </p><p>
  Starting in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, a <code class="literal">load-balancer</code> may be
  defined within a <code class="literal">control-plane</code> object in which case the
  network-group provides just a list of load balancer names as shown below. See
  section <a class="xref" href="configurationobjects.html#configobj-load-balancers" title="6.3. Load Balancers">Section 6.3, “Load Balancers”</a> definitions in control
  planes.
 </p><div class="verbatim-wrap"><pre class="screen">network-groups:

     - name: EXTERNAL-API
       hostname-suffix: extapi

       load-balancers:
         - lb-cp1
         - lb-cp2</pre></div><p>
  The same load balancer name can be used in multiple control-planes to make
  the above list simpler.
 </p></section><section class="sect2" id="configobj-networktags" data-id-title="Network Tags"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.13.2 </span><span class="title-name">Network Tags</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-networktags">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networktags.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> supports a small number of network tags which may be used to convey
  information between the input model and the service components (currently
  only Neutron uses network tags). A network tag consists minimally of a tag
  name; but some network tags have additional attributes.
 </p><div class="table" id="neutron-networks-vxlan" data-id-title="neutron.networks.vxlan"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 6.1: </span><span class="title-name">neutron.networks.vxlan </span></span><a title="Permalink" class="permalink" href="configurationobjects.html#neutron-networks-vxlan">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networktags.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tag</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">neutron.networks.vxlan</td><td style="border-bottom: 1px solid ; ">This tag causes Neutron to be configured to use VxLAN as the underlay for
                        tenant networks. The associated network group will carry the VxLAN
                        traffic.</td></tr><tr><td style="border-right: 1px solid ; ">tenant-vxlan-id-range (optional)</td><td>Used to specify the VxLAN identifier range in the format
     <span class="quote">“<span class="quote"><em class="replaceable">MIN-ID</em>:<em class="replaceable">MAX-ID</em></span>”</span>. The
     default range is <span class="quote">“<span class="quote">1001:65535</span>”</span>. Enclose the range in quotation
     marks. Multiple ranges can be specified as a comma-separated
     list. </td></tr></tbody></table></div></div><p>
  Example using the default ID range:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.vxlan</pre></div><p>
  Example using a user-defined ID range:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.vxlan:
        tenant-vxlan-id-range: “1:20000”</pre></div><p>
  Example using multiple user-defined ID range:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.vxlan:
        tenant-vxlan-id-range: “1:2000,3000:4000,5000:6000”</pre></div><div class="table" id="neutron-networks-vlan" data-id-title="neutron.networks.vlan"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 6.2: </span><span class="title-name">neutron.networks.vlan </span></span><a title="Permalink" class="permalink" href="configurationobjects.html#neutron-networks-vlan">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networktags.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tag</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">neutron.networks.vlan</td><td style="border-bottom: 1px solid ; ">
      <p>
       This tag causes Neutron to be configured for provider VLAN networks, and
       optionally to use VLAN as the underlay for tenant networks. The
       associated network group will carry the VLAN traffic. This tag can be
       specified on multiple network groups. However, this tag does not cause
       any Neutron networks to be created, that must be done in Neutron after
       the cloud is deployed.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">provider-physical-network</td><td style="border-bottom: 1px solid ; ">The provider network name. This is the name to be used in the Neutron API
                        for the <span class="emphasis"><em>provider:physical_network</em></span> parameter of network
                        objects.</td></tr><tr><td style="border-right: 1px solid ; ">tenant-vlan-id-range (optional)</td><td>This attribute causes Neutron to use VLAN for tenant networks; omit
     this attribute if you are using provider VLANs only. It specifies the VLAN
     ID range for tenant networks, in the format
     <span class="quote">“<span class="quote"><em class="replaceable">MIN-ID</em>:<em class="replaceable">MAX-ID</em></span>”</span>. Enclose
     the range in quotation marks. Multiple ranges can be specified as a
     comma-separated list.</td></tr></tbody></table></div></div><p>
  Example using a provider vlan only (may be used with tenant VxLAN):
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.vlan:
        provider-physical-network: physnet1</pre></div><p>
  Example using a tenant and provider VLAN:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.vlan:
        provider-physical-network: physnet1
        tenant-vlan-id-range: “30:50,100:200”</pre></div><div class="table" id="neutron-networks-flat" data-id-title="neutron.networks.flat"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 6.3: </span><span class="title-name">neutron.networks.flat </span></span><a title="Permalink" class="permalink" href="configurationobjects.html#neutron-networks-flat">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networktags.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tag</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">neutron.networks.flat</td><td style="border-bottom: 1px solid ; ">
      <p>
       This tag causes Neutron to be configured for provider flat networks. The
       associated network group will carry the traffic. This tag can be
       specified on multiple network groups. However, this tag does not cause
       any Neutron networks to be created, that must be done in Neutron after
       the cloud is deployed.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">provider-physical-network</td><td>The provider network name. This is the name to be used in the Neutron API
                        for the <span class="emphasis"><em>provider:physical_network</em></span> parameter of network
                        objects. When specified on multiple network groups, the name must be unique
                        for each network group.</td></tr></tbody></table></div></div><p>
  Example using a provider flat network:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.networks.flat:
        provider-physical-network: flatnet1</pre></div><div class="table" id="neutron-l3-agent" data-id-title="neutron.l3_agent.external_network_bridge"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 6.4: </span><span class="title-name">neutron.l3_agent.external_network_bridge </span></span><a title="Permalink" class="permalink" href="configurationobjects.html#neutron-l3-agent">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networktags.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Tag</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; ">neutron.l3_agent.external_network_bridge</td><td>
      <p>
       This tag causes the Neutron L3 Agent to be configured to use the
       associated network group as the Neutron external network for floating IP
       addresses. A CIDR <span class="bold"><strong>should not</strong></span> be defined
       for the associated physical network, as that will cause addresses from
       that network to be configured in the hypervisor. When this tag is used,
       provider networks cannot be used as external networks. However, this tag
       does not cause a Neutron external networks to be created, that must be
       done in Neutron after the cloud is deployed.
      </p>
     </td></tr></tbody></table></div></div><p>
  Example using neutron.l3_agent.external_network_bridge:
 </p><div class="verbatim-wrap"><pre class="screen">  tags:
    - neutron.l3_agent.external_network_bridge</pre></div></section><section class="sect2" id="configobj-mtu" data-id-title="MTU (Maximum Transmission Unit)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.13.3 </span><span class="title-name">MTU (Maximum Transmission Unit)</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-mtu">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-mtu.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  A network group may optionally specify an MTU for its networks to use.
  Because a network-interface in the interface-model may have a mix of one
  untagged-vlan network group and one or more tagged-vlan network groups, there
  are some special requirements when specifying an MTU on a network group.
 </p><p>
  If the network group consists of untagged-vlan network(s) then its specified
  MTU must be greater than or equal to the MTU of any tagged-vlan network
  groups which are co-located on the same network-interface.
 </p><p>
  For example consider a network group with untagged VLANs, NET-GROUP-1, which
  is going to share (via a Network Interface definition) a device (eth0) with
  two network groups with tagged VLANs: NET-GROUP-2 (ID=201, MTU=1550) and
  NET-GROUP-3 (ID=301, MTU=9000).
 </p><p>
  The device (eth0) must have an MTU which is large enough to accommodate the
  VLAN in NET-GROUP-3. Since NET-GROUP-1 has untagged VLANS it will also be
  using this device and so it must also have an MTU of 9000, which results in
  the following configuration.
 </p><div class="verbatim-wrap"><pre class="screen">    +eth0 (9000)   &lt;------ this MTU comes from NET-GROUP-1
    | |
    | |----+ vlan201@eth0 (1550)
    \------+ vlan301@eth0 (9000)</pre></div><p>
  Where an interface is used only by network groups with tagged VLANs the MTU
  of the device or bond will be set to the highest MTU value in those groups.
 </p><p>
  For example if bond0 is configured to be used by three network groups:
  NET-GROUP-1 (ID=101, MTU=3000), NET-GROUP-2 (ID=201, MTU=1550) and
  NET-GROUP-3 (ID=301, MTU=9000).
 </p><p>
  Then the resulting configuration would be:
 </p><div class="verbatim-wrap"><pre class="screen">    +bond0 (9000)   &lt;------ because of NET-GROUP-3
    | | |
    | | |--+vlan101@bond0 (3000)
    | |----+vlan201@bond0 (1550)
    |------+vlan301@bond0 (9000)</pre></div></section></section><section class="sect1" id="configobj-networks" data-id-title="Networks"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.14 </span><span class="title-name">Networks</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-networks">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-networks.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  A network definition represents a physical L3 network used by the cloud
  infrastructure. Note that these are different from the network definitions
  that are created/configured in Neutron, although some of the networks may be
  used by Neutron.
 </p><div class="verbatim-wrap"><pre class="screen">---
   product:
     version: 2

   networks:
     - name: NET_EXTERNAL_VM
       vlanid: 102
       tagged-vlan: true
       network-group: EXTERNAL_VM

     - name: NET_GUEST
       vlanid: 103
       tagged-vlan: true
       cidr: 10.1.1.0/24
       gateway-ip: 10.1.1.1
       network-group: GUEST

     - name: NET_MGMT
       vlanid: 100
       tagged-vlan: false
       cidr: 10.2.1.0/24
       addresses:
       - 10.2.1.10-10.2.1.20
       - 10.2.1.24
       - 10.2.1.30-10.2.1.36
       gateway-ip: 10.2.1.1
       network-group: MGMT</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      The name of this network. The network <span class="emphasis"><em>name</em></span> may be
      used in a server-group definition (see
      <a class="xref" href="configurationobjects.html#configobj-servergroups" title="6.6. Server Groups">Section 6.6, “Server Groups”</a>) to specify a particular
      network from within a network-group to be associated with a set of
      servers.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">network-group</td><td style="border-bottom: 1px solid ; ">The name of the associated network group.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">vlanid (optional)</td><td style="border-bottom: 1px solid ; ">
      The IEEE 802.1Q VLAN Identifier, a value in the range 1 through 4094. A
      <span class="emphasis"><em>vlanid</em></span> must be specified when
      <span class="emphasis"><em>tagged-vlan</em></span> is true.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">tagged-vlan (optional)</td><td style="border-bottom: 1px solid ; ">
      May be set to <code class="literal">true</code> or <code class="literal">false</code>. If
      true, packets for this network carry the
      <span class="emphasis"><em>vlanid </em></span>in the packet header; such packets are
      referred to as VLAN-tagged frames in IEEE 1Q.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cidr (optional)</td><td style="border-bottom: 1px solid ; ">The IP subnet associated with this network.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">addresses (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of IP addresses or IP address ranges (specified as
       <code class="literal"><em class="replaceable">START_ADDRESS_RANGE</em>-<em class="replaceable">END_ADDRESS_RANGE</em></code>
       from which server addresses may be allocated. The default value is the
       first host address within the CIDR (for example, the
       <code class="literal">.1</code> address).
      </p>
      <p>
       The <code class="literal">addresses</code> parameter provides more flexibility
       than the <code class="literal">start-address</code> and
       <code class="literal">end-address</code> parameters and so is the preferred means
       of specifying this data.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">start-address (optional) (deprecated)</td><td style="border-bottom: 1px solid ; ">
      <p>
       An IP address within the <span class="emphasis"><em>CIDR</em></span> which will be used as
       the start of the range of IP addresses from which server addresses may
       be allocated. The default value is the first host address within the
       <span class="emphasis"><em>CIDR</em></span> (for example, the .1 address).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">end-address (optional) (deprecated)</td><td style="border-bottom: 1px solid ; ">
      <p>
       An IP address within the <span class="emphasis"><em>CIDR</em></span> which will be used as
       the end of the range of IP addresses from which server addresses may be
       allocated. The default value is the last host address within the
       <span class="emphasis"><em>CIDR</em></span> (for example, the .254 address of a /24). This
       parameter is deprecated in favor of the new <code class="literal">addresses</code>
       parameter. This parameter may be removed in a future release.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">gateway-ip (optional)</td><td>
      The IP address of the gateway for this network. Gateway addresses must
      be specified if the associated
      <span class="guimenu">network-group</span> provides routes.
     </td></tr></tbody></table></div></section><section class="sect1" id="configobj-firewallrules" data-id-title="Firewall Rules"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.15 </span><span class="title-name">Firewall Rules</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-firewallrules">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-firewallrules.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The configuration processor will automatically generate "allow" firewall
  rules for each server based on the services deployed and block all other
  ports. The firewall rules in the input model allow the customer to define
  additional rules for each network group.
 </p><p>
  Administrator-defined rules are applied after all rules generated by the
  Configuration Processor.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
     version: 2

  firewall-rules:

     - name: PING
       network-groups:
       - MANAGEMENT
       - GUEST
       - EXTERNAL-API
       rules:
       # open ICMP echo request (ping)
       - type: allow
         remote-ip-prefix:  0.0.0.0/0
         # icmp type
         port-range-min: 8
         # icmp code
         port-range-max: 0
         protocol: icmp</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the group of rules.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">network-groups</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of <span class="guimenu">network-group</span> names that the rules apply
       to. A value of "all" matches all network-groups.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">rules</td><td>
      <p>
       A list of rules. Rules are applied in the order in which they appear
       in the list, apart from the control provided by the "final" option
       (see above). The order between sets of rules is indeterminate.
       
      </p>
     </td></tr></tbody></table></div><section class="sect2" id="configobj-rule" data-id-title="Rule"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.15.1 </span><span class="title-name">Rule</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-rule">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-rule.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Each rule in the list takes the following parameters (which match the
  parameters of a Neutron security group rule):
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">type</td><td style="border-bottom: 1px solid ; ">Must <code class="literal">allow</code>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">remote-ip-prefix</td><td style="border-bottom: 1px solid ; ">
      Range of remote addresses in CIDR format that this rule applies
      to.
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       port-range-min
      </p>
      <p>
       port-range-max
      </p>
     </td><td style="border-bottom: 1px solid ; ">
      Defines the range of ports covered by the rule. Note that if the
      protocol is <code class="literal">icmp</code> then port-range-min is the ICMP
      type and port-range-max is the ICMP code.
     </td></tr><tr><td style="border-right: 1px solid ; ">protocol</td><td>
      Must be one of <code class="literal">tcp</code>, <code class="literal">udp</code>, or
      <code class="literal">icmp</code>. </td></tr></tbody></table></div></section></section><section class="sect1" id="configobj-configurationdata" data-id-title="Configuration Data"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.16 </span><span class="title-name">Configuration Data</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-configurationdata">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationdata.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Configuration data allows values to be passed into the model to be used in
  the context of a specific control plane or cluster. The content and format of
  the data is service specific.
 </p><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  configuration-data:
    - name:  NEUTRON-CONFIG-CP1
      services:
        - neutron
      data:
        neutron_provider_networks:
        - name: OCTAVIA-MGMT-NET
          provider:
            - network_type: vlan
              physical_network: physnet1
              segmentation_id: 106
          cidr: 172.30.1.0/24
          no_gateway:  True
          enable_dhcp: True
          allocation_pools:
            - start: 172.30.1.10
              end: 172.30.1.250
          host_routes:
            # route to MANAGEMENT-NET-1
            - destination: 192.168.245.0/24
              nexthop:  172.30.1.1

        neutron_external_networks:
        - name: ext-net
          cidr: 172.31.0.0/24
          gateway: 172.31.0.1
          provider:
            - network_type: vlan
              physical_network: physnet1
              segmentation_id: 107
          allocation_pools:
            - start: 172.31.0.2
              end: 172.31.0.254

      network-tags:
        - network-group: MANAGEMENT
          tags:
            - neutron.networks.vxlan
            - neutron.networks.vlan:
                provider-physical-network: physnet1
        - network-group: EXTERNAL-VM
          tags:
            - neutron.l3_agent.external_network_bridge</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">An administrator-defined name for the set of configuration data.</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">services</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of services that the data applies to. Note that these are
       service names (for example,
       <code class="literal">neutron</code>, <code class="literal">octavia</code>, etc.) not
       service-component names
       (<code class="literal">neutron-server</code>, <code class="literal">octavia-api</code>,
       etc.).
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">data</td><td style="border-bottom: 1px solid ; ">A service specific data structure (see below). </td></tr><tr><td style="border-right: 1px solid ; ">network-tags (optional, Neutron-only)</td><td>
      <p>
       A list of network tags. Tags provide the linkage between the physical
       network configuration and the Neutron network configuration.
      </p>
      <p>
       Starting in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="phrase"><span class="phrase">8</span></span>, network tags may be defined as part of a
       Neutron <code class="literal">configuration-data</code> object rather than as part
       of a <code class="literal">network-group</code> object.
      </p>
     </td></tr></tbody></table></div><section class="sect2" id="configobj-neutron-network-tags" data-id-title="Neutron network-tags"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.16.1 </span><span class="title-name">Neutron network-tags</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-neutron-network-tags">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-neutron_network_tags.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">network-group</td><td style="border-bottom: 1px solid ; ">The name of the network-group with which the tags are associated.</td></tr><tr><td style="border-right: 1px solid ; ">tags</td><td>A list of network tags. Tags provide the linkage between the physical
                        network configuration and the Neutron network configuration. See section
                        Network Tags. </td></tr></tbody></table></div></section><section class="sect2" id="configobj-configurationdata-neutron" data-id-title="Neutron Configuration Data"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.16.2 </span><span class="title-name">Neutron Configuration Data</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-configurationdata-neutron">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationdata_neutron.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">neutron-provider-networks</td><td style="border-bottom: 1px solid ; ">A list of provider networks that will be created in Neutron.</td></tr><tr><td style="border-right: 1px solid ; ">neutron-external-networks</td><td>
      A list of external networks that will be created in Neutron. These
      networks will have the “router:external” attribute set to True.
     </td></tr></tbody></table></div><section class="sect3" id="configobj-neutron-provider-networks" data-id-title="neutron-provider-networks"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.16.2.1 </span><span class="title-name">neutron-provider-networks</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-neutron-provider-networks">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-neutron_provider_networks.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name for this network in Neutron.
      </p>
      <p>
       This name must be distinct from the names of any Network Groups in the
       model to enable it to be included in the “routes” value of a network
       group.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">provider</td><td style="border-bottom: 1px solid ; ">
      <p>
       Details of network to be created
      </p>
      <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         network_type
        </p></li><li class="listitem"><p>
         physical_network
        </p></li><li class="listitem"><p>
         segmentation_id
        </p></li></ul></div>
      <p>
       These values are passed as <code class="literal">--provider:</code> options to the
       Neutron <code class="literal">net-create</code> command
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cidr</td><td style="border-bottom: 1px solid ; ">
      <p>
       The CIDR to use for the network. This is passed to the Neutron
       <code class="literal">subnet-create</code> command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">shared (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A Boolean value that specifies if the network can be shared.
      </p>
      <p>
       This value is passed to the Neutron <code class="literal">net-create</code>
       command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">allocation_pools (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of start and end address pairs that limit the set of IP addresses
       that can be allocated for this network.
      </p>
      <p>
       These values are passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">host_routes (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of routes to be defined for the network. Each route consists of a
       <code class="literal">destination</code> in cidr format and a
       <code class="literal">nexthop</code> address.
      </p>
      <p>
       These values are passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">gateway_ip (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A gateway address for the network.
      </p>
      <p>
       This value is passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">no_gateway (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A Boolean value indicating that the gateway should not be distributed on
       this network.
      </p>
      <p>
       This is translated into the <code class="literal">no-gateway</code> option to the
       Neutron <code class="literal">subnet-create</code> command
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">enable_dhcp (optional)</td><td>
      <p>
       A Boolean value indicating that DHCP should be enabled. The default if
       not specified is to not enable DHCP.
      </p>
      <p>
       This value is passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr></tbody></table></div></section><section class="sect3" id="configobj-neutron-external-networks" data-id-title="neutron-external-networks"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">6.16.2.2 </span><span class="title-name">neutron-external-networks</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-neutron-external-networks">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-neutron_external_networks.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">name</td><td style="border-bottom: 1px solid ; ">
      <p>
       The name for this network in Neutron.
      </p>
      <p>
       This name must be distinct from the names of any Network Groups in the
       model to enable it to be included in the “routes” value of a network
       group.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">provider (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       The provider attributes are specified when using Neutron provider
       networks as external networks. Provider attributes should not be
       specified when the external network is configured with the
       <code class="literal">neutron.l3_agent.external_network_bridge</code>.
      </p>
      <p>
       Standard provider network attributes may be specified:
      </p>
      <div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         network_type
        </p></li><li class="listitem"><p>
         physical_network
        </p></li><li class="listitem"><p>
         segmentation_id
        </p></li></ul></div>
      <p>
       These values are passed as <code class="literal">--provider:</code> options to the
       Neutron <code class="literal">net-create</code> command
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cidr</td><td style="border-bottom: 1px solid ; ">
      <p>
       The CIDR to use for the network. This is passed to the Neutron
       <code class="literal">subnet-create</code> command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">allocation_pools (optional)</td><td style="border-bottom: 1px solid ; ">
      <p>
       A list of start and end address pairs that limit the set of IP addresses
       that can be allocated for this network.
      </p>
      <p>
       These values are passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr><tr><td style="border-right: 1px solid ; ">gateway (optional)</td><td>
      <p>
       A gateway address for the network.
      </p>
      <p>
       This value is passed to the Neutron <code class="literal">subnet-create</code>
       command.
      </p>
     </td></tr></tbody></table></div></section></section><section class="sect2" id="configobj-configurationdata-octavia" data-id-title="Octavia Configuration Data"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.16.3 </span><span class="title-name">Octavia Configuration Data</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-configurationdata-octavia">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationdata_octavia.xml" title="Edit source document"> </a></div></div></div></div></div><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  configuration-data:
    - name: OCTAVIA-CONFIG-CP1
      services:
        - octavia
      data:
        amp_network_name: OCTAVIA-MGMT-NET</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; ">amp_network_name</td><td>
      The name of the Neutron provider network that Octavia will use for
      management access to load balancers.
     </td></tr></tbody></table></div></section><section class="sect2" id="configobj-configurationdata-ironic" data-id-title="Ironic Configuration Data"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.16.4 </span><span class="title-name">Ironic Configuration Data</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-configurationdata-ironic">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationdata_ironic.xml" title="Edit source document"> </a></div></div></div></div></div><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  configuration-data:
    - name:  IRONIC-CONFIG-CP1
      services:
        - ironic
      data:
        cleaning_network: guest-network
        enable_node_cleaning: true
        enable_oneview: false

        oneview_manager_url:
        oneview_username:
        oneview_encrypted_password:
        oneview_allow_insecure_connections:
        tls_cacert_file:
        enable_agent_drivers: true</pre></div><p>
  Refer to the documentation on configuring Ironic for details of the above
  attributes.
 </p></section><section class="sect2" id="configobj-configurationdata-swift" data-id-title="Swift Configuration Data"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">6.16.5 </span><span class="title-name">Swift Configuration Data</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#configobj-configurationdata-swift">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-configurationdata_swift.xml" title="Edit source document"> </a></div></div></div></div></div><div class="verbatim-wrap"><pre class="screen">---
  product:
    version: 2

  configuration-data:
  - name: SWIFT-CONFIG-CP1
    services:
      - swift
    data:
      control_plane_rings:
        swift-zones:
          - id: 1
            server-groups:
              - AZ1
          - id: 2
            server-groups:
              - AZ2
          - id: 3
            server-groups:
              - AZ3
        rings:
          - name: account
            display-name: Account Ring
            min-part-hours: 16
            partition-power: 12
            replication-policy:
              replica-count: 3

          - name: container
            display-name: Container Ring
            min-part-hours: 16
            partition-power: 12
            replication-policy:
              replica-count: 3

          - name: object-0
            display-name: General
            default: yes
            min-part-hours: 16
            partition-power: 12
            replication-policy:
              replica-count: 3</pre></div><p>
  Refer to the documentation on <a class="xref" href="modify-input-model.html#ring-specification" title="11.10. Understanding Swift Ring Specifications">Section 11.10, “Understanding Swift Ring Specifications”</a> for
  details of the above attributes.
 </p></section></section><section class="sect1" id="passthrough" data-id-title="Pass Through"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6.17 </span><span class="title-name">Pass Through</span></span> <a title="Permalink" class="permalink" href="configurationobjects.html#passthrough">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/planning-architecture-input_model-configobj-passthrough.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Through pass_through definitions, certain configuration values can be
  assigned and used.
 </p><div class="verbatim-wrap"><pre class="screen">product:
  version: 2

pass-through:
  global:
    esx_cloud: true
  servers:
      data:
        vmware:
          cert_check: false
          vcenter_cluster: Cluster1
          vcenter_id: BC9DED4E-1639-481D-B190-2B54A2BF5674
          vcenter_ip: 10.1.200.41
          vcenter_port: 443
          vcenter_username: administrator@vsphere.local
          id: 7d8c415b541ca9ecf9608b35b32261e6c0bf275a</pre></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-bottom: 1px solid ; ">Value Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">global</td><td style="border-bottom: 1px solid ; ">These values will be used at the cloud level.</td></tr><tr><td style="border-right: 1px solid ; ">servers </td><td>
      These values will be assigned to a specific server(s) using the
      server-id.
     </td></tr></tbody></table></div></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-input-model-intro-concept.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 5 </span>Input Model</span></a> </div><div><a class="pagination-link next" href="othertopics.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 7 </span>Other Topics</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="configurationobjects.html#configobj-cloud"><span class="title-number">6.1 </span><span class="title-name">Cloud Configuration</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-controlplane"><span class="title-number">6.2 </span><span class="title-name">Control Plane</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-load-balancers"><span class="title-number">6.3 </span><span class="title-name">Load Balancers</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-regions"><span class="title-number">6.4 </span><span class="title-name">Regions</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-servers"><span class="title-number">6.5 </span><span class="title-name">Servers</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-servergroups"><span class="title-number">6.6 </span><span class="title-name">Server Groups</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-serverroles"><span class="title-number">6.7 </span><span class="title-name">Server Roles</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-diskmodels"><span class="title-number">6.8 </span><span class="title-name">
  Disk Models</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-memorymodels"><span class="title-number">6.9 </span><span class="title-name">Memory Models</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-cpumodels"><span class="title-number">6.10 </span><span class="title-name">
  CPU Models</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-interfacemodels"><span class="title-number">6.11 </span><span class="title-name">Interface Models</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-nicmappings"><span class="title-number">6.12 </span><span class="title-name">NIC Mappings</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-networkgroups"><span class="title-number">6.13 </span><span class="title-name">Network Groups</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-networks"><span class="title-number">6.14 </span><span class="title-name">Networks</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-firewallrules"><span class="title-number">6.15 </span><span class="title-name">Firewall Rules</span></a></span></li><li><span class="section"><a href="configurationobjects.html#configobj-configurationdata"><span class="title-number">6.16 </span><span class="title-name">Configuration Data</span></a></span></li><li><span class="section"><a href="configurationobjects.html#passthrough"><span class="title-number">6.17 </span><span class="title-name">Pass Through</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>