<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Managing Orchestration | Operations Guide | SUSE OpenStack Cloud 8</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="8" /><meta name="book-title" content="Operations Guide" /><meta name="chapter-title" content="Chapter 11. Managing Orchestration" /><meta name="description" content="Information about managing and configuring the Orchestration service, based on OpenStack Heat." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><link rel="home" href="index.html" title="Documentation" /><link rel="up" href="book-operations.html" title="Operations Guide" /><link rel="prev" href="ops-managing-dashboards.html" title="Chapter 10. Managing the Dashboard" /><link rel="next" href="topic-ttn-5fg-4v.html" title="Chapter 12. Managing Monitoring, Logging, and Usage Reporting" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Operations Guide"><span class="book-icon">Operations Guide</span></a><span> › </span><a class="crumb" href="ops-managing-orchestration.html">Managing Orchestration</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Operations Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="gettingstarted-ops.html"><span class="number">1 </span><span class="name">Operations Overview</span></a></li><li class="inactive"><a href="tutorials.html"><span class="number">2 </span><span class="name">Tutorials</span></a></li><li class="inactive"><a href="third-party-integrations.html"><span class="number">3 </span><span class="name">Third-Party Integrations</span></a></li><li class="inactive"><a href="ops-managing-identity.html"><span class="number">4 </span><span class="name">Managing Identity</span></a></li><li class="inactive"><a href="ops-managing-compute.html"><span class="number">5 </span><span class="name">Managing Compute</span></a></li><li class="inactive"><a href="ops-managing-esx.html"><span class="number">6 </span><span class="name">Managing ESX</span></a></li><li class="inactive"><a href="ops-managing-blockstorage.html"><span class="number">7 </span><span class="name">Managing Block Storage</span></a></li><li class="inactive"><a href="ops-managing-objectstorage.html"><span class="number">8 </span><span class="name">Managing Object Storage</span></a></li><li class="inactive"><a href="ops-managing-networking.html"><span class="number">9 </span><span class="name">Managing Networking</span></a></li><li class="inactive"><a href="ops-managing-dashboards.html"><span class="number">10 </span><span class="name">Managing the Dashboard</span></a></li><li class="inactive"><a href="ops-managing-orchestration.html"><span class="number">11 </span><span class="name">Managing Orchestration</span></a></li><li class="inactive"><a href="topic-ttn-5fg-4v.html"><span class="number">12 </span><span class="name">Managing Monitoring, Logging, and Usage Reporting</span></a></li><li class="inactive"><a href="system-maintenance.html"><span class="number">13 </span><span class="name">System Maintenance</span></a></li><li class="inactive"><a href="bura-overview.html"><span class="number">14 </span><span class="name">Backup and Restore</span></a></li><li class="inactive"><a href="idg-all-operations-troubleshooting-troubleshooting-issues-xml-1.html"><span class="number">15 </span><span class="name">Troubleshooting Issues</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 10. Managing the Dashboard" href="ops-managing-dashboards.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 12. Managing Monitoring, Logging, and Usage Reporting" href="topic-ttn-5fg-4v.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Operations Guide"><span class="book-icon">Operations Guide</span></a><span> › </span><a class="crumb" href="ops-managing-orchestration.html">Managing Orchestration</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 10. Managing the Dashboard" href="ops-managing-dashboards.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 12. Managing Monitoring, Logging, and Usage Reporting" href="topic-ttn-5fg-4v.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="ops-managing-orchestration"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber "><span class="phrase"><span class="phrase">8</span></span></span></div><div><h1 class="title"><span class="number">11 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing Orchestration</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-managing_orchestration.xml" title="Edit the source file for this section">Edit source</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-managing_orchestration.xml</li><li><span class="ds-label">ID: </span>ops-managing-orchestration</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="ops-managing-orchestration.html#configure-heat"><span class="number">11.1 </span><span class="name">Configuring the Orchestration Service</span></a></span></dt><dt><span class="section"><a href="ops-managing-orchestration.html#topic-sqg-cvb-dx"><span class="number">11.2 </span><span class="name">Autoscaling using the Orchestration Service</span></a></span></dt></dl></div></div><p>
  Information about managing and configuring the Orchestration service, based
  on OpenStack Heat.
 </p><div class="sect1" id="configure-heat"><div class="titlepage"><div><div><h2 class="title"><span class="number">11.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring the Orchestration Service</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#configure-heat">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-configure_orchestration.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-configure_orchestration.xml</li><li><span class="ds-label">ID: </span>configure-heat</li></ul></div></div></div></div><p>
  Information about configuring the Orchestration service, based on OpenStack
  Heat.
 </p><p>
  The Orchestration service, based on OpenStack Heat, does not need any
  additional configuration to be used. This documenent describes some
  configuration options as well as reasons you may want to use them.
 </p><p>
  <span class="bold"><strong>Heat Stack Tag Feature</strong></span>
 </p><p>
  Heat provides a feature called Stack Tags to allow attributing a set of
  simple string-based tags to stacks and optionally the ability to hide stacks
  with certain tags by default. This feature can be used for behind-the-scenes
  orchestration of cloud infrastructure, without exposing the cloud user to the
  resulting automatically-created stacks.
 </p><p>
  Additional details can be seen here:
  <a class="link" href="https://specs.openstack.org/openstack/heat-specs/specs/kilo/stack-tags.html" target="_blank">OpenStack
  - Stack Tags</a>.
 </p><p>
  In order to use the Heat stack tag feature, you need to use the following
  steps to define the <code class="literal">hidden_stack_tags</code> setting in the Heat
  configuration file and then reconfigure the service to enable the feature.
 </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
    Log in to the Cloud Lifecycle Manager.
   </p></li><li class="listitem "><p>
    Edit the Heat configuration file, at this location:
   </p><div class="verbatim-wrap"><pre class="screen">~/openstack/my_cloud/config/heat/heat.conf.j2</pre></div></li><li class="listitem "><p>
    Under the <code class="literal">[DEFAULT]</code> section, add a line for
    <code class="literal">hidden_stack_tags</code>. Example:
   </p><div class="verbatim-wrap"><pre class="screen">[DEFAULT]
hidden_stack_tags="&lt;hidden_tag&gt;"</pre></div></li><li class="listitem "><p>
    Commit the changes to your local git:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>git add --all
<code class="prompt user">ardana &gt; </code>git commit -m "enabling Heat Stack Tag feature"</pre></div></li><li class="listitem "><p>
    Run the configuration processor:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div></li><li class="listitem "><p>
    Update your deployment directory:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost ready-deployment.yml</pre></div></li><li class="listitem "><p>
    Reconfigure the Orchestration service:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/scratch/ansible/next/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts heat-reconfigure.yml</pre></div></li></ol></div><p>
  To begin using the feature, use these steps to create a Heat stack using the
  defined hidden tag. You will need to use credentials that have the Heat admin
  permissions. In the example steps below we are going to do this from the
  Cloud Lifecycle Manager using the <code class="literal">admin</code> credentials and a Heat
  template named <code class="literal">heat.yaml</code>:
 </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
    Log in to the Cloud Lifecycle Manager.
   </p></li><li class="listitem "><p>
    Source the admin credentials:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>source ~/service.osrc</pre></div></li><li class="listitem "><p>
    Create a Heat stack using this feature:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>openstack stack create -f heat.yaml hidden_stack_tags --tags hidden</pre></div></li><li class="listitem "><p>
    If you list your Heat stacks, your hidden one will not show unless you use
    the <code class="literal">--hidden</code> switch.
   </p><p>
    Example, not showing hidden stacks:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>openstack stack list</pre></div><p>
    Example, showing the hidden stacks:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>openstack stack list --hidden</pre></div></li></ol></div></div><div class="sect1" id="topic-sqg-cvb-dx"><div class="titlepage"><div><div><h2 class="title"><span class="number">11.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Autoscaling using the Orchestration Service</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#topic-sqg-cvb-dx">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-autoscaling.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-autoscaling.xml</li><li><span class="ds-label">ID: </span>topic-sqg-cvb-dx</li></ul></div></div></div></div><p>
  Autoscaling is a process that can be used to scale up and down your compute
  resources based on the load they are currently experiencing to ensure a
  balanced load.
 </p><div class="sect2" id="idg-all-operations-orchestration-autoscaling-xml-4"><div class="titlepage"><div><div><h3 class="title"><span class="number">11.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">What is autoscaling?</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#idg-all-operations-orchestration-autoscaling-xml-4">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-autoscaling.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-autoscaling.xml</li><li><span class="ds-label">ID: </span>idg-all-operations-orchestration-autoscaling-xml-4</li></ul></div></div></div></div><p>
   Autoscaling is a process that can be used to scale up and down your compute
   resources based on the load they are currently experiencing to ensure a
   balanced load across your compute environment.
  </p><div id="id-1.6.13.4.3.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important</h6><p>
    Autoscaling is only supported for KVM.
   </p></div></div><div class="sect2" id="use"><div class="titlepage"><div><div><h3 class="title"><span class="number">11.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">How does autoscaling work?</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#use">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-autoscaling.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-autoscaling.xml</li><li><span class="ds-label">ID: </span>use</li></ul></div></div></div></div><p>
   The monitoring service, Monasca, monitors your infrastructure resources and
   generates alarms based on their state. The orchestration service, Heat,
   talks to the Monasca API and offers the capability to templatize the
   existing Monasca resources, which are the Monasca Notification and Monasca
   Alarm definition. Heat can configure certain alarms for the infrastructure
   resources (compute instances and block storage volumes) it creates and can
   expect Monasca to notify continuously if a certain evaluation pattern in an
   alarm definition is met.
  </p><p>
   For example, Heat can tell Monasca that it needs an alarm generated if the
   average CPU utilization of the compute instance in a scaling group goes
   beyond 90%.
  </p><p>
   As Monasca continuously monitors all the resources in the cloud, if it
   happens to see a compute instance spiking above 90% load as configured by
   Heat, it generates an alarm and in turn sends a notification to Heat. Once
   Heat is notified, it will execute an action that was preconfigured in the
   template. Commonly, this action will be a scale up to increase the number of
   compute instances to balance the load that is being taken by the compute
   instance scaling group.
  </p><p>
   Monasca sends a notification every 60 seconds while the alarm is in the
   ALARM state.
  </p></div><div class="sect2" id="id-1.6.13.4.5"><div class="titlepage"><div><div><h3 class="title"><span class="number">11.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Autoscaling template example</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#id-1.6.13.4.5">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-autoscaling.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-autoscaling.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   The following Monasca alarm definition template snippet is an example of
   instructing Monasca to generate an alarm if the average CPU utilization in a
   group of compute instances exceeds beyond 50%. If the alarm is triggered, it
   will invoke the <code class="literal">up_notification</code> webhook once the alarm
   evaluation expression is satisfied.
  </p><div class="verbatim-wrap"><pre class="screen">cpu_alarm_high:
  type: OS::Monasca::AlarmDefinition
  properties:
    name: CPU utilization beyond 50 percent
    description: CPU utilization reached beyond 50 percent
    expression:
    str_replace:
    template: avg(cpu.utilization_perc{scale_group=scale_group_id}) &gt; 50 times 3
    params:
    scale_group_id: {get_param: "OS::stack_id"}
    severity: high
    alarm_actions:
      - {get_resource: up_notification }</pre></div><p>
   The following Monasca notification template snippet is an example of
   creating a Monasca notification resource that will be used by the alarm
   definition snippet to notify Heat.
  </p><div class="verbatim-wrap"><pre class="screen">up_notification:
  type: OS::Monasca::Notification
  properties:
    type: webhook
    address: {get_attr: [scale_up_policy, alarm_url]}</pre></div></div><div class="sect2" id="id-1.6.13.4.6"><div class="titlepage"><div><div><h3 class="title"><span class="number">11.2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Monasca Agent configuration options</span> <a title="Permalink" class="permalink" href="ops-managing-orchestration.html#id-1.6.13.4.6">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_8/xml/operations-orchestration-autoscaling.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>operations-orchestration-autoscaling.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   There is a Monasca Agent configuration option which controls the behavior
   around compute instance creation and the measurements being received from
   the compute instance.
  </p><p>
   The variable is <code class="literal">monasca_libvirt_vm_probation</code> which is set
   in the
   <code class="literal">~/openstack/my_cloud/config/nova/libvirt-monitoring.yml</code>
   file. Here is a snippet of the file showing the description and variable:
  </p><div class="verbatim-wrap"><pre class="screen"># The period of time (in seconds) in which to suspend metrics from a
# newly-created VM. This is used to prevent creating and storing
# quickly-obsolete metrics in an environment with a high amount of instance
# churn (VMs created and destroyed in rapid succession).  Setting to 0
# disables VM probation and metrics will be recorded as soon as possible
# after a VM is created.  Decreasing this value in an environment with a high
# amount of instance churn can have a large effect on the total number of
# metrics collected and increase the amount of CPU, disk space and network
# bandwidth required for Monasca. This value may need to be decreased if
# Heat Autoscaling is in use so that Heat knows that a new VM has been
# created and is handling some of the load.
monasca_libvirt_vm_probation: 300</pre></div><p>
   The default value is <code class="literal">300</code>. This is the time in seconds
   that a compute instance must live before the Monasca libvirt agent plugin
   will send measurements for it. This is so that the Monasca metrics database
   does not fill with measurements from short lived compute instances. However,
   this means that the Monasca threshold engine will not see measurements from
   a newly created compute instance for at least five minutes on scale up. If
   the newly created compute instance is able to start handling the load in
   less than five minutes, then Heat autoscaling may mistakenly create another
   compute instance since the alarm does not clear.
  </p><p>
   If the default <code class="literal">monasca_libvirt_vm_probation</code> turns out to
   be an issue, it can be lowered. However, that will affect all compute
   instances, not just ones used by Heat autoscaling which can increase the
   number of measurements stored in Monasca if there are many short lived
   compute instances. You should consider how often compute instances are
   created that live less than the new value of
   <code class="literal">monasca_libvirt_vm_probation</code>. If few, if any, compute
   instances live less than the value of
   <code class="literal">monasca_libvirt_vm_probation</code>, then this value can be
   decreased without causing issues. If many compute instances live less than
   the <code class="literal">monasca_libvirt_vm_probation</code> period, then decreasing
   <code class="literal">monasca_libvirt_vm_probation</code> can cause excessive disk,
   CPU and memory usage by Monasca.
  </p><p>
   If you wish to change this value, follow these steps:
  </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
     Log in to the Cloud Lifecycle Manager.
    </p></li><li class="listitem "><p>
     Edit the <code class="literal">monasca_libvirt_vm_probation</code> value in this
     configuration file:
    </p><div class="verbatim-wrap"><pre class="screen">~/openstack/my_cloud/config/nova/libvirt-monitoring.yml</pre></div></li><li class="listitem "><p>
     Commit your changes to the local git:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>git add --all
<code class="prompt user">ardana &gt; </code>git commit -m "changing Monasca Agent configuration option"</pre></div></li><li class="listitem "><p>
     Run the configuration processor:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div></li><li class="listitem "><p>
     Update your deployment directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost ready-deployment.yml</pre></div></li><li class="listitem "><p>
     Run this playbook to reconfigure the Nova service and enact your changes:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/scratch/ansible/next/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts nova-reconfigure.yml</pre></div></li></ol></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="topic-ttn-5fg-4v.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 12 </span>Managing Monitoring, Logging, and Usage Reporting</span></a><a class="nav-link" href="ops-managing-dashboards.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 10 </span>Managing the Dashboard</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>