<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ironic User Guide | OpenStack User Guide | SUSE OpenStack Cloud Crowbar</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud Crowbar" /><meta name="book-title" content="OpenStack User Guide" /><meta name="chapter-title" content="Chapter 2. Ironic User Guide" /><meta name="description" content="Ironic is an OpenStack project which provisions bare metal (as opposed to virtual) machines. It may be used independently or as part of an OpenStack Cloud, and integrates with the OpenStack Identity (keystone), Compute (nova), Network (neutron), Image (glance) and Object (swift) services." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="dpopov@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><meta name="tracker-bsc-version" content="" /><link rel="home" href="index.html" title="OpenStack User Guide" /><link rel="up" href="index.html" title="OpenStack User Guide" /><link rel="prev" href="glance-user-guide.html" title="Chapter 1. Glance User Guide" /><link rel="next" href="horizon-user-guide.html" title="Chapter 3. Horizon User Guide" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack User Guide"><span class="book-icon">OpenStack User Guide</span></a><span> › </span><a class="crumb" href="ironic-user-guide.html">Ironic User Guide</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>OpenStack User Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="glance-user-guide.html"><span class="number">1 </span><span class="name">Glance User Guide</span></a></li><li class="inactive"><a href="ironic-user-guide.html"><span class="number">2 </span><span class="name">Ironic User Guide</span></a></li><li class="inactive"><a href="horizon-user-guide.html"><span class="number">3 </span><span class="name">Horizon User Guide</span></a></li><li class="inactive"><a href="keystone-user-guide.html"><span class="number">4 </span><span class="name">Keystone User Guide</span></a></li><li class="inactive"><a href="magnum-user-guide.html"><span class="number">5 </span><span class="name">Magnum User Documentation</span></a></li><li class="inactive"><a href="nova-user-guide.html"><span class="number">6 </span><span class="name">Nova User Guide</span></a></li><li class="inactive"><a href="go01.html"><span class="number"> </span><span class="name">Glossary</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 1. Glance User Guide" href="glance-user-guide.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 3. Horizon User Guide" href="horizon-user-guide.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack User Guide"><span class="book-icon">OpenStack User Guide</span></a><span> › </span><a class="crumb" href="ironic-user-guide.html">Ironic User Guide</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 1. Glance User Guide" href="glance-user-guide.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 3. Horizon User Guide" href="horizon-user-guide.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="ironic-user-guide"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span></span></div><div><h1 class="title"><span class="number">2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Ironic User Guide</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>ironic-user-guide</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="ironic-user-guide.html#why-provision-bare-metal"><span class="number">2.1 </span><span class="name">Why Provision Bare Metal</span></a></span></dt><dt><span class="section"><a href="ironic-user-guide.html#conceptual-architecture"><span class="number">2.2 </span><span class="name">Conceptual Architecture</span></a></span></dt><dt><span class="section"><a href="ironic-user-guide.html#logical-architecture"><span class="number">2.3 </span><span class="name">Logical Architecture</span></a></span></dt><dt><span class="section"><a href="ironic-user-guide.html#key-technologies-for-bare-metal-hosting"><span class="number">2.4 </span><span class="name">Key Technologies for Bare Metal Hosting</span></a></span></dt><dt><span class="section"><a href="ironic-user-guide.html#ironic-deployment-architecture"><span class="number">2.5 </span><span class="name">Ironic Deployment Architecture</span></a></span></dt><dt><span class="section"><a href="ironic-user-guide.html#understanding-bare-metal-deployment"><span class="number">2.6 </span><span class="name">Understanding Bare Metal Deployment</span></a></span></dt></dl></div></div><p>Ironic is an OpenStack project which provisions bare metal (as opposed to
            virtual) machines. It may be used independently or as part of an OpenStack
            Cloud, and integrates with the OpenStack Identity (keystone), Compute (nova),
            Network (neutron), Image (glance) and Object (swift) services.</p><p>When the Bare Metal service is appropriately configured with the Compute and
            Network services, it is possible to provision both virtual and physical
            machines through the Compute service’s API. However, the set of instance
            actions is limited, arising from the different characteristics of physical
            servers and switch hardware. For example, live migration can not be performed
            on a bare metal instance.</p><p>The community maintains reference drivers that leverage open-source
            technologies (for example, PXE and IPMI) to cover a wide range of hardware. Ironic’s
            pluggable driver architecture also allows hardware vendors to write and
            contribute drivers that may improve performance or add functionality not
            provided by the community drivers.</p><div class="sect1" id="why-provision-bare-metal"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Why Provision Bare Metal</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#why-provision-bare-metal">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>why-provision-bare-metal</li></ul></div></div></div></div><p>The following are a few use-cases for bare metal (physical server) provisioning in
                cloud:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>High-performance computing clusters</p></li><li class="listitem "><p>Computing tasks that require access to hardware devices which can’t be
                        virtualized</p></li><li class="listitem "><p>Database hosting (some databases run poorly in a hypervisor)</p></li><li class="listitem "><p>Single tenant, dedicated hardware for performance, security, dependability
                        and other regulatory requirements</p></li><li class="listitem "><p>Rapidly deploying a cloud infrastructure</p></li></ul></div></div><div class="sect1" id="conceptual-architecture"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Conceptual Architecture</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#conceptual-architecture">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>conceptual-architecture</li></ul></div></div></div></div><p>The following diagram shows the relationships and how all services come into
                play during the provisioning of a physical server.</p><div id="id-1.4.6.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>Ceilometer and Swift can be used with Ironic, but are missing from this diagram.</p></div><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/conceptual_architecture.png" target="_blank"><img src="images/conceptual_architecture.png" width="" /></a></div></div></div><div class="sect1" id="logical-architecture"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Logical Architecture</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#logical-architecture">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>logical-architecture</li></ul></div></div></div></div><p>The diagram below shows the logical architecture. It shows the basic
                components that form the Ironic service, the relation of Ironic service with
                other OpenStack services and the logical flow of a boot instance request
                resulting in the provisioning of a physical server.</p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/logical_architecture.png" target="_blank"><img src="images/logical_architecture.png" width="" /></a></div></div><p>The Ironic service is composed of the following components:</p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>A RESTful API service, by which operators and other services may interact
                  with the managed bare metal servers.</p></li><li class="step "><p>A conductor service, which does the bulk of the work. Functionality is
                  exposed via the API service. The Conductor and API services communicate
                  via RPC.</p></li><li class="step "><p>Various drivers that support heterogeneous hardware</p></li><li class="step "><p>A message queue</p></li><li class="step "><p>A database for storing information about the resources. Among other things,
                  this includes the state of the conductors, nodes (physical servers), and
                  drivers.</p></li></ol></div></div><p>As in Figure 1.2. Logical Architecture, a user request to boot an instance is
                passed to the Nova Compute service via Nova API and Nova Scheduler. The Compute
                service hands over this request to the Ironic service, where the request passes
                from the Ironic API, to the Conductor, to a driver to successfully provision a
                physical server for the user.</p><p>Just as the Nova Compute service talks to various OpenStack services like
                Glance, Neutron, or Swift to provision a virtual machine instance, here the
                Ironic service talks to the same OpenStack services for image, network and
                other resource needs to provision a bare metal instance.</p></div><div class="sect1" id="key-technologies-for-bare-metal-hosting"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Key Technologies for Bare Metal Hosting</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#key-technologies-for-bare-metal-hosting">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>key-technologies-for-bare-metal-hosting</li></ul></div></div></div></div><div class="sect2" id="preboot-execution-environment-pxe"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Preboot Execution Environment (PXE)</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#preboot-execution-environment-pxe">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>preboot-execution-environment-pxe</li></ul></div></div></div></div><p>PXE is part of the Wired for Management (WfM) specification developed by Intel
                    and Microsoft. The PXE enables system’s BIOS and network interface card (NIC)
                    to bootstrap a computer from the network in place of a disk. Bootstrapping is
                    the process by which a system loads the OS into local memory so that it can be
                    executed by the processor. This capability of allowing a system to boot over a
                    network simplifies server deployment and server management for administrators.</p></div><div class="sect2" id="dynamic-host-configuration-protocol-dhcp"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Dynamic Host Configuration Protocol (DHCP)</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#dynamic-host-configuration-protocol-dhcp">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>dynamic-host-configuration-protocol-dhcp</li></ul></div></div></div></div><p>DHCP is a standardized networking protocol used on Internet Protocol (IP)
                    networks for dynamically distributing network configuration parameters, such
                    as IP addresses for interfaces and services. Using PXE, the BIOS uses DHCP to
                    obtain an IP address for the network interface and to locate the server that
                    stores the network bootstrap program (NBP).</p></div><div class="sect2" id="network-bootstrap-program-nbp"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.4.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Network Bootstrap Program (NBP)</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#network-bootstrap-program-nbp">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>network-bootstrap-program-nbp</li></ul></div></div></div></div><p>NBP is equivalent to GRUB (GRand Unified Bootloader) or LILO (LInux LOader) -
                    loaders which are traditionally used in local booting. Like the boot program
                    in a hard drive environment, the NBP is responsible for loading the OS kernel
                    into memory so that the OS can be bootstrapped over a network.</p></div><div class="sect2" id="trivial-file-transfer-protocol-tftp"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.4.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Trivial File Transfer Protocol (TFTP)</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#trivial-file-transfer-protocol-tftp">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>trivial-file-transfer-protocol-tftp</li></ul></div></div></div></div><p>TFTP is a simple file transfer protocol that is generally used for automated
                    transfer of configuration or boot files between machines in a local
                    environment.  In a PXE environment, TFTP is used to download NBP over the
                    network using information from the DHCP server.</p></div><div class="sect2" id="intelligent-platform-management-interface-ipmi"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.4.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Intelligent Platform Management Interface (IPMI)</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#intelligent-platform-management-interface-ipmi">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>intelligent-platform-management-interface-ipmi</li></ul></div></div></div></div><p>IPMI is a standardized computer system interface used by system administrators
                    for out-of-band management of computer systems and monitoring of their
                    operation. It is a method to manage systems that may be unresponsive or powered
                    off by using only a network connection to the hardware rather than to an
                    operating system.</p></div></div><div class="sect1" id="ironic-deployment-architecture"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Ironic Deployment Architecture</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#ironic-deployment-architecture">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>ironic-deployment-architecture</li></ul></div></div></div></div><p>The Ironic RESTful API service is used to enroll hardware that Ironic will
                manage. A cloud administrator usually registers the hardware, specifying their
                attributes such as MAC addresses and IPMI credentials. There can be multiple
                instances of the API service.</p><p>The Ironic conductor service does the bulk of the work.
                For security reasons, it is advisable to place the conductor service on
                an isolated host, since it is the only service that requires access to both
                the data plane and IPMI control plane.</p><p>There can be multiple instances of the conductor service to support
                various class of drivers and also to manage fail over. Instances of the
                conductor service should be on separate nodes. Each conductor can itself run
                many drivers to operate heterogeneous hardware. This is depicted in the
                following figure.</p><p>The API exposes a list of supported drivers and the names of conductor hosts
                servicing them.</p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/deployment_architecture_2.png" target="_blank"><img src="images/deployment_architecture_2.png" width="" /></a></div></div></div><div class="sect1" id="understanding-bare-metal-deployment"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Understanding Bare Metal Deployment</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#understanding-bare-metal-deployment">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>understanding-bare-metal-deployment</li></ul></div></div></div></div><p>What happens when a boot instance request comes in? The below diagram walks
                through the steps involved during the provisioning of a bare metal instance.</p><p>These pre-requisites must be met before the deployment process:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>Dependent packages to be configured on the Bare Metal service node(s)
                  where ironic-conductor is running like tftp-server, ipmi, or syslinux for
                  bare metal provisioning.</p></li><li class="listitem "><p>Nova must be configured to make use of the bare metal service endpoint
                  and compute driver should be configured to use ironic driver on the Nova
                  compute node(s).</p></li><li class="listitem "><p>Flavors to be created for the available hardware. Nova must know the flavor
                  to boot from.</p></li><li class="listitem "><p>Images to be made available in Glance. Listed below are some image types
                  required for successful bare metal deployment:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><code class="literal">bm-deploy-kernel</code></p></li><li class="listitem "><p><code class="literal">bm-deploy-ramdisk</code></p></li><li class="listitem "><p><code class="literal">user-image</code></p></li><li class="listitem "><p><code class="literal">user-image-vmlinuz</code></p></li><li class="listitem "><p><code class="literal">user-image-initrd</code></p></li></ul></div></li><li class="listitem "><p>Hardware to be enrolled via Ironic RESTful API service.</p></li></ul></div><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/deployment_steps.png" target="_blank"><img src="images/deployment_steps.png" width="" /></a></div></div><div class="sect2" id="deploy-process"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploy Process</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#deploy-process">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>deploy-process</li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>A boot instance request comes in via the Nova API, through the message
                    queue to the Nova scheduler.</p></li><li class="step "><p>Nova scheduler applies filter and finds the eligible compute node. Nova
                    scheduler uses flavor <code class="literal">extra_specs</code> detail such as <code class="literal">cpu_arch</code>,
                    <code class="literal">baremetal:deploy_kernel_id</code> or <code class="literal">baremetal:deploy_ramdisk_id</code> to match
                    the target physical node.</p></li><li class="step "><p>A spawn task is placed by the driver which contains all information such
                    as which image to boot from. It invokes the <code class="literal">driver.spawn</code> from the
                    virtual layer of Nova compute.</p></li><li class="step "><p>Information about the bare metal node is retrieved from the bare metal
                    database and the node is reserved.</p></li><li class="step "><p>Images from Glance are pulled down to the local disk of the Ironic
                    conductor servicing the bare metal node.</p><ol type="a" class="substeps "><li class="step "><p>For <code class="literal">pxe_*</code> drivers these include all images: both the deploy ramdisk and
                        user instance images.</p></li><li class="step "><p>For <code class="literal">agent_*</code> drivers only the deploy ramdisk is stored locally. Temporary
                        URLs in OpenStack’s Object Storage service are created for user instance images.</p></li></ol></li><li class="step "><p>Virtual interfaces are plugged in and Neutron API updates DHCP port to
                    support PXE/TFTP options.</p></li><li class="step "><p>Nova’s ironic driver issues a deploy request via the Ironic API to the
                    Ironic conductor servicing the bare metal node.</p></li><li class="step "><p>PXE driver prepares tftp bootloader.</p></li><li class="step "><p>The IPMI driver issues command to enable network boot of a node and power it on.</p></li><li class="step "><p>The DHCP boots the deploy ramdisk. Next, depending on the exact driver
                    used, either the conductor copies the image over iSCSI to the physical node
                    (<code class="literal">pxe_*</code> group of drivers) or the deploy ramdisk downloads the image from
                    a temporary URL (<code class="literal">agent_*</code> group of drivers), which can be generated by
                    a variety of object stores. For example, <span class="emphasis"><em>swift</em></span> or <span class="emphasis"><em>radosgw</em></span>, and uploaded
                    to OpenStack’s Object Storage service. In the former case, the conductor
                    connects to the iSCSI end point, partitions volume, <code class="literal">dd</code> the image and
                    closes the iSCSI connection.</p><p>The deployment is done. The Ironic conductor will switch pxe config to service
                    mode and notify ramdisk agent on the successful deployment.</p></li><li class="step "><p>The IPMI driver reboots the bare metal node. There are 2 power
                    cycles during bare metal deployment; the first time when powered-on, the
                    images get deployed as mentioned in step 9. The second time as in this case,
                    after the images are deployed, the node is powered up.</p></li><li class="step "><p>The bare metal node status is updated and the node instance is made available.</p></li></ol></div></div></div><div class="sect2" id="example-1-pxe-boot-and-iscsi-deploy-process"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Example 1: PXE Boot and iSCSI Deploy Process</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#example-1-pxe-boot-and-iscsi-deploy-process">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>example-1-pxe-boot-and-iscsi-deploy-process</li></ul></div></div></div></div><p>This process is used with <code class="literal">pxe_*</code> family of drivers.</p><p>(From a <a class="link" href="https://www.openstack.org/summit/vancouver-2015/summit-videos/presentation/isn-and-039t-it-ironic-the-bare-metal-cloud" target="_blank">talk</a>
                and <a class="link" href="http://www.slideshare.net/devananda1/isnt-it-ironic-managing-a-bare-metal-cloud-osl-tes-2015" target="_blank">slides</a>).</p></div><div class="sect2" id="example-2-pxe-boot-and-direct-deploy-process"><div class="titlepage"><div><div><h3 class="title"><span class="number">2.6.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Example 2: PXE Boot and Direct Deploy Process</span> <a title="Permalink" class="permalink" href="ironic-user-guide.html#example-2-pxe-boot-and-direct-deploy-process">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>user-ironic.xml</li><li><span class="ds-label">ID: </span>example-2-pxe-boot-and-direct-deploy-process</li></ul></div></div></div></div><p>This process is used with <code class="literal">agent_*</code> family of drivers.</p><p>(From a <a class="link" href="https://www.openstack.org/summit/vancouver-2015/summit-videos/presentation/isn-and-039t-it-ironic-the-bare-metal-cloud" target="_blank">talk</a>
                and <a class="link" href="http://www.slideshare.net/devananda1/isnt-it-ironic-managing-a-bare-metal-cloud-osl-tes-2015" target="_blank">slides</a>).</p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="horizon-user-guide.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 3 </span>Horizon User Guide</span></a><a class="nav-link" href="glance-user-guide.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 1 </span>Glance User Guide</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>