<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Bare Metal | OpenStack Administrator Guide | SUSE OpenStack Cloud 8</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="8" /><meta name="book-title" content="OpenStack Administrator Guide" /><meta name="chapter-title" content="Chapter 12. Bare Metal" /><meta name="description" content="The Bare Metal service provides physical hardware management features." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 8" /><link rel="home" href="index.html" title="SUSE OpenStack Cloud Crowbar 8 Documentation" /><link rel="up" href="book-upstream-admin.html" title="OpenStack Administrator Guide" /><link rel="prev" href="bk02ch11.html" title="Chapter 11. Database" /><link rel="next" href="bk02ch13.html" title="Chapter 13. Orchestration" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack Administrator Guide"><span class="book-icon">OpenStack Administrator Guide</span></a><span> › </span><a class="crumb" href="bk02ch12.html">Bare Metal</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>OpenStack Administrator Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="bk02ch01.html"><span class="number">1 </span><span class="name">Documentation Conventions</span></a></li><li class="inactive"><a href="bk02ch02.html"><span class="number">2 </span><span class="name">Get started with OpenStack</span></a></li><li class="inactive"><a href="cha-identity.html"><span class="number">3 </span><span class="name">Identity management</span></a></li><li class="inactive"><a href="bk02ch04.html"><span class="number">4 </span><span class="name">Dashboard</span></a></li><li class="inactive"><a href="bk02ch05.html"><span class="number">5 </span><span class="name">Compute</span></a></li><li class="inactive"><a href="bk02ch06.html"><span class="number">6 </span><span class="name">Object Storage</span></a></li><li class="inactive"><a href="bk02ch07.html"><span class="number">7 </span><span class="name">Block Storage</span></a></li><li class="inactive"><a href="bk02ch08.html"><span class="number">8 </span><span class="name">Shared File Systems</span></a></li><li class="inactive"><a href="networking.html"><span class="number">9 </span><span class="name">Networking</span></a></li><li class="inactive"><a href="bk02ch10.html"><span class="number">10 </span><span class="name">Telemetry</span></a></li><li class="inactive"><a href="bk02ch11.html"><span class="number">11 </span><span class="name">Database</span></a></li><li class="inactive"><a href="bk02ch12.html"><span class="number">12 </span><span class="name">Bare Metal</span></a></li><li class="inactive"><a href="bk02ch13.html"><span class="number">13 </span><span class="name">Orchestration</span></a></li><li class="inactive"><a href="osadm-os-cli.html"><span class="number">14 </span><span class="name">OpenStack command-line clients</span></a></li><li class="inactive"><a href="bk02ch15.html"><span class="number">15 </span><span class="name">Cross-project features</span></a></li><li class="inactive"><a href="bk02ch16.html"><span class="number">16 </span><span class="name">Appendix</span></a></li><li class="inactive"><a href="bk02go01.html"><span class="number"> </span><span class="name">Glossary</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 11. Database" href="bk02ch11.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 13. Orchestration" href="bk02ch13.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="OpenStack Administrator Guide"><span class="book-icon">OpenStack Administrator Guide</span></a><span> › </span><a class="crumb" href="bk02ch12.html">Bare Metal</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 11. Database" href="bk02ch11.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 13. Orchestration" href="bk02ch13.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="id-1.4.14"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname ">SUSE OpenStack Cloud</span> <span class="productnumber ">8</span></div><div><h1 class="title"><span class="number">12 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Bare Metal</span> <a title="Permalink" class="permalink" href="bk02ch12.html#">#</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="bk02ch12.html#id-1.4.14.4"><span class="number">12.1 </span><span class="name">Introduction</span></a></span></dt><dt><span class="sect1"><a href="bk02ch12.html#id-1.4.14.5"><span class="number">12.2 </span><span class="name">System architecture</span></a></span></dt><dt><span class="sect1"><a href="bk02ch12.html#id-1.4.14.6"><span class="number">12.3 </span><span class="name">Bare Metal deployment</span></a></span></dt><dt><span class="sect1"><a href="bk02ch12.html#id-1.4.14.7"><span class="number">12.4 </span><span class="name">Use Bare Metal</span></a></span></dt><dt><span class="sect1"><a href="bk02ch12.html#id-1.4.14.8"><span class="number">12.5 </span><span class="name">Troubleshooting</span></a></span></dt></dl></div></div><p>The Bare Metal service provides physical hardware management features.</p><div class="sect1 " id="id-1.4.14.4"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Introduction</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.4">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>The Bare Metal service provides physical hardware as opposed to
virtual machines. It also provides several reference drivers, which
leverage common technologies like PXE and IPMI, to cover a wide range
of hardware. The pluggable driver architecture also allows
vendor-specific drivers to be added for improved performance or
functionality not provided by reference drivers. The Bare Metal
service makes physical servers as easy to provision as virtual
machines in a cloud, which in turn will open up new avenues for
enterprises and service providers.</p></div><div class="sect1 " id="id-1.4.14.5"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">System architecture</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.5">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>The Bare Metal service is composed of the following components:</p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>An admin-only RESTful API service, by which privileged users, such
as operators and other services within the cloud control
plane, may interact with the managed bare-metal servers.</p></li><li class="step "><p>A conductor service, which conducts all activity related to
bare-metal deployments. Functionality is exposed via the API
service. The Bare Metal service conductor and API service
communicate via RPC.</p></li><li class="step "><p>Various drivers that support heterogeneous hardware, which enable
features specific to unique hardware platforms and leverage
divergent capabilities via a common API.</p></li><li class="step "><p>A message queue, which is a central hub for passing messages, such
as RabbitMQ. It should use the same implementation as that of the
Compute service.</p></li><li class="step "><p>A database for storing information about the resources. Among other
things, this includes the state of the conductors, nodes (physical
servers), and drivers.</p></li></ol></div></div><p>When a user requests to boot an instance, the request is passed to the
Compute service via the Compute service API and scheduler. The Compute
service hands over this request to the Bare Metal service, where the
request passes from the Bare Metal service API, to the conductor which
will invoke a driver to successfully provision a physical server for
the user.</p></div><div class="sect1 " id="id-1.4.14.6"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Bare Metal deployment</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.6">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>PXE deploy process</p></li><li class="step "><p>Agent deploy process</p></li></ol></div></div></div><div class="sect1 " id="id-1.4.14.7"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use Bare Metal</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>Install the Bare Metal service.</p></li><li class="step "><p>Setup the Bare Metal driver in the compute node's <code class="literal">nova.conf</code> file.</p></li><li class="step "><p>Setup TFTP folder and prepare PXE boot loader file.</p></li><li class="step "><p>Prepare the bare metal flavor.</p></li><li class="step "><p>Register the nodes with correct drivers.</p></li><li class="step "><p>Configure the driver information.</p></li><li class="step "><p>Register the ports information.</p></li><li class="step "><p>Use the <code class="command">openstack server create</code> command to
kick off the bare metal provision.</p></li><li class="step "><p>Check nodes' provision state and power state.</p></li></ol></div></div><div class="sect2 " id="id-1.4.14.7.3"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use multitenancy with Bare Metal service</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7.3">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="sect3 " id="id-1.4.14.7.3.2"><div class="titlepage"><div><div><h4 class="title"><span class="number">12.4.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Use multitenancy with Bare Metal service</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7.3.2">#</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>Multitenancy allows creating a dedicated project network that extends the
current Bare Metal (ironic) service capabilities of providing <code class="literal">flat</code>
networks. Multitenancy works in conjunction with Networking (neutron)
service to allow provisioning of a bare metal server onto the project network.
Therefore, multiple projects can get isolated instances after deployment.</p><p>Bare Metal service provides the <code class="literal">local_link_connection</code> information to the
Networking service ML2 driver. The ML2 driver uses that information to plug the
specified port to the project network.</p><div class="table" id="id-1.4.14.7.3.2.4"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 12.1: </span><span class="name">local_link_connection fields </span><a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7.3.2.4">#</a></h6></div><div class="table-contents"><table class="table" summary="local_link_connection fields" border="1"><colgroup><col class="c1" /><col class="c2" /></colgroup><thead><tr><th>
                    <p>Field</p>
                  </th><th>
                    <p>Description</p>
                  </th></tr></thead><tbody><tr><td>
                    <p>
                      <code class="literal">switch_id</code>
                    </p>
                  </td><td>
                    <p>Required. Identifies a switch and can be an LLDP-based MAC address or
an OpenFlow-based <code class="literal">datapath_id</code>.</p>
                  </td></tr><tr><td>
                    <p>
                      <code class="literal">port_id</code>
                    </p>
                  </td><td>
                    <p>Required. Port ID on the switch, for example, Gig0/1.</p>
                  </td></tr><tr><td>
                    <p>
                      <code class="literal">switch_info</code>
                    </p>
                  </td><td>
                    <p>Optional. Used to distinguish different switch models or other
vendor specific-identifier.</p>
                  </td></tr></tbody></table></div></div><div class="sect4 " id="id-1.4.14.7.3.2.5"><div class="titlepage"><div><div><h5 class="title"><span class="number">12.4.1.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configure Networking service ML2 driver</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7.3.2.5">#</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>To enable the Networking service ML2 driver, edit the
<code class="literal">/etc/neutron/plugins/ml2/ml2_conf.ini</code> file:</p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>Add the name of your ML2 driver.</p></li><li class="step "><p>Add the vendor ML2 plugin configuration options.</p></li></ol></div></div><div class="verbatim-wrap highlight ini"><pre class="screen">[ml2]
...
mechanism_drivers = my_mechanism_driver

[my_vendor]
param_1 = ...
param_2 = ...
param_3 = ...</pre></div><p>For more details, see
<a class="link" href="http://docs.openstack.org/newton/networking-guide/config-ml2.html#mechanism-drivers" target="_blank">Networking service mechanism drivers</a>.</p></div><div class="sect4 " id="id-1.4.14.7.3.2.6"><div class="titlepage"><div><div><h5 class="title"><span class="number">12.4.1.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configure Bare Metal service</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.7.3.2.6">#</a></h5><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>After you configure the Networking service ML2 driver, configure Bare Metal
service:</p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>Edit the <code class="literal">/etc/ironic/ironic.conf</code> for the <code class="literal">ironic-conductor</code> service.
Set the <code class="literal">network_interface</code> node field to a valid network driver that is
used to switch, clean, and provision networks.</p><div class="verbatim-wrap highlight ini"><pre class="screen">[DEFAULT]
...
enabled_network_interfaces=flat,neutron

[neutron]
...
cleaning_network_uuid=$UUID
provisioning_network_uuid=$UUID</pre></div><div id="id-1.4.14.7.3.2.6.3.1.3" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg" /><h6>Warning</h6><p>The <code class="literal">cleaning_network_uuid</code> and <code class="literal">provisioning_network_uuid</code>
parameters are required for the <code class="literal">neutron</code> network interface. If they are
not set, <code class="literal">ironic-conductor</code> fails to start.</p></div></li><li class="step "><p>Set <code class="literal">neutron</code> to use Networking service ML2 driver:</p><div class="verbatim-wrap"><pre class="screen">$ ironic node-create -n $NAME --network-interface neutron --driver agent_ipmitool</pre></div></li><li class="step "><p>Create a port with appropriate <code class="literal">local_link_connection</code> information. Set
the <code class="literal">pxe_enabled</code> port attribute to <code class="literal">True</code> to create network ports for
for the <code class="literal">pxe_enabled</code> ports only:</p><div class="verbatim-wrap"><pre class="screen">$ ironic --ironic-api-version latest port-create -a $HW_MAC_ADDRESS \
  -n $NODE_UUID -l switch_id=$SWITCH_MAC_ADDRESS \
  -l switch_info=$SWITCH_HOSTNAME -l port_id=$SWITCH_PORT --pxe-enabled true</pre></div></li></ol></div></div></div></div></div></div><div class="sect1 " id="id-1.4.14.8"><div class="titlepage"><div><div><h2 class="title"><span class="number">12.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.8">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div class="sect2 " id="id-1.4.14.8.2"><div class="titlepage"><div><div><h3 class="title"><span class="number">12.5.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">No valid host found error</span> <a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.8.2">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>bk_openstack_admin.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect3 bridgehead"><h4 class="title" id="id-1.4.14.8.2.3"><span class="name">Problem</span><a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.8.2.3">#</a></h4></div><p>Sometimes <code class="literal">/var/log/nova/nova-conductor.log</code> contains the following error:</p><div class="verbatim-wrap"><pre class="screen">NoValidHost: No valid host was found. There are not enough hosts available.</pre></div><p>The message <code class="literal">No valid host was found</code> means that the Compute service
scheduler could not find a bare metal node suitable for booting the new
instance.</p><p>This means there will be some mismatch between resources that the Compute
service expects to find and resources that Bare Metal service advertised to
the Compute service.</p><div xmlns:dm="urn:x-suse:ns:docmanager" class="sect3 bridgehead"><h4 class="title" id="id-1.4.14.8.2.8"><span class="name">Solution</span><a title="Permalink" class="permalink" href="bk02ch12.html#id-1.4.14.8.2.8">#</a></h4></div><p>If you get this message, check the following:</p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>Introspection should have succeeded for you before, or you should have
entered the required bare-metal node properties manually.
For each node in the <code class="command">ironic node-list</code> command, use:</p><div class="verbatim-wrap"><pre class="screen">$ ironic node-show &lt;IRONIC-NODE-UUID&gt;</pre></div><p>and make sure that <code class="literal">properties</code> JSON field has valid values for keys
<code class="literal">cpus</code>, <code class="literal">cpu_arch</code>, <code class="literal">memory_mb</code> and <code class="literal">local_gb</code>.</p></li><li class="step "><p>The flavor in the Compute service that you are using does not exceed the
bare-metal node properties above for a required number of nodes. Use:</p><div class="verbatim-wrap"><pre class="screen">$ openstack flavor show FLAVOR</pre></div></li><li class="step "><p>Make sure that enough nodes are in <code class="literal">available</code> state according to the
<code class="command">ironic node-list</code> command. Nodes in <code class="literal">manageable</code> state usually
mean they have failed introspection.</p></li><li class="step "><p>Make sure nodes you are going to deploy to are not in maintenance mode.
Use the <code class="command">ironic node-list</code> command to check. A node automatically
going to maintenance mode usually means the incorrect credentials for
this node. Check them and then remove maintenance mode:</p><div class="verbatim-wrap"><pre class="screen">$ ironic node-set-maintenance &lt;IRONIC-NODE-UUID&gt; off</pre></div></li><li class="step "><p>It takes some time for nodes information to propagate from the Bare Metal
service to the Compute service after introspection. Our tooling usually
accounts for it, but if you did some steps manually there may be a period
of time when nodes are not available to the Compute service yet. Check that
the <code class="command">openstack hypervisor stats show</code> command correctly shows total
amount of resources in your system.</p></li></ol></div></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="bk02ch13.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 13 </span>Orchestration</span></a><a class="nav-link" href="bk02ch11.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 11 </span>Database</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>