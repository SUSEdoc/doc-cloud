<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SUSE OpenStack Cloud Crowbar 9 | Deployment Guide using Crowbar | The Crowbar Web Interface</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="The Crowbar Web Interface | SUSE OpenStack Cloud Crowb…"/>
<meta name="description" content="The Crowbar Web interface runs on the Administration Server. It provides an overview of the most important deployment details in your cloud. This inc…"/>
<meta name="product-name" content="SUSE OpenStack Cloud Crowbar"/>
<meta name="product-number" content="9"/>
<meta name="book-title" content="Deployment Guide using Crowbar"/>
<meta name="chapter-title" content="Chapter 10. The Crowbar Web Interface"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="dpopov@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9"/>
<meta property="og:title" content="The Crowbar Web Interface | SUSE OpenStack Cloud Crowb…"/>
<meta property="og:description" content="The Crowbar Web interface runs on the Administration Server. It provides an overview of the most important deployment details in your cloud. This inc…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Crowbar Web Interface | SUSE OpenStack Cloud Crowb…"/>
<meta name="twitter:description" content="The Crowbar Web interface runs on the Administration Server. It provides an overview of the most important deployment details in your cloud. This inc…"/>
<link rel="prev" href="part-depl-ostack.html" title="Part III. Setting Up OpenStack Nodes and Services"/><link rel="next" href="cha-depl-inst-nodes.html" title="Chapter 11. Installing the OpenStack Nodes"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deployment Guide using Crowbar</a><span> / </span><a class="crumb" href="part-depl-ostack.html">Setting Up OpenStack Nodes and Services</a><span> / </span><a class="crumb" href="cha-depl-crowbar.html">The Crowbar Web Interface</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title"><em class="citetitle">Deployment Guide using Crowbar</em></div><ol><li><a href="pre-cloud-deploy.html" class=" "><span class="title-number"> </span><span class="title-name">About This Guide</span></a></li><li><a href="part-depl-intro.html" class="has-children "><span class="title-number">I </span><span class="title-name">Architecture and Requirements</span></a><ol><li><a href="cha-depl-arch.html" class=" "><span class="title-number">1 </span><span class="title-name">The SUSE <span class="productname">OpenStack</span> Cloud Architecture</span></a></li><li><a href="cha-depl-req.html" class=" "><span class="title-number">2 </span><span class="title-name">Considerations and Requirements</span></a></li></ol></li><li><a href="part-depl-admserv.html" class="has-children "><span class="title-number">II </span><span class="title-name">Setting Up the Administration Server</span></a><ol><li><a href="cha-depl-adm-inst.html" class=" "><span class="title-number">3 </span><span class="title-name">Installing the Administration Server</span></a></li><li><a href="app-deploy-smt.html" class=" "><span class="title-number">4 </span><span class="title-name">Installing and Setting Up an SMT Server on the Administration Server (Optional)</span></a></li><li><a href="cha-depl-repo-conf.html" class=" "><span class="title-number">5 </span><span class="title-name">Software Repository Setup</span></a></li><li><a href="sec-depl-adm-inst-network.html" class=" "><span class="title-number">6 </span><span class="title-name">Service Configuration:  Administration Server Network Configuration</span></a></li><li><a href="sec-depl-adm-inst-crowbar.html" class=" "><span class="title-number">7 </span><span class="title-name">Crowbar Setup</span></a></li><li><a href="sec-depl-adm-start-crowbar.html" class=" "><span class="title-number">8 </span><span class="title-name">Starting the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation</span></a></li><li><a href="sec-depl-adm-crowbar-extra-features.html" class=" "><span class="title-number">9 </span><span class="title-name">Customizing Crowbar</span></a></li></ol></li><li class="active"><a href="part-depl-ostack.html" class="has-children you-are-here"><span class="title-number">III </span><span class="title-name">Setting Up <span class="productname">OpenStack</span> Nodes and Services</span></a><ol><li><a href="cha-depl-crowbar.html" class=" you-are-here"><span class="title-number">10 </span><span class="title-name">The Crowbar Web Interface</span></a></li><li><a href="cha-depl-inst-nodes.html" class=" "><span class="title-number">11 </span><span class="title-name">Installing the <span class="productname">OpenStack</span> Nodes</span></a></li><li><a href="cha-depl-ostack.html" class=" "><span class="title-number">12 </span><span class="title-name">Deploying the <span class="productname">OpenStack</span> Services</span></a></li><li><a href="sec-deploy-policy-json.html" class=" "><span class="title-number">13 </span><span class="title-name">Limiting Users' Access Rights</span></a></li><li><a href="cha-depl-ostack-configs.html" class=" "><span class="title-number">14 </span><span class="title-name">Configuration Files for <span class="productname">OpenStack</span> Services</span></a></li><li><a href="install-heat-templates.html" class=" "><span class="title-number">15 </span><span class="title-name">Installing SUSE CaaS Platform heat Templates</span></a></li><li><a href="install-caasp-terraform.html" class=" "><span class="title-number">16 </span><span class="title-name">Installing SUSE CaaS Platform v4 using terraform</span></a></li></ol></li><li><a href="part-depl-nostack.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Setting Up Non-<span class="productname">OpenStack</span> Services</span></a><ol><li><a href="cha-depl-nostack.html" class=" "><span class="title-number">17 </span><span class="title-name">Deploying the Non-<span class="productname">OpenStack</span> Components</span></a></li></ol></li><li><a href="part-depl-troubleshooting.html" class="has-children "><span class="title-number">V </span><span class="title-name">Troubleshooting and Support</span></a><ol><li><a href="cha-depl-trouble.html" class=" "><span class="title-number">18 </span><span class="title-name">Troubleshooting and Support</span></a></li></ol></li><li><a href="app-deploy-cisco.html" class=" "><span class="title-number">A </span><span class="title-name">Using Cisco Nexus Switches with neutron</span></a></li><li><a href="app-deploy-docupdates.html" class=" "><span class="title-number">B </span><span class="title-name">Documentation Updates</span></a></li><li><a href="gl-cloud.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary of Terminology and Product Names</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-depl-crowbar" data-id-title="The Crowbar Web Interface"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span></span> <span class="productnumber">9</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">10 </span><span class="title-name">The Crowbar Web Interface</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div><div><div class="abstract"><p>The Crowbar Web interface runs on the Administration Server. It provides an
    overview of the most important deployment details in your cloud. This includes a
    view of the nodes and which roles are deployed on which nodes, and the
    barclamp proposals that can be edited and deployed. In addition, the
    Crowbar Web interface shows details about the networks and switches in your
    cloud. It also provides graphical access to tools for managing
    your repositories, backing up or restoring the Administration Server, exporting the
    Chef configuration, or generating a <code class="literal">supportconfig</code> TAR
    archive with the most important log files.</p></div></div></div></div><div id="tip-crow-api" data-id-title="Crowbar API Documentation" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Crowbar API Documentation</div><p>
   You can access the Crowbar API documentation from the following static page:
   <code class="literal">http://<em class="replaceable">CROWBAR_SERVER</em>/apidoc</code>.
  </p><p>
    The documentation contains information about the crowbar API endpoints and
    its parameters, including response examples, possible errors (and their
    HTTP response codes), parameter validations, and required headers.
   </p></div><section class="sect1" id="sec-depl-crow-login" data-id-title="Logging In"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.1 </span><span class="title-name">Logging In</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-login">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The Crowbar Web interface uses the HTTP protocol and port
   <code class="literal">80</code>. </p><div class="procedure" id="pro-depl-crow-login" data-id-title="Logging In to the Crowbar Web Interface"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.1: </span><span class="title-name">Logging In to the Crowbar Web Interface </span></span><a title="Permalink" class="permalink" href="cha-depl-crowbar.html#pro-depl-crow-login">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p> On any machine, start a Web browser and make sure that JavaScript and
     cookies are enabled.</p></li><li class="step"><p> As URL, enter the IP address of the Administration Server, for example:</p><div class="verbatim-wrap"><pre class="screen">http://192.168.124.10/</pre></div></li><li class="step"><p>Log in as user
     <code class="systemitem">crowbar</code>. If you have not changed
     the password, it is <code class="literal">crowbar</code> by default.
    </p></li></ol></div></div><div class="procedure" id="pro-depl-crow-password" data-id-title="Changing the Password for the Crowbar Web Interface"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.2: </span><span class="title-name">Changing the Password for the Crowbar Web Interface </span></span><a title="Permalink" class="permalink" href="cha-depl-crowbar.html#pro-depl-crow-password">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     On the Administration Server, open the following file in a text editor:
     <code class="filename">/etc/crowbarrc</code>. It contains the following:
    </p><div class="verbatim-wrap"><pre class="screen">[default]
username=crowbar
password=crowbar</pre></div><p>
      Change the <code class="literal">password</code> entry and save the file.
    </p></li><li class="step"><p>
      Alternatively, use the YaST Crowbar module to edit the password as
      described in <a class="xref" href="sec-depl-adm-inst-crowbar.html#sec-depl-adm-inst-crowbar-user" title="7.1. User Settings">Section 7.1, “<span class="guimenu">User Settings</span>”</a>.
    </p></li><li class="step"><p>
      Manually run <code class="command">chef-client</code>. This step is not needed if
      the installation has not been completed yet.
    </p></li></ol></div></div></section><section class="sect1" id="sec-depl-crow-overview" data-id-title="Overview: Main Elements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.2 </span><span class="title-name">Overview: Main Elements</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>After logging in to Crowbar, you will see a navigation bar at the
   top-level row. Its menus and the respective views are described in the
   following sections.</p><div class="figure" id="id-1.4.5.2.5.3"><div class="figure-contents"><div class="mediaobject"><a href="images/depl_node_dashboard_groups_installed.png"><img src="images/depl_node_dashboard_groups_installed.png" width="100%" alt="Crowbar UI—Dashboard (Main Screen)" title="Crowbar UI—Dashboard (Main Screen)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 10.1: </span><span class="title-name">Crowbar UI—Dashboard (Main Screen) </span></span><a title="Permalink" class="permalink" href="cha-depl-crowbar.html#id-1.4.5.2.5.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div><section class="sect2" id="sec-depl-crow-overview-nodes" data-id-title="Nodes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.2.1 </span><span class="title-name">Nodes</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-overview-nodes">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.5.2.5.4.2.1"><span class="term"><span class="guimenu">Dashboard</span></span></dt><dd><p>This is the default view after logging in to the Crowbar
       Web interface. The Dashboard shows the groups (which you can create to
       arrange nodes according to their purpose), which nodes belong to each
       group, and which state the nodes and groups are in. In addition, the
       total number of nodes is displayed in the top-level row.</p><p>The color of the dot in front of each node or group indicates the status. If the dot for
       a group shows more than one color, hover the mouse pointer over the dot to view the total
       number of nodes and the statuses they are in.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Gray means the node is being discovered by the Administration Server, or that there is no
         up-to-date information about a deployed node. If the status is shown for a node longer than
         expected, check if the chef-client is still running on the node.</p></li><li class="listitem"><p>
         Yellow means the node has been successfully
         <code class="literal">Discovered</code>. As long as the node has not been
         allocated the dot will flash. A solid (non-flashing) yellow dot
         indicates that the node has been allocated, but installation has not
         yet started.
        </p></li><li class="listitem"><p>
         Flashing from yellow to green means the node has been allocated and is
         currently being installed.
        </p></li><li class="listitem"><p>Solid green means the node is in status <code class="literal">Ready</code>.
        </p></li><li class="listitem"><p>Red means the node is in status <code class="literal">Problem</code>.</p></li></ul></div><p>During the initial state of the setup, the Dashboard only shows
       one group called <code class="literal">sw_unknown</code> into which the
       Administration Server is automatically sorted. Initially, all nodes (except
       the Administration Server) are listed with their MAC address as a name.
       However, we recommend creating an alias for each node. This makes
       it easier to identify the node in the admin network and on the
       Dashboard. For details on how to create groups, how to assign nodes
       to a group, and how to create node aliases, see <a class="xref" href="cha-depl-inst-nodes.html#sec-depl-inst-nodes-install" title="11.2. Node Installation">Section 11.2, “Node Installation”</a>.</p></dd><dt id="id-1.4.5.2.5.4.2.2"><span class="term"><span class="guimenu">Bulk Edit</span></span></dt><dd><p>This screen allows you to edit multiple nodes at once instead of
       editing them individually. It lists all nodes, including
        <span class="guimenu">Name</span> (in form of the MAC address),
<span class="guimenu">Hardware</span> configuration, <span class="guimenu">Alias</span> (used within the admin network),
        <span class="guimenu">Public Name</span> (name used outside of the SUSE <span class="productname">OpenStack</span> Cloud
       network), <span class="guimenu">Group</span>, <span class="guimenu">Intended
        Role</span>, <span class="guimenu">Platform</span> (the operating
       system that is going to be installed on the node),
        <span class="guimenu">License</span> (if available), and allocation
       status. You can toggle the list view between <span class="guimenu">Show
        unallocated</span> or <span class="guimenu">Show all</span> nodes.</p><p>For details on how to fill in the data for all nodes and how to
       start the installation process, see <a class="xref" href="cha-depl-inst-nodes.html#sec-depl-inst-nodes-install" title="11.2. Node Installation">Section 11.2, “Node Installation”</a>.</p></dd><dt id="id-1.4.5.2.5.4.2.3"><span class="term"><span class="guimenu">HA Clusters</span></span></dt><dd><p>This menu entry only appears if your cloud contains a High Availability setup. The overview
       shows all clusters in your setup, including the <span class="guimenu">Nodes</span> that are members of
       the respective cluster and the <span class="guimenu">Roles</span> assigned to the cluster. It also
       shows if a cluster contains <span class="guimenu">Remote Nodes</span> and which roles are assigned to
       the remote nodes.</p></dd><dt id="id-1.4.5.2.5.4.2.4"><span class="term"><span class="guimenu">Actives Roles</span></span></dt><dd><p>This overview shows which roles have been deployed on which
       node(s). The roles are grouped according to the service to which they
       belong. You cannot edit anything here. To change role deployment, you
       need to edit and redeploy the appropriate barclamps as described in
        <a class="xref" href="cha-depl-ostack.html" title="Chapter 12. Deploying the OpenStack Services">Chapter 12, <em>Deploying the <span class="productname">OpenStack</span> Services</em></a>.</p></dd></dl></div></section><section class="sect2" id="sec-depl-crow-overview-barclamps" data-id-title="Barclamps"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.2.2 </span><span class="title-name">Barclamps</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-overview-barclamps">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.5.2.5.5.2.1"><span class="term"><span class="guimenu">All Barclamps</span></span></dt><dd><p>This screen shows a list of all available barclamp proposals, including
       their <span class="guimenu">Status</span>, <span class="guimenu">Name</span>, and a short
       <span class="guimenu">Description</span>. From here, you can
       <span class="guimenu">Edit</span> individual barclamp
       proposals as described in <a class="xref" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps" title="10.3. Deploying Barclamp Proposals">Section 10.3, “Deploying Barclamp Proposals”</a>.
      </p></dd><dt id="id-1.4.5.2.5.5.2.2"><span class="term"><span class="guimenu">Crowbar</span></span></dt><dd><p>This screen only shows the barclamps that are included with the core
       Crowbar framework. They contain general recipes for setting up and
       configuring all nodes. From here, you can <span class="guimenu">Edit</span>
       individual barclamp proposals.</p></dd><dt id="id-1.4.5.2.5.5.2.3"><span class="term"><span class="guimenu"><span class="productname">OpenStack</span></span></span></dt><dd><p>This screen only shows the barclamps that are dedicated to <span class="productname">OpenStack</span>
       service deployment and configuration.  From here, you can
       <span class="guimenu">Edit</span> individual barclamp
       proposals. </p></dd><dt id="id-1.4.5.2.5.5.2.4"><span class="term"><span class="guimenu">Deployment Queue</span></span></dt><dd><p>If barclamps are applied to one or more nodes that are not yet
       available for deployment (for example, because they are rebooting or have
       not been fully installed yet), the proposals will be put in a queue. This
       screen shows the proposals that are <span class="guimenu">Currently deploying</span>
       or <span class="guimenu">Waiting in queue</span>.</p></dd></dl></div></section><section class="sect2" id="sec-depl-crow-overview-utilities" data-id-title="Utilities"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.2.3 </span><span class="title-name">Utilities</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-overview-utilities">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.5.2.5.6.2.1"><span class="term"><span class="guimenu">Exported Items</span></span></dt><dd><p>The <span class="guimenu">Exported Files</span> screen allows you to export the
       Chef configuration and the <code class="literal">supportconfig</code> TAR
       archive. The <code class="literal">supportconfig</code> archive contains system
        information such as the current kernel version being used, the hardware, RPM
        database, partitions, and the most important log files for analysis of any
        problems. To access the export options, click <span class="guimenu">New
        Export</span>. After the export has been successfully finished, the
        <span class="guimenu">Exported Files</span> screen will show any files that are
       available for download.</p></dd><dt id="id-1.4.5.2.5.6.2.2"><span class="term"><span class="guimenu">Repositories</span></span></dt><dd><p>This screen shows an overview of the mandatory, recommended, and
       optional repositories for all architectures of <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>. On each
       reload of the screen the Crowbar Web interface checks the availability and
       status of the repositories. If a mandatory repository is not present, it
       is marked red in the screen. Any repositories marked green are usable and
       available to each node in the cloud. Usually, the available repositories
       are also shown as <span class="guimenu">Active</span> in the rightmost column. This
       means that the managed nodes will automatically be configured to use this
       repository. If you disable the <span class="guimenu">Active</span> check box for a
       repository, managed nodes will not use that repository.</p><p>You cannot edit any repositories in this screen. If you need additional, third-party
       repositories, or want to modify the repository metadata, edit
        <code class="filename">/etc/crowbar/repos.yml</code>. Find an example of a repository
       definition below:</p><div class="verbatim-wrap"><pre class="screen">suse-12.2:
  x86_64:
    Custom-Repo-12.2:
      url: 'http://example.com/12-SP2:/x86_64/custom-repo/'
      ask_on_error: true # sets the ask_on_error flag in
                         # the autoyast profile for that repo
      priority: 99 # sets the repo priority for zypper</pre></div><p>Alternatively, use the YaST Crowbar module to add or edit repositories as described in <a class="xref" href="sec-depl-adm-inst-crowbar.html#sec-depl-adm-inst-crowbar-repos" title="7.4. Repositories">Section 7.4, “<span class="guimenu">Repositories</span>”</a>.</p></dd><dt id="id-1.4.5.2.5.6.2.3"><span class="term"><span class="guimenu">swift Dashboard</span></span></dt><dd><p>This screen allows you to run
       <code class="command">swift-dispersion-report</code> on the node or nodes
       to which it has been deployed. Use this tool to measure the
       overall health of the swift cluster. For details, see <a class="link" href="http://docs.openstack.org/liberty/config-reference/content/object-storage-dispersion.html" target="_blank">http://docs.openstack.org/liberty/config-reference/content/object-storage-dispersion.html</a>.
       </p></dd><dt id="id-1.4.5.2.5.6.2.4"><span class="term"><span class="guimenu">Backup &amp; Restore</span></span></dt><dd><p>This screen is for creating and downloading a backup of the Administration Server. You can also restore from a backup or upload a backup image from your
       local file system.
       
       </p></dd></dl></div></section><section class="sect2" id="sec-depl-crow-overview-help" data-id-title="Help"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.2.4 </span><span class="title-name">Help</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-crow-overview-help">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>From this screen you can access HTML and PDF versions of the
    <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> manuals that are installed on the Administration Server.</p></section></section><section class="sect1" id="sec-depl-ostack-barclamps" data-id-title="Deploying Barclamp Proposals"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.3 </span><span class="title-name">Deploying Barclamp Proposals</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    Barclamps are a set of recipes, templates, and installation
    instructions. They are used to automatically install <span class="productname">OpenStack</span> components on the
    nodes. Each barclamp is configured via a so-called proposal. A proposal
    contains the configuration of the service(s) associated with the barclamp
    and a list of machines onto which to deploy the barclamp.
   </p><p>Most barclamps consist of two sections:</p><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.5.2.6.4.1"><span class="term"><span class="guimenu">Attributes</span></span></dt><dd><p>For changing the barclamp's configuration, either by editing the
      respective Web forms (<span class="guimenu">Custom</span> view) or by switching to the
       <span class="guimenu">Raw</span> view, which exposes all configuration options for the barclamp. In
      the <span class="guimenu">Raw</span> view, you directly edit the configuration file. </p><div id="id-1.4.5.2.6.4.1.2.2" data-id-title="Saving Your Changes" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Saving Your Changes</div><p> Before you switch to <span class="guimenu">Raw</span> view or back again to <span class="guimenu">Custom</span> view,
       <span class="guimenu">Save</span> your changes. Otherwise they will
       be lost.</p></div></dd><dt id="id-1.4.5.2.6.4.2"><span class="term"><span class="guimenu">Deployment</span></span></dt><dd><p>Lets you choose onto which nodes to deploy the barclamp. On the left-hand side, you
      see a list of <span class="guimenu">Available Nodes</span>. The right-hand side shows a list of roles
      that belong to the barclamp.</p><p>Assign the nodes to the roles that should be deployed on that node. Some barclamps
      contain roles that can also be deployed to a cluster. If you have deployed the Pacemaker
      barclamp, the <span class="guimenu">Deployment</span> section additionally lists <span class="guimenu">Available
       Clusters</span> and <span class="guimenu">Available Clusters with Remote Nodes</span> in this case.
      The latter are clusters that contain both <span class="quote">“<span class="quote">normal</span>”</span> nodes and Pacemaker remote
      nodes. See <a class="xref" href="cha-depl-req.html#sec-depl-reg-ha-compute" title="2.6.3. High Availability of the Compute Node(s)">Section 2.6.3, “High Availability of the Compute Node(s)”</a> for the basic details.</p><div id="id-1.4.5.2.6.4.2.2.3" data-id-title="Clusters with Remote Nodes" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Clusters with Remote Nodes</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Clusters (or clusters with remote nodes) cannot be assigned to roles that need to
         be deployed on individual nodes. If you try to do so, the Crowbar Web interface shows an error
         message.</p></li><li class="listitem"><p>If you assign a cluster with remote nodes to a role that can only be applied to
          <span class="quote">“<span class="quote">normal</span>”</span> (Corosync) nodes, the role will only be applied to the Corosync
         nodes of that cluster. The role will not be applied to the remote nodes of the same cluster.</p></li></ul></div></div></dd></dl></div><section class="sect2" id="sec-depl-ostack-barclamps-deploy" data-id-title="Creating, Editing and Deploying Barclamp Proposals"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.1 </span><span class="title-name">Creating, Editing and Deploying Barclamp Proposals</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps-deploy">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>The following procedure shows how to generally edit, create and deploy barclamp
    proposals. For the description and deployment of the individual barclamps, see
    <a class="xref" href="cha-depl-ostack.html" title="Chapter 12. Deploying the OpenStack Services">Chapter 12, <em>Deploying the <span class="productname">OpenStack</span> Services</em></a>.</p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>Log in to the Crowbar Web interface.
     </p></li><li class="step"><p>Click
      <span class="guimenu">Barclamps</span> and select
      <span class="guimenu">All Barclamps</span>. Alternatively, filter for categories by selecting
      either <span class="guimenu">Crowbar</span> or <span class="guimenu"><span class="productname">OpenStack</span></span>.</p></li><li class="step"><p>To create a new proposal or edit an existing one, click <span class="guimenu">Create</span> or
      <span class="guimenu">Edit</span> next to the appropriate barclamp.</p></li><li class="step"><p>Change the configuration in the <span class="guimenu">Attributes</span> section:</p><ol type="a" class="substeps"><li class="step"><p>Change the available options via the Web form.</p></li><li class="step"><p>To edit the configuration file directly, first save changes made in the Web form. Click <span class="guimenu">Raw</span> to edit the configuration in the editor view.</p></li><li class="step"><p>After you have finished, <span class="guimenu">Save</span> your changes. (They
       are not applied yet).</p></li></ol></li><li class="step"><p>Assign nodes to a role in the <span class="guimenu">Deployment</span> section of the
     barclamp. By default, one or more nodes are automatically pre-selected for
     available roles.</p><ol type="a" class="substeps"><li class="step"><p>If this pre-selection does not meet your requirements, click the
       <span class="guimenu">Remove</span> icon next to the role to remove the assignment.</p></li><li class="step"><p>To assign a node or cluster of your choice, select the item you want from the list of
       nodes or clusters on the left-hand side, then drag and drop the item onto the desired role name on the right.</p><div id="id-1.4.5.2.6.5.3.5.2.2.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>Do <span class="emphasis"><em>not</em></span> drop a node or cluster onto the text box—this is
       used to filter the list of available nodes or clusters!</p></div></li><li class="step"><p>To save your changes without deploying them yet, click <span class="guimenu">Save</span>.</p></li></ol></li><li class="step"><p>
      Deploy the proposal by clicking <span class="guimenu">Apply</span>.
     </p><div id="id-1.4.5.2.6.5.3.6.2" data-id-title="Wait Until a Proposal Has Been Deployed" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Wait Until a Proposal Has Been Deployed</div><p>If you deploy a proposal onto a node where a previous one is still
      active, the new proposal will overwrite the old one.</p><p>
       Deploying a proposal might take some time (up to several minutes). Always
       wait until you see the message <span class="quote">“<span class="quote">Successfully applied the proposal</span>”</span>
       before proceeding to the next proposal.
      </p></div></li></ol></div></div><p>A proposal that has not been deployed yet can be deleted in the <span class="guimenu">Edit
     Proposal</span> view by clicking <span class="guimenu">Delete</span>. To delete a proposal that has
    already been deployed, see <a class="xref" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps-delete" title="10.3.3. Deleting a Proposal That Already Has Been Deployed">Section 10.3.3, “Deleting a Proposal That Already Has Been Deployed”</a>.</p></section><section class="sect2" id="sec-depl-ostack-barclamps-failure" data-id-title="Barclamp Deployment Failure"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.2 </span><span class="title-name">Barclamp Deployment Failure</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps-failure">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div id="id-1.4.5.2.6.6.2" data-id-title="Deployment Failure" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Deployment Failure</div><p> A deployment failure of a barclamp may leave your node in an inconsistent state. If
    deployment of a barclamp fails:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
       Fix the reason that has caused the failure.
      </p></li><li class="listitem"><p>Re-deploy the barclamp.</p></li></ol></div><p>For help, see the respective troubleshooting section at <a class="xref" href="cha-depl-trouble.html#sec-depl-trouble-faq-ostack" title="OpenStack Node Deployment">Q &amp; A 2, “<span class="productname">OpenStack</span> Node Deployment”</a>. </p></div></section><section class="sect2" id="sec-depl-ostack-barclamps-delete" data-id-title="Deleting a Proposal That Already Has Been Deployed"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.3 </span><span class="title-name">Deleting a Proposal That Already Has Been Deployed</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps-delete">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>To delete a proposal that has already been deployed, you first need to
     <span class="guimenu">Deactivate</span> it.</p><div class="procedure" id="id-1.4.5.2.6.7.3" data-id-title="Deactivating and Deleting a Proposal"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 10.3: </span><span class="title-name">Deactivating and Deleting a Proposal </span></span><a title="Permalink" class="permalink" href="cha-depl-crowbar.html#id-1.4.5.2.6.7.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>Log in to the Crowbar Web interface. </p></li><li class="step"><p>Click <span class="guimenu">Barclamps</span> › <span class="guimenu">All Barclamps</span>.</p></li><li class="step"><p>Click <span class="guimenu">Edit</span> to open the editing view. </p></li><li class="step"><p>Click <span class="guimenu">Deactivate</span> and confirm your choice in the following
      pop-up.</p><p>Deactivating a proposal removes the chef role from the nodes, so the routine that
      installed and set up the services is not executed anymore.</p></li><li class="step"><p>Click <span class="guimenu">Delete</span> to confirm your choice in the following
      pop-up.</p><p>This removes the barclamp configuration data from the server. </p></li></ol></div></div><p>However, deactivating and deleting a barclamp that already had been deployed does
    <span class="emphasis"><em>not</em></span> remove packages installed when the barclamp was deployed.
    Nor does it stop any services that were started during the barclamp deployment.
   On the affected node, proceed as follows to undo the deployment:</p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>Stop the respective services:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">root # </code>systemctl stop <em class="replaceable">service</em></pre></div></li><li class="step"><p>Disable the respective services:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">root # </code>systemctl disable <em class="replaceable">service</em></pre></div></li></ol></div></div><p>Uninstalling the packages should not be necessary.</p></section><section class="sect2" id="sec-depl-ostack-barclamps-queues" data-id-title="Queuing/Dequeuing Proposals"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.4 </span><span class="title-name">Queuing/Dequeuing Proposals</span></span> <a title="Permalink" class="permalink" href="cha-depl-crowbar.html#sec-depl-ostack-barclamps-queues">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
     When a proposal is applied to one or more nodes that are not yet
     available for deployment (for example, because they are rebooting or have
     not been yet fully installed), the proposal will be put in a queue. A
     message like
    </p><div class="verbatim-wrap"><pre class="screen">Successfully queued the proposal until the following become ready: d52-54-00-6c-25-44</pre></div><p>
     will be shown when having applied the proposal. A new button
     <span class="guimenu">Dequeue</span> will also become available. Use it to cancel
     the deployment of the proposal by removing it from the queue.
    </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="part-depl-ostack.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Part III </span>Setting Up <span class="productname">OpenStack</span> Nodes and Services</span></a> </div><div><a class="pagination-link next" href="cha-depl-inst-nodes.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 11 </span>Installing the <span class="productname">OpenStack</span> Nodes</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-depl-crowbar.html#sec-depl-crow-login"><span class="title-number">10.1 </span><span class="title-name">Logging In</span></a></span></li><li><span class="sect1"><a href="cha-depl-crowbar.html#sec-depl-crow-overview"><span class="title-number">10.2 </span><span class="title-name">Overview: Main Elements</span></a></span></li><li><span class="sect1"><a href="cha-depl-crowbar.html#sec-depl-ostack-barclamps"><span class="title-number">10.3 </span><span class="title-name">Deploying Barclamp Proposals</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>