<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Troubleshooting and Support | Deployment Guide using Crowbar | SUSE OpenStack Cloud Crowbar 9</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud Crowbar" /><meta name="product-number" content="9" /><meta name="book-title" content="Deployment Guide using Crowbar" /><meta name="chapter-title" content="Chapter 18. Troubleshooting and Support" /><meta name="description" content="Find solutions for the most common pitfalls and technical details on how to create a support request for SUSE OpenStack Cloud Crowbar here." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="dpopov@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9" /><link rel="home" href="index.html" title="SUSE OpenStack Cloud Crowbar 9 Documentation" /><link rel="up" href="part-depl-troubleshooting.html" title="Part V. Troubleshooting and Support" /><link rel="prev" href="part-depl-troubleshooting.html" title="Part V. Troubleshooting and Support" /><link rel="next" href="app-deploy-cisco.html" title="Appendix A. Using Cisco Nexus Switches with neutron" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE OpenStack Cloud Crowbar 9 Documentation"><span class="book-icon">SUSE OpenStack Cloud Crowbar 9 Documentation</span></a><span> › </span><a class="crumb" href="book-crowbar-deployment.html">Deployment Guide using Crowbar</a><span> › </span><a class="crumb" href="part-depl-troubleshooting.html">Troubleshooting and Support</a><span> › </span><a class="crumb" href="cha-depl-trouble.html">Troubleshooting and Support</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide using Crowbar</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre-cloud-deploy.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part-depl-intro.html"><span class="number">I </span><span class="name">Architecture and Requirements</span></a><ol><li class="inactive"><a href="cha-depl-arch.html"><span class="number">1 </span><span class="name">The SUSE <span class="productname">OpenStack</span> Cloud Architecture</span></a></li><li class="inactive"><a href="cha-depl-req.html"><span class="number">2 </span><span class="name">Considerations and Requirements</span></a></li></ol></li><li class="inactive"><a href="part-depl-admserv.html"><span class="number">II </span><span class="name">Setting Up the Administration Server</span></a><ol><li class="inactive"><a href="cha-depl-adm-inst.html"><span class="number">3 </span><span class="name">Installing the Administration Server</span></a></li><li class="inactive"><a href="app-deploy-smt.html"><span class="number">4 </span><span class="name">Installing and Setting Up an SMT Server on the Administration Server (Optional)</span></a></li><li class="inactive"><a href="cha-depl-repo-conf.html"><span class="number">5 </span><span class="name">Software Repository Setup</span></a></li><li class="inactive"><a href="sec-depl-adm-inst-network.html"><span class="number">6 </span><span class="name">Service Configuration:  Administration Server Network Configuration</span></a></li><li class="inactive"><a href="sec-depl-adm-inst-crowbar.html"><span class="number">7 </span><span class="name">Crowbar Setup</span></a></li><li class="inactive"><a href="sec-depl-adm-start-crowbar.html"><span class="number">8 </span><span class="name">Starting the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation</span></a></li><li class="inactive"><a href="sec-depl-adm-crowbar-extra-features.html"><span class="number">9 </span><span class="name">Customizing Crowbar</span></a></li></ol></li><li class="inactive"><a href="part-depl-ostack.html"><span class="number">III </span><span class="name">Setting Up <span class="productname">OpenStack</span> Nodes and Services</span></a><ol><li class="inactive"><a href="cha-depl-crowbar.html"><span class="number">10 </span><span class="name">The Crowbar Web Interface</span></a></li><li class="inactive"><a href="cha-depl-inst-nodes.html"><span class="number">11 </span><span class="name">Installing the <span class="productname">OpenStack</span> Nodes</span></a></li><li class="inactive"><a href="cha-depl-ostack.html"><span class="number">12 </span><span class="name">Deploying the <span class="productname">OpenStack</span> Services</span></a></li><li class="inactive"><a href="sec-deploy-policy-json.html"><span class="number">13 </span><span class="name">Limiting Users' Access Rights</span></a></li><li class="inactive"><a href="cha-depl-ostack-configs.html"><span class="number">14 </span><span class="name">Configuration Files for <span class="productname">OpenStack</span> Services</span></a></li><li class="inactive"><a href="install-heat-templates.html"><span class="number">15 </span><span class="name">Installing SUSE CaaS Platform heat Templates</span></a></li><li class="inactive"><a href="install-caasp-terraform.html"><span class="number">16 </span><span class="name">Installing SUSE CaaS Platform v4 using terraform</span></a></li></ol></li><li class="inactive"><a href="part-depl-nostack.html"><span class="number">IV </span><span class="name">Setting Up Non-<span class="productname">OpenStack</span> Services</span></a><ol><li class="inactive"><a href="cha-depl-nostack.html"><span class="number">17 </span><span class="name">Deploying the Non-<span class="productname">OpenStack</span> Components</span></a></li></ol></li><li class="inactive"><a href="part-depl-troubleshooting.html"><span class="number">V </span><span class="name">Troubleshooting and Support</span></a><ol><li class="inactive"><a href="cha-depl-trouble.html"><span class="number">18 </span><span class="name">Troubleshooting and Support</span></a></li></ol></li><li class="inactive"><a href="app-deploy-cisco.html"><span class="number">A </span><span class="name">Using Cisco Nexus Switches with neutron</span></a></li><li class="inactive"><a href="app-deploy-docupdates.html"><span class="number">B </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="gl-cloud.html"><span class="number"> </span><span class="name">Glossary of Terminology and Product Names</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part V. Troubleshooting and Support" href="part-depl-troubleshooting.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. Using Cisco Nexus Switches with neutron" href="app-deploy-cisco.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE OpenStack Cloud Crowbar 9 Documentation"><span class="book-icon">SUSE OpenStack Cloud Crowbar 9 Documentation</span></a><span> › </span><a class="crumb" href="book-crowbar-deployment.html">Deployment Guide using Crowbar</a><span> › </span><a class="crumb" href="part-depl-troubleshooting.html">Troubleshooting and Support</a><span> › </span><a class="crumb" href="cha-depl-trouble.html">Troubleshooting and Support</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part V. Troubleshooting and Support" href="part-depl-troubleshooting.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. Using Cisco Nexus Switches with neutron" href="app-deploy-cisco.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha-depl-trouble"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span></span> <span class="productnumber ">9</span></div><div><h2 class="title"><span class="number">18 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting and Support</span> <a title="Permalink" class="permalink" href="cha-depl-trouble.html#">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>depl_troubleshooting.xml</li><li><span class="ds-label">ID: </span>cha-depl-trouble</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha-depl-trouble.html#sec-depl-trouble-faq"><span class="number">18.1 </span><span class="name">FAQ</span></a></span></dt><dt><span class="sect1"><a href="cha-depl-trouble.html#sec-depl-trouble-support"><span class="number">18.2 </span><span class="name">Support</span></a></span></dt></dl></div></div><p>
  Find solutions for the most common pitfalls and technical details on how
  to create a support request for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> here.
 </p><div class="sect1 " id="sec-depl-trouble-faq"><div class="titlepage"><div><div><h2 class="title"><span class="number">18.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">FAQ</span> <a title="Permalink" class="permalink" href="cha-depl-trouble.html#sec-depl-trouble-faq">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>depl_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-depl-trouble-faq</li></ul></div></div></div></div><p>
   If your problem is not mentioned here, checking the log files on either
   the Administration Server or the <span class="productname">OpenStack</span> nodes may help. A list of log files
   is available at <span class="intraxref">Book “<em class="citetitle ">Operations Guide Crowbar</em>”, Chapter 5 “Log Management”, Section 5.4 “Log Files”</span>.
  </p><div class="qandaset" id="id-1.4.7.2.4.3"><div class="qandadiv-title-wrap"><h4 class="qandadiv-title" id="sec-depl-trouble-faq-admin">1. Admin Node Deployment</h4></div><div class="qandadiv"><div class="free-id" id="id-1.4.7.2.4.3.1.2"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.2.1"><strong>Q:</strong>
       What to do if the initial SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation on the Administration Server fails?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.2.2"><p>
       Check the installation routine's log file at
       <code class="filename">/var/log/crowbar/install.log</code> for error messages.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.1.3"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.3.1"><strong>Q:</strong>

       What to do if the initial SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation on the Administration Server fails while
       deploying the IPMI/BMC network?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.3.2"><p>
       As of <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> 8, it is assumed that each
       machine can be accessed directly via IPMI/BMC. However, this is not
       the case on certain blade hardware, where several nodes are accessed
       via a common adapter. Such a hardware setup causes an error on
       deploying the IPMI/BMC network. You need to disable the IPMI
       deployment running the following command:
      </p><div class="verbatim-wrap"><pre class="screen">/opt/dell/bin/json-edit -r -a "attributes.ipmi.bmc_enable" \
-v "false" /opt/dell/chef/data_bags/crowbar/bc-template-ipmi.json</pre></div><p>
       Re-run the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation after having disabled the IPMI deployment.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.1.4"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.4.1"><strong>Q:</strong>
       Why am I not able to reach the Administration Server from outside the admin
       network via the bastion network?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.4.2"><p>
       If <code class="command">route</code> <code class="option">-n</code> shows no gateway for
       the bastion network, check the value of the following entries in
       <code class="filename">/etc/crowbar/network.json</code>:
       <code class="literal">"router_pref":</code> and <code class="literal">"router_pref":</code>.
       Make sure the value for the bastion network's
       <code class="literal">"router_pref":</code> is set to a
       <span class="emphasis"><em>lower</em></span> value than <code class="literal">"router_pref":</code>
       for the admin network.
      </p><p>
       If the router preference is set correctly, <code class="command">route</code>
       <code class="option">-n</code> shows a gateway for the bastion network. In case
       the Administration Server is still not accessible via its admin network
       address (for example,
       <code class="systemitem">192.168.124.10</code>), you need
       to disable route verification (<code class="literal">rp_filter</code>). Do so
       by running the following command on the Administration Server:
      </p><div class="verbatim-wrap"><pre class="screen">echo 0 &gt; /proc/sys/net/ipv4/conf/all/rp_filter</pre></div><p>
       If this setting solves the problem, make it permanent by editing
       <code class="filename">/etc/sysctl.conf</code> and setting the value for
       <code class="literal">net.ipv4.conf.all.rp_filter</code> to
       <code class="literal">0</code>.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.1.5"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.5.1"><strong>Q:</strong>
       Can I change the host name of the Administration Server?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.5.2"><p>
       No, after you have run the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation you cannot change the host name.
       Services like Crowbar, Chef, and the RabbitMQ will fail after changing
       the host name.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.1.6"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.6.1"><strong>Q:</strong>
       What to do when browsing the Chef Web UI gives a
       <code class="literal">Tampered with cookie</code> error?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.6.2"><p>
       You probably have an old cookie in your browser from a previous
       Chef installation on the same IP address. Remove the cookie named
       <code class="literal">_chef_server_session_id</code> and try again.
      </p></dd></dl><div class="free-id" id="q-depl-trouble-faq-admin-custom-repos"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.1.7.1"><strong>Q:</strong>
       How to make custom software repositories from an external server (for
       example a remote SMT or SUSE Manager server) available for the nodes?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.1.7.2"><p>
       Custom repositories need to be added using the YaST Crowbar
       module:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Start the YaST Crowbar module and switch to the
         <span class="guimenu ">Repositories</span> tab: <span class="guimenu ">YaST</span> › <span class="guimenu ">Miscellaneous</span> › <span class="guimenu ">Crowbar</span> › <span class="guimenu ">Repositories</span>.
        </p></li><li class="step "><p>
         Choose <span class="guimenu ">Add Repositories</span>
        </p></li><li class="step "><p>
         Enter the following data:
        </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.7.2.4.3.1.7.2.2.3.2.1"><span class="term "><span class="guimenu ">Name</span>
          </span></dt><dd><p>
            A unique name to identify the repository.
           </p></dd><dt id="id-1.4.7.2.4.3.1.7.2.2.3.2.2"><span class="term "><span class="guimenu ">URL</span>
          </span></dt><dd><p>
            Link or path to the repository.
           </p></dd><dt id="id-1.4.7.2.4.3.1.7.2.2.3.2.3"><span class="term "><span class="guimenu ">Ask On Error</span>
          </span></dt><dd><p>
            Access errors to a repository are silently ignored by default.
            To ensure that you get notified of these errors, set the
            <code class="literal">Ask On Error</code> flag.
           </p></dd><dt id="id-1.4.7.2.4.3.1.7.2.2.3.2.4"><span class="term "><span class="guimenu ">Target Platform/Architecture</span>
          </span></dt><dd><p>
            Currently only repositories for SUSE Linux Enterprise Server 12 SP4 on
            the x86-64 architecture are supported. Make
            sure to select both options.
           </p></dd></dl></div></li><li class="step "><p>
         Save your settings selecting <span class="guimenu ">OK</span>.
        </p></li></ol></div></div></dd></dl></div><div class="qandadiv-title-wrap"><h4 class="qandadiv-title" id="sec-depl-trouble-faq-ostack">2. <span class="productname">OpenStack</span> Node Deployment</h4></div><div class="qandadiv"><div class="free-id" id="var-depl-trouble-faq-ostack-login"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.2.1"><strong>Q:</strong>
       How can I log in to a node as <code class="systemitem">root</code>?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.2.2"><p>
       By default you cannot directly log in to a node as <code class="systemitem">root</code>,
       because the nodes were set up without a <code class="systemitem">root</code> password. You
       can only log in via SSH from the Administration Server. You should be able to
       log in to a node with <code class="command">ssh root@<em class="replaceable ">NAME</em></code>
       where <em class="replaceable ">NAME</em>
       is the name (alias) of the node.
      </p><p>
       If name resolution does not work, go to the Crowbar Web interface
       and open the <span class="guimenu ">Node Dashboard</span>. Click the name of the
       node and look for its <span class="guimenu ">admin (eth0)</span> <span class="guimenu ">IP
       Address</span>. Log in to that IP address via SSH as user
       <code class="systemitem">root</code>.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.3"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.3.1"><strong>Q:</strong>
       What to do if a node refuses to boot or boots into a previous
       installation?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.3.2"><p>
       Make sure to change the boot order in the BIOS of the node, so that
       the first boot option is to boot from the network/boot using PXE.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.4"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.4.1"><strong>Q:</strong>
       What to do if a node hangs during hardware discovery after the very
       first boot using PXE into the <span class="quote">“<span class="quote ">SLEShammer</span>”</span> image?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.4.2"><p>
       The <code class="systemitem">root</code> login is enabled at a very early state in discovery
       mode, so chances are high that you can log in for debugging purposes as
       described in <a class="xref" href="cha-depl-trouble.html#var-depl-trouble-faq-ostack-login" title="Q:"><em>
       How can I log in to a node as root?
      </em></a>.  If
       logging in as <code class="systemitem">root</code> does not work, you need to set the <code class="systemitem">root</code>
       password manually. This can either be done by setting the password via
       the Kernel command line as explained in <a class="xref" href="cha-depl-trouble.html#qa-depl-trouble-faq-ostack-rootpw" title="Q:"><em>
       How to provide Kernel Parameters for the SLEShammer Discovery Image?
      </em></a>, or by creating a hook as
       explained below:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Create a directory on the Administration Server named
         <code class="filename">/updates/discovering-pre</code>
        </p><div class="verbatim-wrap"><pre class="screen">mkdir /updates/discovering-pre</pre></div></li><li class="step "><p>
         Create a hook script <code class="filename">setpw.hook</code> in the
         directory created in the previous step:
        </p><div class="verbatim-wrap"><pre class="screen">cat &gt; /updates/discovering-pre/setpw.hook &lt;&lt;EOF
#!/bin/sh
echo "root:linux" | chpasswd
EOF</pre></div></li><li class="step "><p>
         Make the script executable:
        </p><div class="verbatim-wrap"><pre class="screen">chmod a+x  /updates/discovering-pre/setpw.hook</pre></div></li></ol></div></div><p>
       If you are still cannot log in, you very likely hit a bug in the
       discovery image. Report it at
       <a class="link" href="http://bugzilla.suse.com/" target="_blank">http://bugzilla.suse.com/</a>.
      </p></dd></dl><div class="free-id" id="qa-depl-trouble-faq-ostack-rootpw"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.5.1"><strong>Q:</strong>
       How to provide Kernel Parameters for the SLEShammer Discovery Image?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.5.2"><p>
       Kernel Parameters for the SLEShammer Discovery Image can be provided
       via the Provisioner barclamp. The following example shows how to set a
       <code class="systemitem">root</code> password:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Open a browser and point it to the Crowbar Web interface available on
         the Administration Server, for example
         <code class="literal">http://192.168.124.10/</code>. Log in as user <code class="systemitem">crowbar</code>. The password is
         <code class="literal">crowbar</code> by default, if you have not changed it.
        </p></li><li class="step "><p>
         Open <span class="guimenu ">Barclamps</span> › <span class="guimenu ">Crowbar</span> and click
         <span class="guimenu ">Edit</span> in the <span class="guimenu ">Provisioner</span> row.
        </p></li><li class="step "><p>
         Click <span class="guimenu ">Raw</span> in the <span class="guimenu ">Attributes</span>
         section and add the Kernel parameter(s) to the <code class="literal">"discovery":
         { "append": "" }</code> line, for example;
        </p><div class="verbatim-wrap"><pre class="screen">  "discovery": {
    "append": "DISCOVERY_ROOT_PASSWORD=<em class="replaceable ">PASSWORD</em>"
  },</pre></div></li><li class="step "><p>
         <span class="guimenu ">Apply</span> the proposal without changing the
         assignments in the <span class="guimenu ">Deployment</span> section.
        </p></li></ol></div></div></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.6"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.6.1"><strong>Q:</strong>
       What to do when a deployed node fails to boot using PXE with the
       following error message: <span class="quote">“<span class="quote ">Could not find kernel image:
       ../suse-12.2/install/boot/x86_64/loader/linux</span>”</span>?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.6.2"><p>
       The installation repository on the
       Administration Server at <code class="filename">/srv/tftpboot/suse-12.3/install</code>
       has not been set up correctly to contain the SUSE Linux Enterprise Server 12 SP4
       installation media. Review the instructions at
       <a class="xref" href="cha-depl-repo-conf.html#sec-depl-adm-conf-repos-product" title="5.1. Copying the Product Media Repositories">Section 5.1, “Copying the Product Media Repositories”</a>.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.7"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.7.1"><strong>Q:</strong>
       Why does my deployed node hang at <code class="literal">Unpacking
       initramfs</code> during boot when using PXE?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.7.2"><p>
       The node probably does not have enough RAM. You need at least 4 GB
       RAM for the deployment process to work.
      </p></dd></dl><div class="free-id" id="q-depl-trouble-faq-ostack-problem"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.8.1"><strong>Q:</strong>
       What to do if a node is reported to be in the state
       <code class="literal">Problem</code>? What to do if a node hangs at
       <span class="quote">“<span class="quote ">Executing AutoYast script:
           /usr/sbin/crowbar_join --setup</span>”</span> after the installation is finished?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.8.2"><p>
       Be patient—the AutoYaST script may take a while to finish. If
       it really hangs, log in to the node as <code class="systemitem">root</code> (see
       <a class="xref" href="cha-depl-trouble.html#var-depl-trouble-faq-ostack-login" title="Q:"><em>
       How can I log in to a node as root?
      </em></a> for details).
       Check for error messages at the end of
       <code class="filename">/var/log/crowbar/crowbar_join/chef.log</code>. Fix the
       errors and restart the AutoYaST script by running the following command:
      </p><div class="verbatim-wrap"><pre class="screen">crowbar_join --start</pre></div><p>
       If successful, the node will be listed in state
       <code class="literal">Ready</code>, when the script has finished.
      </p><p>
       In cases where the initial --setup wasn't able to complete successfully,
       you can rerun that once after the previous issue is solved.
      </p><p>
       If that does not help or if the log does not provide useful
       information, proceed as follows:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Log in to the Administration Server and run the following command:
        </p><div class="verbatim-wrap"><pre class="screen">crowbar crowbar transition $<em class="replaceable ">NODE</em></pre></div><p>
         <em class="replaceable ">NODE</em> needs to be replaced by the alias
         name you have given to the node when having installed it. Note that
         this name needs to be prefixed with <code class="literal">$</code>.
        </p></li><li class="step "><p>
         Log in to the node and run <code class="command">chef-client</code>.
        </p></li><li class="step "><p>
         Check the output of the command for failures and error messages and
         try to fix the cause of these messages.
        </p></li><li class="step "><p>
         Reboot the node.
        </p></li></ol></div></div><p>
       If the node is in a state where login in from the Administration Server is not
       possible, you need to create a <code class="systemitem">root</code> password for it as
       described in <a class="xref" href="cha-depl-inst-nodes.html#var-depl-inst-nodes-prep-root-login">Direct <code class="systemitem">root</code> Login</a>.
       Now re-install the node by going to the node on the Crowbar Web
       interface and clicking <span class="guimenu ">Reinstall</span>. After having
       been re-installed, the node will hang again, but now you can log in
       and check the log files to find the cause.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.9"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.9.1"><strong>Q:</strong>
       Where to find more information when applying a barclamp proposal
       fails?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.9.2"><p>
       Check the Chef client log files on the Administration Server located at
       <code class="filename">/var/log/crowbar/chef-client/d*.log</code>. Further
       information is available from the Chef client log files located
       on the node(s) affected by the proposal
       (<code class="filename">/var/log/chef/client.log</code>), and from the log
       files of the service that failed to be deployed. Additional
       information may be gained from the Crowbar Web UI log files on the
       Administration Server. For a list of log file locations refer to
       <span class="intraxref">Book “<em class="citetitle ">Operations Guide Crowbar</em>”, Chapter 5 “Log Management”, Section 5.4 “Log Files”</span>.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.10"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.10.1"><strong>Q:</strong>
       How to Prevent the Administration Server from Installing the <span class="productname">OpenStack</span> Nodes
       (Disable PXE and DNS Services)?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.10.2"><p>
       By default, the <span class="productname">OpenStack</span> nodes are installed by booting a discovery
       image from the Administration Server using PXE. They are allocated and then boot
       via PXE into an automatic installation (see <a class="xref" href="cha-depl-inst-nodes.html#sec-depl-inst-nodes-install" title="11.2. Node Installation">Section 11.2, “Node Installation”</a> for details). To
       install the <span class="productname">OpenStack</span> nodes manually or with a custom provisioning tool,
       you need to disable the PXE boot service and the DNS service on the
       Administration Server.
      </p><p>
       As a consequence you also need to provide an external DNS server. Such
       a server needs to comply with the following requirements:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          It needs to handle all domain-to-IP requests for SUSE <span class="productname">OpenStack</span> Cloud.
        </p></li><li class="listitem "><p>
         It needs to handle all IP-to-domain requests for SUSE <span class="productname">OpenStack</span> Cloud.
        </p></li><li class="listitem "><p>
         It needs to forward unknown requests to other DNS servers.
        </p></li></ul></div><p>
       To disable the PXE and DNS services when setting up the Administration Server,
       proceed as follows:
      </p><div class="procedure " id="id-1.4.7.2.4.3.2.10.2.5"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.1: </span><span class="name">Disabling PXE/DNS when Setting Up the Administration Server </span><a title="Permalink" class="permalink" href="cha-depl-trouble.html#id-1.4.7.2.4.3.2.10.2.5">#</a></h6></div><div class="procedure-contents"><p>
        The following steps need to be performed <span class="emphasis"><em>before</em></span>
        starting the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation.
       </p><ol class="procedure" type="1"><li class="step "><p>
         Create the file <code class="filename">/etc/crowbar/dns.json</code> with the
         following content:
        </p><div class="verbatim-wrap"><pre class="screen">{
  "attributes": {
    "dns": {
      "nameservers": [ "<em class="replaceable ">DNS_SERVER</em>", "<em class="replaceable ">DNS_SERVER2</em>" ],
      "auto_assign_server": false
    }
  }
}</pre></div><p>
         Replace <em class="replaceable ">DNS_SERVER</em> and
         <em class="replaceable ">DNS_SERVER2</em> with the IP address(es) of the
         external DNS server(s). Specifying more than one server is optional.
        </p></li><li class="step "><p>
         Create the file <code class="filename">/etc/crowbar/provisioner.json</code>
         with the following content:
        </p><div class="verbatim-wrap"><pre class="screen">{
  "attributes": {
    "provisioner": {
      "enable_pxe": false
    }
  }
}</pre></div></li><li class="step "><p>
         If these files are present when the SUSE <span class="productname">OpenStack</span> Cloud Crowbar installation is started, the
         Administration Server will be set up using external DNS services and no PXE boot
         server.
        </p></li></ol></div></div><p>
       If you already have deployed SUSE <span class="productname">OpenStack</span> Cloud, proceed as follows to
       disable the DNS and PXE services on the Administration Server:
      </p><div class="procedure " id="id-1.4.7.2.4.3.2.10.2.7"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.2: </span><span class="name">Disabling PXE/DNS on an Administration Server Running Crowbar </span><a title="Permalink" class="permalink" href="cha-depl-trouble.html#id-1.4.7.2.4.3.2.10.2.7">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Open a browser and point it to the Crowbar Web interface available on
         the Administration Server, for example
         <code class="literal">http://192.168.124.10/</code>. Log in as user <code class="systemitem">crowbar</code>. The password is
         <code class="literal">crowbar</code> by default, if you have not changed it.
        </p></li><li class="step "><p>
         Open <span class="guimenu ">Barclamps</span> › <span class="guimenu ">Crowbar</span> and click
         <span class="guimenu ">Edit</span> in the <span class="guimenu ">Provisioner</span> row.
        </p></li><li class="step "><p>
         Click <span class="guimenu ">Raw</span> in the <span class="guimenu ">Attributes</span>
         section and change the value for <span class="guimenu ">enable_pxe</span> to
         <code class="literal">false</code>:
        </p><div class="verbatim-wrap"><pre class="screen">"enable_pxe": false,</pre></div></li><li class="step "><p>
         <span class="guimenu ">Apply</span> the proposal without changing the
         assignments in the <span class="guimenu ">Deployment</span> section.
        </p></li><li class="step "><p>
         Change to the <span class="guimenu ">DNS</span> barclamp via <span class="guimenu ">Barclamps</span> › <span class="guimenu ">Crowbar</span>
         and click <span class="guimenu ">Edit</span> in the <span class="guimenu ">DNS</span> row.
        </p></li><li class="step "><p>
         Click <span class="guimenu ">Raw</span> in the <span class="guimenu ">Attributes</span>
         section. Change the value for <span class="guimenu ">auto_assign_server</span> to <code class="literal">false</code> and
         add the address(es) for the external name server(s):
        </p><div class="verbatim-wrap"><pre class="screen">"auto_assign_server": false,
"nameservers": [
  "<em class="replaceable ">DNS_SERVER</em>",
  "<em class="replaceable ">DNS_SERVER2</em>"
],</pre></div><p>
         Replace <em class="replaceable ">DNS_SERVER</em> and
         <em class="replaceable ">DNS_SERVER2</em> with the IP address(es) of the
         external DNS server(s). Specifying more than one server is optional.
        </p></li><li class="step "><p>
         <span class="guimenu ">Save</span> your changes, but do not apply them, yet!
        </p></li><li class="step "><p>
         In the <span class="guimenu ">Deployment</span> section of the barclamp remove
         all nodes from the <span class="guimenu ">dns-server</span> role, but do not
         change the assignments for the <span class="guimenu ">dns-client</span> role.
        </p></li><li class="step "><p>
         <span class="guimenu ">Apply</span> the barclamp.
        </p></li><li class="step "><p>
         When the DNS barclamp has been successfully applied, log in to the
         Administration Server and stop the DNS service:
        </p><div class="verbatim-wrap"><pre class="screen">systemctl stop named</pre></div></li></ol></div></div><p>
       Now that the PXE and DNS services are disabled you can install
       SUSE Linux Enterprise Server 12 SP4 on the <span class="productname">OpenStack</span> nodes. When a node is ready, add it to the
       pool of nodes as described in <a class="xref" href="cha-depl-inst-nodes.html#sec-depl-inst-nodes-install-external" title="11.3. Converting Existing SUSE Linux Enterprise Server 12 SP4 Machines Into SUSE OpenStack Cloud Nodes">Section 11.3, “Converting Existing SUSE Linux Enterprise Server 12 SP4 Machines Into SUSE <span class="productname">OpenStack</span> Cloud Nodes”</a>.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.11"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.11.1"><strong>Q:</strong>
       I have installed a new hard disk on a node that was already deployed.
       Why is it ignored by Crowbar?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.11.2"><p>
       When adding a new hard disk to a node that has already been deployed,
       it can take up to 15 minutes before the new disk is detected.
      </p></dd></dl><div class="free-id" id="id-1.4.7.2.4.3.2.12"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.2.12.1"><strong>Q:</strong>
       How to install additional packages (for example a driver) when nodes
       are deployed?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.2.12.2"><p>
       <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span> offers the possibility to install additional packages that
       are not part of the default scope of packages installed on the <span class="productname">OpenStack</span>
       nodes. This is for example required if your hardware is only supported
       by a third party driver. It is also useful if your setup requires to
       install additional tools that would otherwise need to be installed
       manually.
      </p><p>
       Prerequisite for using this feature is that the packages are available
       in a repository known on the Administration Server. Refer to <a class="xref" href="cha-depl-trouble.html#q-depl-trouble-faq-admin-custom-repos" title="Q:"><em>How to make custom software repositories from an external server (for example a remote SMT or SUSE M..?</em></a> for details, if the
       packages you want to install are not part of the repositories already
       configured.
      </p><p>
       To add packages for installation on node deployment, proceed as
       follows:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Open a browser and point it to the Crowbar Web interface on the Administration Server, for
         example <code class="literal">http://192.168.124.10/</code>. Log in as user
         <code class="systemitem">crowbar</code>. The password is
         <code class="literal">crowbar</code> by default, if you have not changed it
         during the installation.
        </p></li><li class="step "><p>
         Go to <span class="guimenu ">Barclamps</span> › <span class="guimenu ">Crowbar</span> and click the
         <span class="guimenu ">Edit</span> button for <span class="guimenu ">Provisioner</span>.
        </p></li><li class="step "><p>
         Next click <span class="guimenu ">Raw</span> in the
         <span class="guimenu ">Attributes</span> page to open an editable view of the
         provisioner configuration.
        </p></li><li class="step "><p>
         Add the following JSON code <span class="emphasis"><em>before</em></span> the last
         closing curly bracket (replace the <em class="replaceable ">PACKAGE</em>
         placeholders with real package names):
        </p><div class="verbatim-wrap"><pre class="screen">         "packages": {
    "suse-12.2": ["<em class="replaceable ">PACKAGE_1</em>", "<em class="replaceable ">PACKAGE_2</em>"],
  }</pre></div></li></ol></div></div><p>
       Note that these packages will get installed on all <span class="productname">OpenStack</span> nodes. If
       the change to the Provisioner barclamp is made after nodes have already
       been deployed, the packages will be installed on the affected nodes
       with the next run of Chef or <code class="command">crowbar-register</code>. Package
       names will be validated against the package naming guidelines to
       prevent script-injection.
      </p></dd></dl></div><div class="qandadiv-title-wrap"><h4 class="qandadiv-title" id="sec-depl-trouble-faq-misc">3. Miscellaneous</h4></div><div class="qandadiv"><div class="free-id" id="sec-depl-trouble-faq-misc-keystone-pw"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.3.2.1"><strong>Q:</strong>
       How to change the keystone credentials after the keystone barclamp has
       been deployed?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.3.2.2"><p>
       To change the credentials for the keystone administrator (<code class="systemitem">admin</code>) or the regular user (<code class="systemitem">crowbar</code> by default), proceed as follows:
      </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
         Log in to the Control Node on which keystone is deployed as user
         <code class="systemitem">root</code> via the Administration Server.
        </p></li><li class="step "><p>
         In a shell, source the <span class="productname">OpenStack</span> RC file for the project that you want
         to upload an image to. For details, refer to <a class="link" href="http://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html" target="_blank">Set
         environment variables using the <span class="productname">OpenStack</span> RC file</a> in the
         <span class="productname">OpenStack</span> documentation.
        </p></li><li class="step "><p>
         Enter the following command to change the
         <em class="replaceable ">PASSWORD</em> for the administrator or the
         regular user (<em class="replaceable ">USER</em>):
        </p><div class="verbatim-wrap"><pre class="screen"> keystone-manage bootstrap --bootstrap-password <em class="replaceable ">PASSWORD</em> \
--bootstrap-username <em class="replaceable ">USER</em></pre></div><p>
         For a complete list of command line options, run
         <code class="command">keystone-manage bootstrap --help</code>. Make sure to
         start the command with a <span class="keycap">Space</span> to make sure the
         password does not appear in the command history.
        </p></li><li class="step "><p>
         Access the keystone barclamp on the Crowbar Web interface by going to
         <span class="guimenu ">Barclamps</span> › <span class="guimenu ">OpenStack</span> and click
         <span class="guimenu ">Edit</span> for the keystone barclamp.
        </p></li><li class="step "><p>
         Enter the new password for the same user you specified on the command
         line before.
        </p></li><li class="step "><p>
         Activate the change by clicking <span class="guimenu ">Apply</span>. When the
         proposal has been re-applied, the password has changed and can be
         used.
        </p></li></ol></div></div></dd></dl><div class="free-id" id="sec-depl-trouble-faq-misc-change-openstack-config"></div><dl class="qandaentry"><dt class="question" id="id-1.4.7.2.4.3.3.3.1"><strong>Q:</strong>
       How to add or change a configuration value for an <span class="productname">OpenStack</span> service?
      </dt><dd class="answer" id="id-1.4.7.2.4.3.3.3.2"><p>
       See <a class="xref" href="cha-depl-ostack-configs.html" title="Chapter 14. Configuration Files for OpenStack Services">Chapter 14, <em>Configuration Files for <span class="productname">OpenStack</span> Services</em></a>.
      </p></dd></dl></div></div></div><div class="sect1 " id="sec-depl-trouble-support"><div class="titlepage"><div><div><h2 class="title"><span class="number">18.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Support</span> <a title="Permalink" class="permalink" href="cha-depl-trouble.html#sec-depl-trouble-support">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>depl_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-depl-trouble-support</li></ul></div></div></div></div><p>
   
   Before contacting support to help you with a problem on SUSE <span class="productname">OpenStack</span> Cloud, it is
   strongly recommended that you gather as much information about your
   system and the problem as possible. For this purpose, <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud Crowbar</span></span>
   ships with a tool called <code class="command">supportconfig</code>. It gathers
   system information such as the current kernel version being used, the
   hardware, RPM database, partitions, and other items.
   <code class="command">supportconfig</code> also collects the most important log
   files, making it easier for the supporters to identify and solve your
   problem.
  </p><p>
   It is recommended to always run <code class="command">supportconfig</code> on the
   Administration Server and on the Control Node(s). If a Compute Node or a
   Storage Node is part of the problem, run
   <code class="command">supportconfig</code> on the affected node as well. For
   details on how to run <code class="command">supportconfig</code>, see
   <a class="link" href="https://documentation.suse.com/sles/15-SP1/single-html/SLES-admin/#cha-adm-support" target="_blank">https://documentation.suse.com/sles/15-SP1/single-html/SLES-admin/#cha-adm-support</a>.
  </p><div class="sect2 " id="sec-depl-trouble-support-ptf"><div class="titlepage"><div><div><h3 class="title"><span class="number">18.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">
    Applying PTFs (Program Temporary Fixes) Provided by the SUSE L3 Support
   </span> <a title="Permalink" class="permalink" href="cha-depl-trouble.html#sec-depl-trouble-support-ptf">#</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>depl_troubleshooting.xml</li><li><span class="ds-label">ID: </span>sec-depl-trouble-support-ptf</li></ul></div></div></div></div><p>
    Under certain circumstances, the SUSE support may provide temporary
    fixes, the so-called PTFs, to customers with an L3 support contract.
    These PTFs are provided as RPM packages. To make them available on all
    nodes in SUSE <span class="productname">OpenStack</span> Cloud, proceed as follows.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Download the packages from the location provided by the SUSE L3
      Support to a temporary location on the Administration Server.
     </p></li><li class="step "><p>
      Move the packages from the temporary download location to the
      following directories on the Administration Server:
     </p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.7.2.5.4.3.2.2.1"><span class="term ">
        <span class="quote">“<span class="quote ">noarch</span>”</span> packages (<code class="filename">*.noarch.rpm</code>):
       </span></dt><dd><table border="0" summary="Simple list" class="simplelist "><tr><td>
          <code class="filename">/srv/tftpboot/suse-12.4/x86_64/repos/PTF/rpm/noarch/</code>
         </td></tr><tr><td>
          <code class="filename">/srv/tftpboot/suse-12.4/s390x/repos/PTF/rpm/noarch/</code>
         </td></tr></table></dd><dt id="id-1.4.7.2.5.4.3.2.2.2"><span class="term ">
        <span class="quote">“<span class="quote ">x86_64</span>”</span> packages (<code class="filename">*.x86_64.rpm</code>)
       </span></dt><dd><p>
         <code class="filename">/srv/tftpboot/suse-12.4/x86_64/repos/PTF/rpm/x86_64/</code>
        </p></dd><dt id="id-1.4.7.2.5.4.3.2.2.3"><span class="term ">
        <span class="quote">“<span class="quote ">s390x</span>”</span> packages (<code class="filename">*.s390x.rpm</code>)
       </span></dt><dd><p>
         <code class="filename">/srv/tftpboot/suse-12.4/s390x/repos/PTF/rpm/s390x/</code>
        </p></dd></dl></div></li><li class="step "><p>
      Create or update the repository metadata:
     </p><div class="verbatim-wrap"><pre class="screen">createrepo-cloud-ptf</pre></div></li><li class="step "><p>
      The repositories are now set up and are available for all nodes in
      SUSE <span class="productname">OpenStack</span> Cloud except for the Administration Server. In case the PTF also contains
      packages to be installed on the Administration Server, make the
      repository available on the Administration Server as well:
     </p><div class="verbatim-wrap"><pre class="screen">zypper ar -f /srv/tftpboot/suse-12.4/x86_64/repos/PTF PTF</pre></div></li><li class="step "><p>
      To deploy the updates, proceed as described in
      <a class="xref" href="cha-depl-inst-nodes.html#sec-depl-inst-nodes-post-updater" title="11.4.1. Deploying Node Updates with the Updater Barclamp">Section 11.4.1, “Deploying Node Updates with the Updater Barclamp”</a>. Alternatively, run
      <code class="command">zypper up</code> manually on each node.
     </p></li></ol></div></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="app-deploy-cisco.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Appendix A </span>Using Cisco Nexus Switches with neutron</span></a><a class="nav-link" href="part-depl-troubleshooting.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part V </span>Troubleshooting and Support</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2020 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>