<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SUSE OpenStack Cloud 9 | Deployment Guide using Cloud Lifecycle Manager | Other Topics</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Other Topics | SUSE OpenStack Cloud 9"/>
<meta name="description" content="Names are generated by the configuration processor for all allocated IP addresses. A server connected to multiple networks will have multiple names a…"/>
<meta name="product-name" content="SUSE OpenStack Cloud"/>
<meta name="product-number" content="9"/>
<meta name="book-title" content="Deployment Guide using Cloud Lifecycle Manager"/>
<meta name="chapter-title" content="Chapter 7. Other Topics"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9"/>
<meta property="og:title" content="Other Topics | SUSE OpenStack Cloud 9"/>
<meta property="og:description" content="Names are generated by the configuration processor for all allocated IP addresses. A server connected to multiple networks will have multiple names a…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Other Topics | SUSE OpenStack Cloud 9"/>
<meta name="twitter:description" content="Names are generated by the configuration processor for all allocated IP addresses. A server connected to multiple networks will have multiple names a…"/>
<link rel="prev" href="configurationobjects.html" title="Chapter 6. Configuration Objects"/><link rel="next" href="cpinfofiles.html" title="Chapter 8. Configuration Processor Information Files"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-othertopics.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Deployment Guide using Cloud Lifecycle Manager</a><span> / </span><a class="crumb" href="architecture.html">Cloud Lifecycle Manager Overview</a><span> / </span><a class="crumb" href="othertopics.html">Other Topics</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title"><em class="citetitle">Deployment Guide using Cloud Lifecycle Manager</em></div><ol><li><a href="planning-index.html" class="has-children "><span class="title-number">I </span><span class="title-name">Planning an Installation using Cloud Lifecycle Manager</span></a><ol><li><a href="register-suse-overview.html" class=" "><span class="title-number">1 </span><span class="title-name">Registering SLES</span></a></li><li><a href="min-hardware.html" class=" "><span class="title-number">2 </span><span class="title-name">Hardware and Software Support Matrix</span></a></li><li><a href="idg-planning-planning-recommended-hardware-minimums-xml-1.html" class=" "><span class="title-number">3 </span><span class="title-name">Recommended Hardware Minimums for the Example Configurations</span></a></li><li><a href="HP3-0HA.html" class=" "><span class="title-number">4 </span><span class="title-name">High Availability</span></a></li></ol></li><li class="active"><a href="architecture.html" class="has-children you-are-here"><span class="title-number">II </span><span class="title-name">Cloud Lifecycle Manager Overview</span></a><ol><li><a href="cha-input-model-intro-concept.html" class=" "><span class="title-number">5 </span><span class="title-name">Input Model</span></a></li><li><a href="configurationobjects.html" class=" "><span class="title-number">6 </span><span class="title-name">Configuration Objects</span></a></li><li><a href="othertopics.html" class=" you-are-here"><span class="title-number">7 </span><span class="title-name">Other Topics</span></a></li><li><a href="cpinfofiles.html" class=" "><span class="title-number">8 </span><span class="title-name">Configuration Processor Information Files</span></a></li><li><a href="example-configurations.html" class=" "><span class="title-number">9 </span><span class="title-name">Example Configurations</span></a></li><li><a href="modify-compute-input-model.html" class=" "><span class="title-number">10 </span><span class="title-name">Modifying Example Configurations for Compute Nodes</span></a></li><li><a href="modify-input-model.html" class=" "><span class="title-number">11 </span><span class="title-name">Modifying Example Configurations for Object Storage using Swift</span></a></li><li><a href="alternative-configurations.html" class=" "><span class="title-number">12 </span><span class="title-name">Alternative Configurations</span></a></li></ol></li><li><a href="preinstall.html" class="has-children "><span class="title-number">III </span><span class="title-name">Pre-Installation</span></a><ol><li><a href="preinstall-overview.html" class=" "><span class="title-number">13 </span><span class="title-name">Overview</span></a></li><li><a href="preinstall-checklist.html" class=" "><span class="title-number">14 </span><span class="title-name">Pre-Installation Checklist</span></a></li><li><a href="cha-depl-dep-inst.html" class=" "><span class="title-number">15 </span><span class="title-name">Installing the Cloud Lifecycle Manager server</span></a></li><li><a href="app-deploy-smt-lcm.html" class=" "><span class="title-number">16 </span><span class="title-name">Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)</span></a></li><li><a href="cha-depl-repo-conf-lcm.html" class=" "><span class="title-number">17 </span><span class="title-name">Software Repository Setup</span></a></li><li><a href="multipath-boot-from-san.html" class=" "><span class="title-number">18 </span><span class="title-name">Boot from SAN and Multipath Configuration</span></a></li></ol></li><li><a href="cloudinstallation.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Cloud Installation</span></a><ol><li><a href="cloudinstallation-overview.html" class=" "><span class="title-number">19 </span><span class="title-name">Overview</span></a></li><li><a href="preparing-standalone.html" class=" "><span class="title-number">20 </span><span class="title-name">Preparing for Stand-Alone Deployment</span></a></li><li><a href="install-gui.html" class=" "><span class="title-number">21 </span><span class="title-name">Installing with the Install UI</span></a></li><li><a href="using-git.html" class=" "><span class="title-number">22 </span><span class="title-name">Using Git for Configuration Management</span></a></li><li><a href="install-standalone.html" class=" "><span class="title-number">23 </span><span class="title-name">Installing a Stand-Alone Cloud Lifecycle Manager</span></a></li><li><a href="install-kvm.html" class=" "><span class="title-number">24 </span><span class="title-name">Installing Mid-scale and Entry-scale KVM</span></a></li><li><a href="DesignateInstallOverview.html" class=" "><span class="title-number">25 </span><span class="title-name">DNS Service Installation Overview</span></a></li><li><a href="MagnumOverview.html" class=" "><span class="title-number">26 </span><span class="title-name">Magnum Overview</span></a></li><li><a href="install-esx-ovsvapp.html" class=" "><span class="title-number">27 </span><span class="title-name">Installing ESX Computes and OVSvAPP</span></a></li><li><a href="integrate-nsx-vsphere.html" class=" "><span class="title-number">28 </span><span class="title-name">Integrating NSX for vSphere</span></a></li><li><a href="install-ironic-overview.html" class=" "><span class="title-number">29 </span><span class="title-name">Installing Baremetal (Ironic)</span></a></li><li><a href="install-swift.html" class=" "><span class="title-number">30 </span><span class="title-name">Installation for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Entry-scale Cloud with Swift Only</span></a></li><li><a href="install-sles-compute.html" class=" "><span class="title-number">31 </span><span class="title-name">Installing SLES Compute</span></a></li><li><a href="install-ardana-manila.html" class=" "><span class="title-number">32 </span><span class="title-name">Installing manila and Creating manila Shares</span></a></li><li><a href="install-heat-templates.html" class=" "><span class="title-number">33 </span><span class="title-name">Installing SUSE CaaS Platform heat Templates</span></a></li><li><a href="install-caasp-terraform.html" class=" "><span class="title-number">34 </span><span class="title-name">Installing SUSE CaaS Platform v4 using terraform</span></a></li><li><a href="integrations.html" class=" "><span class="title-number">35 </span><span class="title-name">Integrations</span></a></li><li><a href="troubleshooting-installation.html" class=" "><span class="title-number">36 </span><span class="title-name">Troubleshooting the Installation</span></a></li><li><a href="esx-troubleshooting-installation.html" class=" "><span class="title-number">37 </span><span class="title-name">Troubleshooting the ESX</span></a></li></ol></li><li><a href="post-install.html" class="has-children "><span class="title-number">V </span><span class="title-name">Post-Installation</span></a><ol><li><a href="cloud-verification.html" class=" "><span class="title-number">38 </span><span class="title-name">Post Installation Tasks</span></a></li><li><a href="ui-verification.html" class=" "><span class="title-number">39 </span><span class="title-name">UI Verification</span></a></li><li><a href="install-openstack-clients.html" class=" "><span class="title-number">40 </span><span class="title-name">Installing OpenStack Clients</span></a></li><li><a href="tls30.html" class=" "><span class="title-number">41 </span><span class="title-name">Configuring Transport Layer Security (TLS)</span></a></li><li><a href="config-availability-zones.html" class=" "><span class="title-number">42 </span><span class="title-name">Configuring Availability Zones</span></a></li><li><a href="OctaviaInstall.html" class=" "><span class="title-number">43 </span><span class="title-name">Configuring Load Balancer as a Service</span></a></li><li><a href="postinstall-checklist.html" class=" "><span class="title-number">44 </span><span class="title-name">Other Common Post-Installation Tasks</span></a></li></ol></li><li><a href="cha-inst-trouble.html" class="has-children "><span class="title-number">VI </span><span class="title-name">Support</span></a><ol><li><a href="sec-depl-trouble-faq.html" class=" "><span class="title-number">45 </span><span class="title-name">FAQ</span></a></li><li><a href="sec-installation-trouble-support.html" class=" "><span class="title-number">46 </span><span class="title-name">Support</span></a></li><li><a href="inst-support-ptf.html" class=" "><span class="title-number">47 </span><span class="title-name">
    Applying PTFs (Program Temporary Fixes) Provided by SUSE L3 Support
   </span></a></li><li><a href="inst-support-ptf-test.html" class=" "><span class="title-number">48 </span><span class="title-name">
    Testing PTFs (Program Temporary Fixes) on a Single Node
   </span></a></li></ol></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="othertopics" data-id-title="Other Topics"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber">9</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">7 </span><span class="title-name">Other Topics</span></span> <a title="Permalink" class="permalink" href="othertopics.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-othertopics.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect1" id="services-components" data-id-title="Services and Service Components"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.1 </span><span class="title-name">Services and Service Components</span></span> <a title="Permalink" class="permalink" href="othertopics.html#services-components">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-services_components.xml" title="Edit source document"> </a></div></div></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Type</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Service</th><th style="border-bottom: 1px solid ; ">Service Components</th></tr></thead><tbody><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Compute</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Virtual Machine Provisioning</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">nova</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">nova-api
nova-compute
nova-compute-hyperv
nova-compute-ironic
nova-compute-kvm
nova-conductor
nova-console-auth
nova-esx-compute-proxy
nova-metadata
nova-novncproxy
nova-scheduler
nova-scheduler-ironic
nova-placement-api</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Bare Metal Provisioning</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ironic</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">ironic-api
ironic-conductor</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Networking</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Networking</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">neutron</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">infoblox-ipam-agent
neutron-dhcp-agent
neutron-l2gateway-agent
neutron-l3-agent
neutron-metadata-agent
neutron-ml2-plugin
neutron-openvswitch-agent
neutron-ovsvapp-agent
neutron-server
neutron-sriov-nic-agent
neutron-vpn-agent</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Network Load Balancer</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">octavia</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">octavia-api
octavia-health-manager</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Domain Name Service (DNS)</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">designate</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">designate-api
designate-central
designate-mdns
designate-mdns-external
designate-pool-manager
designate-zone-manager</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Storage</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Block Storage</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">cinder</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">cinder-api
cinder-backup
cinder-scheduler
cinder-volume</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Object Storage</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">swift</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">swift-account
swift-common
swift-container
swift-object
swift-proxy
swift-ring-builder
swift-rsync</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Image</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Image Management</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">glance</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">glance-api
glance-registry</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Security</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key Management</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">barbican</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">barbican-api
barbican-worker</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Identity and Authentication</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">keystone</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">keystone-api</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Orchestration</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Orchestration</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">heat</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">heat-api
heat-api-cfn
heat-api-cloudwatch
heat-engine</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Operations</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Telemetry</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ceilometer</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">ceilometer-agent-notification
ceilometer-common
ceilometer-polling</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Cloud Lifecycle Manager</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ardana</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">ardana-ux-services
lifecycle-manager
lifecycle-manager-target</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Dashboard</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">horizon</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">horizon</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Centralized Logging</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">logging</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">logging-api
logging-producer
logging-rotate
logging-server</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Monitoring</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">monasca</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">monasca-agent
monasca-api
monasca-dashboard
monasca-liveness-check
monasca-notifier
monasca-persister
monasca-threshold
monasca-transform</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Operations Console</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">operations</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">ops-console-web</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Openstack Functional Test Suite</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">tempest</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">tempest</pre></div>
     </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3"><span class="bold"><strong>Foundation</strong></span></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">OpenStack Clients</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">clients</td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen">barbican-client
cinder-client
designate-client
glance-client
heat-client
ironic-client
keystone-client
monasca-client
neutron-client
nova-client
openstack-client
swift-client</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; ">Supporting Services</td><td style="border-right: 1px solid ; ">foundation</td><td>
<div class="verbatim-wrap"><pre class="screen">apache2
bind
bind-ext
influxdb
ip-cluster
kafka
memcached
mysql
ntp-client
ntp-server
openvswitch
rabbitmq
spark
storm
cassandra
zookeeper</pre></div>
     </td></tr></tbody></table></div></section><section class="sect1" id="namegeneration" data-id-title="Name Generation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.2 </span><span class="title-name">Name Generation</span></span> <a title="Permalink" class="permalink" href="othertopics.html#namegeneration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-namegeneration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Names are generated by the configuration processor for all allocated IP
  addresses. A server connected to multiple networks will have multiple names
  associated with it. One of these may be assigned as the hostname for a server
  via the network-group configuration (see
  <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>). Names are generated from data taken
  from various parts of the input model as described in the following sections.
 </p><div class="sect4 bridgehead"><h5 class="title" id="id-1.3.4.5.3.3"><span class="name">Clusters</span><a title="Permalink" class="permalink" href="othertopics.html#id-1.3.4.5.3.3">#</a></h5></div><p>
  Names generated for servers in a cluster have the following form:
 </p><div class="verbatim-wrap"><pre class="screen"><em class="replaceable">CLOUD</em>-<em class="replaceable">CONTROL-PLANE</em>-<em class="replaceable">CLUSTER</em><em class="replaceable">MEMBER-PREFIX</em><em class="replaceable">MEMBER_ID</em>-<em class="replaceable">NETWORK</em></pre></div><p>
  Example: <code class="literal">ardana-cp1-core-m1-mgmt</code>
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Name</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">CLOUD</em></td><td style="border-bottom: 1px solid ; ">
      Comes from the hostname-data section of the
      <span class="guimenu">cloud</span> object (see
      <a class="xref" href="configurationobjects.html#configobj-cloud" title="6.1. Cloud Configuration">Section 6.1, “Cloud Configuration”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">CONTROL-PLANE</em></td><td style="border-bottom: 1px solid ; ">
      is the <span class="guimenu">control-plane</span> prefix or name (see
      <a class="xref" href="configurationobjects.html#configobj-controlplane" title="6.2. Control Plane">Section 6.2, “Control Plane”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">CLUSTER</em></td><td style="border-bottom: 1px solid ; ">
      is the <span class="guimenu">cluster-prefix</span> name (see
      <a class="xref" href="configurationobjects.html#configobj-clusters" title="6.2.1.  Clusters">Section 6.2.1, “
  Clusters”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">member-prefix</em></td><td style="border-bottom: 1px solid ; ">
      comes from the hostname-data section of the
      <span class="guimenu">cloud</span> object (see
      <a class="xref" href="configurationobjects.html#configobj-cloud" title="6.1. Cloud Configuration">Section 6.1, “Cloud Configuration”</a>)
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">member_id</em></td><td style="border-bottom: 1px solid ; ">
      is the ordinal within the cluster, generated by the configuration
      processor as servers are allocated to the cluster</td></tr><tr><td style="border-right: 1px solid ; "><em class="replaceable">network</em></td><td>
      comes from the <span class="guimenu">hostname-suffix</span> of the network group
      to which the network belongs (see
      <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>).
     </td></tr></tbody></table></div><div class="sect4 bridgehead"><h5 class="title" id="id-1.3.4.5.3.8"><span class="name">Resource Nodes</span><a title="Permalink" class="permalink" href="othertopics.html#id-1.3.4.5.3.8">#</a></h5></div><p>
  Names generated for servers in a resource group have the following form:
 </p><div class="verbatim-wrap"><pre class="screen"><em class="replaceable">CLOUD</em>-<em class="replaceable">CONTROL-PLANE</em>-<em class="replaceable">RESOURCE-PREFIX</em><em class="replaceable">MEMBER_ID</em>-<em class="replaceable">NETWORK</em></pre></div><p>
  Example: <code class="literal">ardana-cp1-comp0001-mgmt</code>
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Name</th><th style="border-bottom: 1px solid ; ">Description</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">CLOUD</em></td><td style="border-bottom: 1px solid ; ">
      comes from the hostname-data section of the
      <span class="guimenu">cloud</span> object (see
      <a class="xref" href="configurationobjects.html#configobj-cloud" title="6.1. Cloud Configuration">Section 6.1, “Cloud Configuration”</a>).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">CONTROL-PLANE</em></td><td style="border-bottom: 1px solid ; ">
      is the <span class="guimenu">control-plane</span> prefix or name (see
      <a class="xref" href="configurationobjects.html#configobj-controlplane" title="6.2. Control Plane">Section 6.2, “Control Plane”</a>).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">RESOURCE-PREFIX</em></td><td style="border-bottom: 1px solid ; ">
      is the <span class="guimenu">resource-prefix</span> value name (see
      <a class="xref" href="configurationobjects.html#configobj-resources" title="6.2.2. Resources">Section 6.2.2, “Resources”</a>).
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><em class="replaceable">MEMBER_ID</em></td><td style="border-bottom: 1px solid ; ">
      is the ordinal within the cluster, generated by the configuration
      processor as servers are allocated to the cluster, padded with leading
      zeroes to four digits.
     </td></tr><tr><td style="border-right: 1px solid ; "><em class="replaceable">NETWORK</em></td><td>
      comes from the <span class="guimenu">hostname-suffix</span> of the network group
      to which the network belongs to (see
      <a class="xref" href="configurationobjects.html#configobj-nicmappings" title="6.12. NIC Mappings">Section 6.12, “NIC Mappings”</a>)
     </td></tr></tbody></table></div></section><section class="sect1" id="persisteddata" data-id-title="Persisted Data"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.3 </span><span class="title-name">Persisted Data</span></span> <a title="Permalink" class="permalink" href="othertopics.html#persisteddata">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-persisteddata.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The configuration processor makes allocation decisions on servers and IP
  addresses which it needs to remember between successive runs so that if new
  servers are added to the input model they do not disrupt the previously
  deployed allocations.
 </p><p>
  To allow users to make multiple iterations of the input model before
  deployment <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> will only persist data when the administrator confirms
  that they are about to deploy the results via the "ready-deployment"
  operation. To understand this better, consider the following example:
 </p><p>
  Imagine you have completed your <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> deployment with servers A, B, and C
  and you want to add two new compute nodes by adding servers D and E to the
  input model.
 </p><p>
  When you add these to the input model and re-run the configuration processor
  it will read the persisted data for A, B, and C and allocate D and E as new
  servers. The configuration processor now has allocation data for A, B, C, D,
  and E -- which it keeps in a staging area (actually a special branch in Git)
  until we get confirmation that the configuration processor has done what you
  intended and you are ready to deploy the revised configuration.
 </p><p>
  If you notice that the role of E is wrong and it became a swift node instead
  of a nova node you need to be able to change the input model and re-run the
  configuration processor. This is fine because the allocations of D and E have
  not been confirmed, and so the configuration processor will re-read the data
  about A, B, C and re-allocate D and E now to the correct clusters, updating
  the persisted data in the staging area.
 </p><p>
  You can loop though this as many times as needed. Each time, the
  configuration processor is processing the deltas to what is deployed, not the
  results of the previous run. When you are ready to use the results of the
  configuration processor, you run <code class="literal">ready-deployment.yml</code>
  which commits the data in the staging area into the persisted data. The next
  run of the configuration processor will then start from the persisted data
  for A, B, C, D, and E.
 </p><section class="sect2" id="persistedserverallocations" data-id-title="Persisted Server Allocations"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">7.3.1 </span><span class="title-name">Persisted Server Allocations</span></span> <a title="Permalink" class="permalink" href="othertopics.html#persistedserverallocations">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-persisteddata.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Server allocations are persisted by the administrator-defined server ID (see
   <a class="xref" href="configurationobjects.html#configobj-servers" title="6.5. Servers">Section 6.5, “Servers”</a>), and include the
   control plane, cluster/resource name, and ordinal within the cluster or
   resource group.
  </p><p>
   To guard against data loss, the configuration processor persists server
   allocations even when the server ID no longer exists in the input model --
   for example, if a server was removed accidentally and the configuration
   processor allocated a new server to the same ordinal, then it would be very
   difficult to recover from that situation.
  </p><p>
   The following example illustrates the behavior:
  </p><p>
   A cloud is deployed with four servers with IDs of A, B, C, and D that can
   all be used in a resource group with <code class="literal">min-size=0</code> and
   <code class="literal">max-size=3</code>. At the end of this deployment they persisted
   state is as follows:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="c6"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Control Plane</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Resource Group</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Ordinal</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">State</th><th style="border-bottom: 1px solid ; ">Deployed As</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">1</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0001</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">B</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">2</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0002</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">C</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">3</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0003</td></tr><tr><td style="border-right: 1px solid ; ">D</td><td style="border-right: 1px solid ; "> </td><td style="border-right: 1px solid ; "> </td><td style="border-right: 1px solid ; "> </td><td style="border-right: 1px solid ; ">Available</td><td> </td></tr></tbody></table></div><p>
   (In this example server D has not been allocated because the group is at its
   max size, and there are no other groups that required this server)
  </p><p>
   If server B is removed from the input model and the configuration processor
   is re-run, the state is changed to:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="c6"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Control Plane</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Resource Group</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Ordinal</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">State</th><th style="border-bottom: 1px solid ; ">Deployed As</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">1</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0001</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">B</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">2</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Deleted</td><td style="border-bottom: 1px solid ; "> </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">C</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">3</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0003</td></tr><tr><td style="border-right: 1px solid ; ">D</td><td style="border-right: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; ">compute</td><td style="border-right: 1px solid ; ">4</td><td style="border-right: 1px solid ; ">Allocated</td><td>mycloud-ccp-comp0004</td></tr></tbody></table></div><p>
   The details associated with server B are still retained, but the
   configuration processor will not generate any deployment data for this
   server. Server D has been added to the group to meet the minimum size
   requirement but has been given a different ordinal and hence will get
   different names and IP addresses than were given to server B.
  </p><p>
   If server B is added back into the input model the resulting state will be:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="c1"/><col class="c2"/><col class="c3"/><col class="c4"/><col class="c5"/><col class="c6"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Control Plane</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Resource Group</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Ordinal</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">State</th><th style="border-bottom: 1px solid ; ">Deployed As</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">A</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">1</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0001</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">B</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">2</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Deleted</td><td style="border-bottom: 1px solid ; "> </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">C</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">compute</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">3</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Allocated</td><td style="border-bottom: 1px solid ; ">mycloud-ccp-comp0003</td></tr><tr><td style="border-right: 1px solid ; ">D</td><td style="border-right: 1px solid ; ">ccp</td><td style="border-right: 1px solid ; ">compute</td><td style="border-right: 1px solid ; ">4</td><td style="border-right: 1px solid ; ">Allocated</td><td>mycloud-ccp-comp0004</td></tr></tbody></table></div><p>
   The configuration processor will issue a warning that server B cannot be
   returned to the compute group because it would exceed the max-size
   constraint. However, because the configuration processor knows that server B
   is associated with this group it will not allocate it to any other group that
   could use it, since that might lead to data loss on that server.
  </p><p>
   If the max-size value of the group was increased, then server B would be
   allocated back to the group, with its previous name and addresses
   (<code class="literal">mycloud-cp1-compute0002</code>).
  </p><p>
   Note that the configuration processor relies on the server ID to identify a
   physical server. If the ID value of a server is changed the configuration
   processor will treat it as a new server. Conversely, if a different physical
   server is added with the same ID as a deleted server the configuration
   processor will assume that it is the original server being returned to the
   model.
  </p><p>
   You can force the removal of persisted data for servers that are no longer
   in the input model by running the configuration processor with the
   <code class="literal">remove_deleted_servers</code> option, like below:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml \
-e remove_deleted_servers="y"</pre></div></section><section class="sect2" id="persistedaddressallocations" data-id-title="Persisted Address Allocations"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">7.3.2 </span><span class="title-name">Persisted Address Allocations</span></span> <a title="Permalink" class="permalink" href="othertopics.html#persistedaddressallocations">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-persisteddata.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The configuration processor persists IP address allocations by the generated
   name (see <a class="xref" href="othertopics.html#namegeneration" title="7.2. Name Generation">Section 7.2, “Name Generation”</a> for how names are generated). As
   with servers. once an address has been allocated that address will remain
   allocated until the configuration processor is explicitly told that it is no
   longer required. The configuration processor will generate warnings for
   addresses that are persisted but no longer used.
  </p><p>
   You can remove persisted address allocations that are no longer used in the
   input model by running the configuration processor with the
   <code class="literal">free_unused_addresses</code> option, like below:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml \
-e free_unused_addresses="y"</pre></div></section></section><section class="sect1" id="serverallocation" data-id-title="Server Allocation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.4 </span><span class="title-name">Server Allocation</span></span> <a title="Permalink" class="permalink" href="othertopics.html#serverallocation">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-serverallocation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The configuration processor allocates servers to a cluster or resource group
  in the following sequence:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Any <span class="guimenu">servers</span> that are persisted with a state of
    "allocated" are first returned to the <span class="guimenu">cluster</span> or
    <span class="guimenu">resource group</span>. Such servers are always allocated even
    if this contradicts the cluster size, failure-zones, or list of server
    roles since it is assumed that these servers are actively deployed.
   </p></li><li class="listitem"><p>
    If the <span class="guimenu">cluster</span> or <span class="guimenu">resource group</span> is
    still below its minimum size, then any <span class="guimenu">servers</span> that are
    persisted with a state of "deleted", but where the server is now listed in
    the input model (that is, the server was removed but is now back), are added
    to the group providing they meet the <span class="guimenu">failure-zone</span> and
    <span class="guimenu">server-role</span> criteria. If they do not meet the criteria
    then a warning is given and the <span class="guimenu">server</span> remains in a
    deleted state (that is, it is still not allocated to any other cluster or
    group). These <span class="guimenu">servers</span> are not part of the current
    deployment, and so you must resolve any conflicts before they can be
    redeployed.
   </p></li><li class="listitem"><p>
    If the <span class="guimenu">cluster</span> or <span class="guimenu">resource group</span> is
    still below its minimum size, the configuration processor will allocate
    additional <span class="guimenu">servers</span> that meet the
    <span class="guimenu">failure-zone</span> and <span class="guimenu">server-role</span>
    criteria. If the allocation policy is set to "strict" then the failure
    zones of servers already in the cluster or resource group are not
    considered until an equal number of servers has been allocated from each
    zone.
   </p></li></ol></div></section><section class="sect1" id="servernetworkselection" data-id-title="Server Network Selection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.5 </span><span class="title-name">Server Network Selection</span></span> <a title="Permalink" class="permalink" href="othertopics.html#servernetworkselection">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-servernetworkselection.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Once the configuration processor has allocated a <span class="guimenu">server</span> to
  a <span class="guimenu">cluster</span> or <span class="guimenu">resource group</span> it uses the
  information in the associated <span class="guimenu">interface-model</span> to determine
  which <span class="guimenu">networks</span> need to be configured. It does this by:
 </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Looking at the <span class="guimenu">service-components</span> that are to run on the
    server (from the <span class="guimenu">control-plane</span> definition)
   </p></li><li class="step"><p>
    Looking to see which <span class="guimenu">network-group</span> each of those
    components is attached to (from the <span class="guimenu">network-groups</span>
    definition)
   </p></li><li class="step"><p>
    Looking to see if there are any <span class="guimenu">network-tags</span> related to
    a <span class="guimenu">service-component</span> running on this server, and if so,
    adding those <span class="guimenu">network-groups</span> to the list (also from the
    <span class="guimenu">network-groups</span> definition)
   </p></li><li class="step"><p>
    Looking to see if there are any <span class="guimenu">network-groups</span> that the
    <span class="guimenu">interface-model</span> says should be forced onto the server
   </p></li><li class="step"><p>
    It then searches the <span class="guimenu">server-group</span> hierarchy (as
    described in <a class="xref" href="cha-input-model-intro-concept.html#concept-servergroups-networks" title="5.2.9.2. Server Groups and Networks">Section 5.2.9.2, “Server Groups and Networks”</a>) to find a
    <span class="guimenu">network</span> in each of the <span class="guimenu">network-groups</span>
    it needs to attach to
   </p></li></ol></div></div><p>
  If there is no <span class="guimenu">network</span> available to a server, either
  because the <span class="guimenu">interface-model</span> does not include the required
  <span class="guimenu">network-group</span>, or there is no <span class="guimenu">network</span>
  from that group in the appropriate part of the
  <span class="guimenu">server-groups</span> hierarchy, then the configuration processor
  will generate an error.
 </p><p>
  The configuration processor will also generate an error if the
  <span class="guimenu">server</span> address does not match any of the networks it will
  be connected to.
 </p></section><section class="sect1" id="networkroutevalidation" data-id-title="Network Route Validation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.6 </span><span class="title-name">Network Route Validation</span></span> <a title="Permalink" class="permalink" href="othertopics.html#networkroutevalidation">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-networkroutevalidation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Once the configuration processor has allocated all of the required
  <span class="guimenu">servers</span> and matched them to the appropriate
  <span class="guimenu">networks</span>, it validates that all
  <span class="guimenu">service-components</span> have the required network routes to
  other <span class="guimenu">service-components</span>.
 </p><p>
  It does this by using the data in the services section of the input model
  which provides details of which <span class="guimenu">service-components</span> need to
  connect to each other. This data is not configurable by the administrator;
  however, it is provided as part of the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> release.
 </p><p>
  For each <span class="guimenu">server</span>, the configuration processor looks at the
  list of <span class="guimenu">service-components</span> it runs and determines the
  network addresses of every other <span class="guimenu">service-component</span> it
  needs to connect to (depending on the service, this might be a virtual IP
  address on a load balancer or a set of addresses for the service).
 </p><p>
  If the target address is on a <span class="guimenu">network</span> that this
  <span class="guimenu">server</span> is connected to, then there is no routing required.
  If the target address is on a different <span class="guimenu">network</span>, then the
  Configuration Processor looks at each <span class="guimenu">network</span> the server
  is connected to and looks at the routes defined in the corresponding
  <span class="guimenu">network-group</span>. If the <span class="guimenu">network-group</span>
  provides a route to the <span class="guimenu">network-group</span> of the target
  address, then that route is considered valid.
 </p><p>
  <span class="guimenu">Networks</span> within the same <span class="guimenu">network-group</span>
  are always considered as routed to each other; <span class="guimenu">networks</span>
  from different <span class="guimenu">network-groups</span> must have an explicit entry
  in the <code class="literal">routes</code> stanza of the
  <span class="guimenu">network-group</span> definition. Routes to a named
  <span class="guimenu">network-group</span> are always considered before a "default"
  route.
 </p><p>
  A warning is given for any routes which are using the "default" route since
  it is possible that the user did not intend to route this traffic. Such
  warning can be removed by adding the appropriate
  <span class="guimenu">network-group</span> to the list of routes.
 </p><p>
  The configuration processor provides details of all routes between networks
  that it is expecting to be configured in the
  <code class="literal">info/route_info.yml</code> file.
 </p><p>
  To illustrate how network routing is defined in the input model, consider the
  following example:
 </p><p>
  A compute server is configured to run <code class="literal">nova-compute</code> which requires access to
  the neutron API servers and a block storage service. The neutron API
  servers have a virtual IP address provided by a load balancer in the
  INTERNAL-API network-group and the storage service is connected to the ISCSI
  network-group. <code class="literal">nova-compute</code> itself is part of the set of components attached
  by default to the MANAGEMENT network-group. The intention is to have virtual
  machines on the compute server connect to the block storage via the ISCSI
  network.
 </p><p>
  The physical network is shown below:
 </p><div class="informalfigure"><div class="mediaobject"><a href="images/media-inputmodel-hphelionopenstack_networkroutevalidation.png"><img src="images/media-inputmodel-hphelionopenstack_networkroutevalidation.png" alt="Image" title="Image"/></a></div></div><p>
  The corresponding entries in the <span class="guimenu">network-groups</span> are:
 </p><div class="verbatim-wrap"><pre class="screen">  - name: INTERNAL-API
    hostname-suffix: intapi

    load-balancers:
       - provider: ip-cluster
         name: lb
         components:
           - default
         roles:
           - internal
           - admin

       - name: MANAGEMENT
         hostname-suffix: mgmt
         hostname: true

         component-endpoints:
           - default

         routes:
           - INTERNAL-API
           - default

       - name: ISCSI
         hostname-suffix: iscsi

         component-endpoints:
            - storage service</pre></div><p>
  And the <span class="guimenu">interface-model</span> for the compute server looks like
  this:
 </p><div class="verbatim-wrap"><pre class="screen">  - name: INTERFACE_SET_COMPUTE
    network-interfaces:
      - name: BOND0
        device:
           name: bond0
        bond-data:
           options:
              mode: active-backup
              miimon: 200
              primary: hed5
           provider: linux
           devices:
              - name: hed4
              - name: hed5
        network-groups:
          - MANAGEMENT
          - ISCSI</pre></div><p>
  When validating the route from <code class="literal">nova-compute</code> to the neutron API, the
  configuration processor will detect that the target address is on a network
  in the INTERNAL-API network group, and that the MANAGEMENT network (which is
  connected to the compute server) provides a route to this network, and thus
  considers this route valid.
 </p><p>
  When validating the route from <code class="literal">nova-compute</code> to a storage service, the
  configuration processor will detect that the target address is on a network
  in the ISCSInetwork group. However, because there is no service component on
  the compute server connected to the ISCSI network (according to the
  network-group definition) the ISCSI network will not have been configured on
  the compute server (see <a class="xref" href="othertopics.html#servernetworkselection" title="7.5. Server Network Selection">Section 7.5, “Server Network Selection”</a>. The
  configuration processor will detect that the MANAGEMENT network-group provides
  a "default" route and thus considers the route as valid (it is, of course,
  valid to route ISCSI traffic). However, because this is using the default
  route, a warning will be issued:
 </p><div class="verbatim-wrap"><pre class="screen">#   route-generator-2.0       WRN: Default routing used between networks
The following networks are using a 'default' route rule. To remove this warning
either add an explicit route in the source network group or force the network to
attach in the interface model used by the servers.
  MANAGEMENT-NET-RACK1 to ISCSI-NET
    ardana-ccp-comp0001
  MANAGEMENT-NET-RACK 2 to ISCSI-NET
    ardana-ccp-comp0002
  MANAGEMENT-NET-RACK 3 to SCSI-NET
    ardana-ccp-comp0003</pre></div><p>
  To remove this warning, you can either add ISCSI to the list of routes in the
  MANAGEMENT network group (routed ISCSI traffic is still a valid
  configuration) or force the compute server to attach to the ISCSI
  network-group by adding it as a forced-network-group in the interface-model,
  like this:
 </p><div class="verbatim-wrap"><pre class="screen">  - name: INTERFACE_SET_COMPUTE
      network-interfaces:
        - name: BOND0
          device:
            name: bond0
          bond-data:
            options:
               mode: active-backup
               miimon: 200
               primary: hed5
            provider: linux
            devices:
               - name: hed4
               - name: hed5
          network-groups:
             - MANAGEMENT
          forced-network-groups:
             - ISCSI</pre></div><p>
  With the attachment to the ISCSI network group forced, the configuration
  processor will attach the compute server to a network in that group and
  validate the route as either being direct or between networks in the same
  network-group.
 </p><p>
  The generated <code class="literal">route_info.yml</code> file will include entries
  such as the following, showing the routes that are still expected to be
  configured between networks in the MANAGEMENT network group and the
  INTERNAL-API network group.
 </p><div class="verbatim-wrap"><pre class="screen">  MANAGEMENT-NET-RACK1:
     INTERNAL-API-NET:
        default: false
        used_by:
           nova-compute:
              neutron-server:
              - ardana-ccp-comp0001
   MANAGEMENT-NET-RACK2:
     INTERNAL-API-NET:
        default: false
        used_by:
          nova-compute:
            neutron-server:
            - ardana-ccp-comp0003</pre></div></section><section class="sect1" id="configneutronprovidervlans" data-id-title="Configuring neutron Provider VLANs"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.7 </span><span class="title-name">Configuring neutron Provider VLANs</span></span> <a title="Permalink" class="permalink" href="othertopics.html#configneutronprovidervlans">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-configneutronprovidervlans.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  neutron provider VLANs are networks that map directly to an 802.1Q VLAN in
  the cloud provider’s physical network infrastructure. There are four
  aspects to a provider VLAN configuration:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Network infrastructure configuration (for example, the top-of-rack switch)
   </p></li><li class="listitem"><p>
    Server networking configuration (for compute nodes and neutron network
    nodes)
   </p></li><li class="listitem"><p>
    neutron configuration file settings
   </p></li><li class="listitem"><p>
    Creation of the corresponding network objects in neutron
   </p></li></ul></div><p>
  The physical network infrastructure must be configured to convey the provider
  VLAN traffic as tagged VLANs to the cloud compute nodes and neutron network
  nodes. Configuration of the physical network infrastructure is outside the
  scope of the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> 9 software.
 </p><p>
  <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> 9 automates the server networking configuration and the neutron
  configuration based on information in the cloud definition. To configure the
  system for provider VLANs, specify the
  <code class="literal">neutron.networks.vlan</code> tag with a
  <code class="literal">provider-physical-network</code> attribute on one or more
  <span class="guimenu">network-groups</span> as described in
  <a class="xref" href="configurationobjects.html#configobj-networktags" title="6.13.2. Network Tags">Section 6.13.2, “Network Tags”</a>. For example (some
  attributes omitted for brevity):
 </p><div class="verbatim-wrap"><pre class="screen">  network-groups:

    - name: NET_GROUP_A
      tags:
        - neutron.networks.vlan:
              provider-physical-network: physnet1

    - name: NET_GROUP_B
      tags:
        - neutron.networks.vlan:
              provider-physical-network: physnet2</pre></div><p>
  A <span class="guimenu">network-group</span> is associated with a server network
  interface via an <span class="guimenu">interface-model</span> as described in
  <a class="xref" href="configurationobjects.html#configobj-interfacemodels" title="6.11. Interface Models">Section 6.11, “Interface Models”</a>. For example (some
  attributes omitted for brevity):
 </p><div class="verbatim-wrap"><pre class="screen">  interface-models:
     - name: INTERFACE_SET_X
       network-interfaces:
        - device:
              name: bond0
          network-groups:
            - NET_GROUP_A
        - device:
              name: hed3
          network-groups:
            - NET_GROUP_B</pre></div><p>
  A <span class="guimenu">network-group</span> used for provider VLANs may contain only a
  single <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="guimenu">network</span>, because that VLAN must span all
  compute nodes and any neutron network nodes/controllers (that is, it is a single
  L2 segment). The <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> <span class="guimenu">network</span> must be defined with
  <code class="literal">tagged-vlan: false</code>, otherwise a Linux VLAN network
  interface will be created. For example:
 </p><div class="verbatim-wrap"><pre class="screen">  networks:
     - name: NET_A
       tagged-vlan: false
       network-group: NET_GROUP_A
     - name: NET_B
       tagged-vlan: false
       network-group: NET_GROUP_B</pre></div><p>
  When the cloud is deployed, <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> 9 will create the appropriate
  bridges on the servers, and set the appropriate attributes in the neutron
  configuration files (for example, bridge_mappings).
 </p><p>
  After the cloud has been deployed, create neutron network objects for each
  provider VLAN using the OpenStackClient CLI:
 </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo openstack network create --provider:network_type vlan \
--provider:physical_network <em class="replaceable">PHYSNET1</em> --provider:segmentation_id <em class="replaceable">101</em> <em class="replaceable">MYNET101</em></pre></div><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo openstack network create --provider:network_type vlan \
--provider:physical_network <em class="replaceable">PHYSNET2</em> --provider:segmentation_id <em class="replaceable">234</em> <em class="replaceable">MYNET234</em></pre></div></section><section class="sect1" id="standalonedeployer" data-id-title="Standalone Cloud Lifecycle Manager"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.8 </span><span class="title-name">Standalone Cloud Lifecycle Manager</span></span> <a title="Permalink" class="permalink" href="othertopics.html#standalonedeployer">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/planning-architecture-input_model-other_topics-standalonedeployer.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  All the example configurations use a <span class="quote">“<span class="quote">deployer-in-the-cloud</span>”</span>
  scenario where the first controller is also the deployer/Cloud Lifecycle Manager. If you want
  to use a standalone Cloud Lifecycle Manager, you need to add the relevant details in
  <code class="literal">control_plane.yml</code>, <code class="literal">servers.yml</code> and
  related configuration files. Detailed instructions are available at <a class="xref" href="alternative-configurations.html#standalone-deployer" title="12.1. Using a Dedicated Cloud Lifecycle Manager Node">Section 12.1, “Using a Dedicated Cloud Lifecycle Manager Node”</a>.
 </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="configurationobjects.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 6 </span>Configuration Objects</span></a> </div><div><a class="pagination-link next" href="cpinfofiles.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 8 </span>Configuration Processor Information Files</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="othertopics.html#services-components"><span class="title-number">7.1 </span><span class="title-name">Services and Service Components</span></a></span></li><li><span class="section"><a href="othertopics.html#namegeneration"><span class="title-number">7.2 </span><span class="title-name">Name Generation</span></a></span></li><li><span class="section"><a href="othertopics.html#persisteddata"><span class="title-number">7.3 </span><span class="title-name">Persisted Data</span></a></span></li><li><span class="section"><a href="othertopics.html#serverallocation"><span class="title-number">7.4 </span><span class="title-name">Server Allocation</span></a></span></li><li><span class="section"><a href="othertopics.html#servernetworkselection"><span class="title-number">7.5 </span><span class="title-name">Server Network Selection</span></a></span></li><li><span class="section"><a href="othertopics.html#networkroutevalidation"><span class="title-number">7.6 </span><span class="title-name">Network Route Validation</span></a></span></li><li><span class="section"><a href="othertopics.html#configneutronprovidervlans"><span class="title-number">7.7 </span><span class="title-name">Configuring neutron Provider VLANs</span></a></span></li><li><span class="section"><a href="othertopics.html#standalonedeployer"><span class="title-number">7.8 </span><span class="title-name">Standalone Cloud Lifecycle Manager</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>