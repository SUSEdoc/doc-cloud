<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Installing Mid-scale and Entry-scale KVM | Deployment Guide using Cloud Lifecycle Manager | SUSE OpenStack Cloud 9</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="9" /><meta name="book-title" content="Deployment Guide using Cloud Lifecycle Manager" /><meta name="chapter-title" content="Chapter 24. Installing Mid-scale and Entry-scale KVM" /><meta name="description" content="For information about when to use the GUI installer and when to use the command line (CLI), see Chapter 13, Overview." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9" /><link rel="home" href="index.html" title="Documentation" /><link rel="up" href="cloudinstallation.html" title="Part IV. Cloud Installation" /><link rel="prev" href="install-standalone.html" title="Chapter 23. Installing a Stand-Alone Cloud Lifecycle Manager" /><link rel="next" href="DesignateInstallOverview.html" title="Chapter 25. DNS Service Installation Overview" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Documentation"><span class="book-icon">Documentation</span></a><span> › </span><a class="crumb" href="book-deployment.html">Deployment Guide using Cloud Lifecycle Manager</a><span> › </span><a class="crumb" href="cloudinstallation.html">Cloud Installation</a><span> › </span><a class="crumb" href="install-kvm.html">Installing Mid-scale and Entry-scale KVM</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide using Cloud Lifecycle Manager</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="planning-index.html"><span class="number">I </span><span class="name">Planning an Installation using Cloud Lifecycle Manager</span></a><ol><li class="inactive"><a href="register-suse-overview.html"><span class="number">1 </span><span class="name">Registering SLES</span></a></li><li class="inactive"><a href="min-hardware.html"><span class="number">2 </span><span class="name">Hardware and Software Support Matrix</span></a></li><li class="inactive"><a href="idg-planning-planning-recommended-hardware-minimums-xml-1.html"><span class="number">3 </span><span class="name">Recommended Hardware Minimums for the Example Configurations</span></a></li><li class="inactive"><a href="HP3-0HA.html"><span class="number">4 </span><span class="name">High Availability</span></a></li></ol></li><li class="inactive"><a href="architecture.html"><span class="number">II </span><span class="name">Cloud Lifecycle Manager Overview</span></a><ol><li class="inactive"><a href="cha-input-model-intro-concept.html"><span class="number">5 </span><span class="name">Input Model</span></a></li><li class="inactive"><a href="configurationobjects.html"><span class="number">6 </span><span class="name">Configuration Objects</span></a></li><li class="inactive"><a href="othertopics.html"><span class="number">7 </span><span class="name">Other Topics</span></a></li><li class="inactive"><a href="cpinfofiles.html"><span class="number">8 </span><span class="name">Configuration Processor Information Files</span></a></li><li class="inactive"><a href="example-configurations.html"><span class="number">9 </span><span class="name">Example Configurations</span></a></li><li class="inactive"><a href="modify-compute-input-model.html"><span class="number">10 </span><span class="name">Modifying Example Configurations for Compute Nodes</span></a></li><li class="inactive"><a href="modify-input-model.html"><span class="number">11 </span><span class="name">Modifying Example Configurations for Object Storage using Swift</span></a></li><li class="inactive"><a href="alternative-configurations.html"><span class="number">12 </span><span class="name">Alternative Configurations</span></a></li></ol></li><li class="inactive"><a href="preinstall.html"><span class="number">III </span><span class="name">Pre-Installation</span></a><ol><li class="inactive"><a href="preinstall-overview.html"><span class="number">13 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preinstall-checklist.html"><span class="number">14 </span><span class="name">Pre-Installation Checklist</span></a></li><li class="inactive"><a href="cha-depl-dep-inst.html"><span class="number">15 </span><span class="name">Installing the Cloud Lifecycle Manager server</span></a></li><li class="inactive"><a href="app-deploy-smt-lcm.html"><span class="number">16 </span><span class="name">Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)</span></a></li><li class="inactive"><a href="cha-depl-repo-conf-lcm.html"><span class="number">17 </span><span class="name">Software Repository Setup</span></a></li><li class="inactive"><a href="multipath-boot-from-san.html"><span class="number">18 </span><span class="name">Boot from SAN and Multipath Configuration</span></a></li></ol></li><li class="inactive"><a href="cloudinstallation.html"><span class="number">IV </span><span class="name">Cloud Installation</span></a><ol><li class="inactive"><a href="cloudinstallation-overview.html"><span class="number">19 </span><span class="name">Overview</span></a></li><li class="inactive"><a href="preparing-standalone.html"><span class="number">20 </span><span class="name">Preparing for Stand-Alone Deployment</span></a></li><li class="inactive"><a href="install-gui.html"><span class="number">21 </span><span class="name">Installing with the Install UI</span></a></li><li class="inactive"><a href="using-git.html"><span class="number">22 </span><span class="name">Using Git for Configuration Management</span></a></li><li class="inactive"><a href="install-standalone.html"><span class="number">23 </span><span class="name">Installing a Stand-Alone Cloud Lifecycle Manager</span></a></li><li class="inactive"><a href="install-kvm.html"><span class="number">24 </span><span class="name">Installing Mid-scale and Entry-scale KVM</span></a></li><li class="inactive"><a href="DesignateInstallOverview.html"><span class="number">25 </span><span class="name">DNS Service Installation Overview</span></a></li><li class="inactive"><a href="MagnumOverview.html"><span class="number">26 </span><span class="name">Magnum Overview</span></a></li><li class="inactive"><a href="install-esx-ovsvapp.html"><span class="number">27 </span><span class="name">Installing ESX Computes and OVSvAPP</span></a></li><li class="inactive"><a href="integrate-nsx-vsphere.html"><span class="number">28 </span><span class="name">Integrating NSX for vSphere</span></a></li><li class="inactive"><a href="install-ironic-overview.html"><span class="number">29 </span><span class="name">Installing Baremetal (Ironic)</span></a></li><li class="inactive"><a href="install-swift.html"><span class="number">30 </span><span class="name">Installation for <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Entry-scale Cloud with Swift Only</span></a></li><li class="inactive"><a href="install-sles-compute.html"><span class="number">31 </span><span class="name">Installing SLES Compute</span></a></li><li class="inactive"><a href="install-ardana-manila.html"><span class="number">32 </span><span class="name">Installing manila and Creating manila Shares</span></a></li><li class="inactive"><a href="install-heat-templates.html"><span class="number">33 </span><span class="name">Installing SUSE CaaS Platform heat Templates</span></a></li><li class="inactive"><a href="install-caasp-terraform.html"><span class="number">34 </span><span class="name">Installing SUSE CaaS Platform v4 using terraform</span></a></li><li class="inactive"><a href="integrations.html"><span class="number">35 </span><span class="name">Integrations</span></a></li><li class="inactive"><a href="troubleshooting-installation.html"><span class="number">36 </span><span class="name">Troubleshooting the Installation</span></a></li><li class="inactive"><a href="esx-troubleshooting-installation.html"><span class="number">37 </span><span class="name">Troubleshooting the ESX</span></a></li></ol></li><li class="inactive"><a href="post-install.html"><span class="number">V </span><span class="name">Post-Installation</span></a><ol><li class="inactive"><a href="cloud-verification.html"><span class="number">38 </span><span class="name">Post Installation Tasks</span></a></li><li class="inactive"><a href="ui-verification.html"><span class="number">39 </span><span class="name">UI Verification</span></a></li><li class="inactive"><a href="install-openstack-clients.html"><span class="number">40 </span><span class="name">Installing OpenStack Clients</span></a></li><li class="inactive"><a href="tls30.html"><span class="number">41 </span><span class="name">Configuring Transport Layer Security (TLS)</span></a></li><li class="inactive"><a href="config-availability-zones.html"><span class="number">42 </span><span class="name">Configuring Availability Zones</span></a></li><li class="inactive"><a href="OctaviaInstall.html"><span class="number">43 </span><span class="name">Configuring Load Balancer as a Service</span></a></li><li class="inactive"><a href="postinstall-checklist.html"><span class="number">44 </span><span class="name">Other Common Post-Installation Tasks</span></a></li></ol></li><li class="inactive"><a href="cha-inst-trouble.html"><span class="number">VI </span><span class="name">Support</span></a><ol><li class="inactive"><a href="sec-depl-trouble-faq.html"><span class="number">45 </span><span class="name">FAQ</span></a></li><li class="inactive"><a href="sec-installation-trouble-support.html"><span class="number">46 </span><span class="name">Support</span></a></li><li class="inactive"><a href="inst-support-ptf.html"><span class="number">47 </span><span class="name">
    Applying PTFs (Program Temporary Fixes) Provided by SUSE L3 Support
   </span></a></li><li class="inactive"><a href="inst-support-ptf-test.html"><span class="number">48 </span><span class="name">
    Testing PTFs (Program Temporary Fixes) on a Single Node
   </span></a></li></ol></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 23. Installing a Stand-Alone Cloud Lifecycle Manager" href="install-standalone.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 25. DNS Service Installation Overview" href="DesignateInstallOverview.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Documentation"><span class="book-icon">Documentation</span></a><span> › </span><a class="crumb" href="book-deployment.html">Deployment Guide using Cloud Lifecycle Manager</a><span> › </span><a class="crumb" href="cloudinstallation.html">Cloud Installation</a><span> › </span><a class="crumb" href="install-kvm.html">Installing Mid-scale and Entry-scale KVM</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 23. Installing a Stand-Alone Cloud Lifecycle Manager" href="install-standalone.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 25. DNS Service Installation Overview" href="DesignateInstallOverview.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="install-kvm"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber ">9</span></div><div><h2 class="title"><span class="number">24 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Installing Mid-scale and Entry-scale KVM</span> <a title="Permalink" class="permalink" href="install-kvm.html#">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>install-kvm</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="install-kvm.html#sec-kvm-important-notes"><span class="number">24.1 </span><span class="name">Important Notes</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-prereqs"><span class="number">24.2 </span><span class="name">Prepare for Cloud Installation</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-configuration"><span class="number">24.3 </span><span class="name">Configuring Your Environment</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-provision"><span class="number">24.4 </span><span class="name">Provisioning Your Baremetal Nodes</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-config-processor"><span class="number">24.5 </span><span class="name">Running the Configuration Processor</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-security"><span class="number">24.6 </span><span class="name">Configuring TLS</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-deploy"><span class="number">24.7 </span><span class="name">Deploying the Cloud</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-configure-backend"><span class="number">24.8 </span><span class="name">Configuring a Block Storage Backend</span></a></span></dt><dt><span class="section"><a href="install-kvm.html#sec-kvm-post-installation"><span class="number">24.9 </span><span class="name">Post-Installation Verification and Administration</span></a></span></dt></dl></div></div><div class="sect1" id="sec-kvm-important-notes"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Important Notes</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-important-notes">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-important-notes</li></ul></div></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     For information about when to use the GUI installer and when to use the
     command line (CLI), see <a class="xref" href="preinstall-overview.html" title="Chapter 13. Overview">Chapter 13, <em>Overview</em></a>.
    </p></li><li class="listitem "><p>
     Review the <a class="xref" href="min-hardware.html" title="Chapter 2. Hardware and Software Support Matrix">Chapter 2, <em>Hardware and Software Support Matrix</em></a> that we have listed.
    </p></li><li class="listitem "><p>
     Review the release notes to make yourself aware of any known issues and
     limitations.
    </p></li><li class="listitem "><p>
     The installation process can occur in different phases. For example, you
     can install the control plane only and then add Compute nodes afterwards
     if you would like.
    </p></li><li class="listitem "><p>
     If you run into issues during installation, we have put together a list of
     <a class="xref" href="troubleshooting-installation.html" title="Chapter 36. Troubleshooting the Installation">Chapter 36, <em>Troubleshooting the Installation</em></a> you can reference.
    </p></li><li class="listitem "><p>
     Make sure all disks on the system(s) are wiped before you begin the
     install. (For swift, refer to <a class="xref" href="modify-input-model.html#topic-d1s-hht-tt" title="11.6. Swift Requirements for Device Group Drives">Section 11.6, “Swift Requirements for Device Group Drives”</a>.)
    </p></li><li class="listitem "><p>
     There is no requirement to have a dedicated network for OS-install and
     system deployment, this can be shared with the management network. More
     information can be found in <a class="xref" href="example-configurations.html" title="Chapter 9. Example Configurations">Chapter 9, <em>Example Configurations</em></a>.
    </p></li><li class="listitem "><p>
     The terms deployer and Cloud Lifecycle Manager are used interchangeably. They refer to the
     same nodes in your cloud environment.
    </p></li><li class="listitem "><p>
     When running the Ansible playbook in this installation guide, if a runbook
     fails you will see in the error response to use the
     <code class="literal">--limit</code> switch when retrying a playbook. This should be
     avoided. You can simply re-run any playbook without this switch.
    </p></li><li class="listitem "><p>
     DVR is not supported with ESX compute.
    </p></li><li class="listitem "><p>
     When you attach a cinder volume to the VM running on the ESXi host, the
     volume will not get detected automatically. Make sure to set the image
     metadata <span class="bold"><strong>vmware_adaptertype=lsiLogicsas</strong></span>
     for image before launching the instance. This will help to discover the
     volume change appropriately.
    </p></li><li class="listitem "><p>
     The installation process will create several <span class="productname">OpenStack</span> roles. Not all roles
     will be relevant for a cloud with swift only, but they will not cause
     problems.
    </p></li></ul></div></div><div class="sect1" id="sec-kvm-prereqs"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Prepare for Cloud Installation</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-prereqs">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-prereqs</li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Review the <a class="xref" href="preinstall-checklist.html" title="Chapter 14. Pre-Installation Checklist">Chapter 14, <em>Pre-Installation Checklist</em></a> about recommended
     pre-installation tasks.
    </p></li><li class="step "><p>
     Prepare the Cloud Lifecycle Manager node. The Cloud Lifecycle Manager must be accessible either directly or via
     <code class="literal">ssh</code>, and have SUSE Linux Enterprise Server 12 SP4 installed. All nodes must
     be accessible to the Cloud Lifecycle Manager. If the nodes do not have direct access to
     online Cloud subscription channels, the Cloud Lifecycle Manager node will need to host the
     Cloud repositories.
    </p><ol type="a" class="substeps "><li class="step "><p>
       If you followed the installation instructions for Cloud Lifecycle Manager server (see <a class="xref" href="cha-depl-dep-inst.html" title="Chapter 15. Installing the Cloud Lifecycle Manager server">Chapter 15, <em>Installing the Cloud Lifecycle Manager server</em></a>), <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> software should already be
       installed. Double-check whether SUSE Linux Enterprise and <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> are properly
       registered at the SUSE Customer Center by starting YaST and running <span class="guimenu ">Software</span> › <span class="guimenu ">Product
       Registration</span>.
      </p><p>
       If you have not yet installed <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, do so by starting YaST and
       running <span class="guimenu ">Software</span> › <span class="guimenu ">Product
       Registration</span> › <span class="guimenu ">Select
       Extensions</span>. Choose <span class="guimenu "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span>
       and follow the on-screen instructions. Make sure to register
       <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> during the installation process and to install the software
       pattern <code class="literal">patterns-cloud-ardana</code>.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo zypper -n in patterns-cloud-ardana</pre></div></li><li class="step "><p>
       Ensure the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> media repositories and updates repositories are
       made available to all nodes in your deployment. This can be accomplished
       either by configuring the Cloud Lifecycle Manager server as an SMT mirror as described in
       <a class="xref" href="app-deploy-smt-lcm.html" title="Chapter 16. Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)">Chapter 16, <em>Installing and Setting Up an SMT Server on the Cloud Lifecycle Manager server (Optional)</em></a> or by syncing or mounting the
       Cloud and updates repositories to the Cloud Lifecycle Manager server as described in <a class="xref" href="cha-depl-repo-conf-lcm.html" title="Chapter 17. Software Repository Setup">Chapter 17, <em>Software Repository Setup</em></a>.
      </p></li><li class="step "><p>
       Configure passwordless <code class="command">sudo</code> for the user created when
       setting up the node (as described in <a class="xref" href="cha-depl-dep-inst.html#sec-depl-adm-inst-user" title="15.4. Creating a User">Section 15.4, “Creating a User”</a>). Note that this is
       <span class="emphasis"><em>not</em></span> the user <code class="systemitem">ardana</code> that will be used later in this
       procedure. In the following we assume you named the user <code class="systemitem">cloud</code>. Run the command
       <code class="command">visudo</code> as user <code class="systemitem">root</code> and add the following line
       to the end of the file:
      </p><div class="verbatim-wrap"><pre class="screen"><em class="replaceable ">CLOUD</em> ALL = (root) NOPASSWD:ALL</pre></div><p>
       Make sure to replace <em class="replaceable ">CLOUD</em> with your user name
       choice.
      </p></li><li class="step "><p>
       Set the password for the user
       <code class="systemitem">ardana</code>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo passwd ardana</pre></div></li><li class="step "><p>
       Become the user <code class="systemitem">ardana</code>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>su - ardana</pre></div></li><li class="step "><p>
       Place a copy of the SUSE Linux Enterprise Server 12 SP4 <code class="filename">.iso</code> in the
       <code class="systemitem">ardana</code> home directory,
       <code class="filename">var/lib/ardana</code>, and rename it to
       <code class="filename">sles12sp4.iso</code>.
      </p></li><li class="step "><p>
       Install the templates, examples, and working model directories:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>/usr/bin/ardana-init</pre></div></li></ol></li></ol></div></div></div><div class="sect1" id="sec-kvm-configuration"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring Your Environment</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-configuration">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-configuration</li></ul></div></div></div></div><p>
   During the configuration phase of the installation you will be making
   modifications to the example configuration input files to match your cloud
   environment. You should use the <a class="xref" href="example-configurations.html" title="Chapter 9. Example Configurations">Chapter 9, <em>Example Configurations</em></a>
   documentation for detailed information on how to do this. There is also a
   <code class="filename">README.md</code> file included in each of the example
   directories on the Cloud Lifecycle Manager that has useful information about the models.
  </p><p>
   In the steps below we show how to set up the directory structure with the
   example input files as well as use the optional encryption methods for your
   sensitive data.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Set up your configuration files, as follows:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Copy the example configuration files into the required setup directory
       and edit them to contain the details of your environment.
      </p><p>
       For example, if you want to use the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Mid-scale KVM model,
       you can use this command to copy the files to your cloud definition
       directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cp -r ~/openstack/examples/mid-scale-kvm/* \
~/openstack/my_cloud/definition/</pre></div><p>
       If you want to use the <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> Entry-scale KVM model, you can use
       this command to copy the files to your cloud definition directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cp -r ~/openstack/examples/entry-scale-kvm/* \
~/openstack/my_cloud/definition/</pre></div></li><li class="step "><p>
       Begin inputting your environment information into the configuration
       files in the <code class="filename">~/openstack/my_cloud/definition</code>
       directory.
      </p></li></ol></li><li class="step "><p><span class="step-optional">(Optional)</span> 
     You can use the <code class="literal">ardanaencrypt.py</code> script to
     encrypt your IPMI passwords. This script uses OpenSSL.
    </p><ol type="a" class="substeps "><li class="step "><p>
       Change to the Ansible directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible</pre></div></li><li class="step "><p>
       Put the encryption key into the following environment variable:
      </p><div class="verbatim-wrap"><pre class="screen">export ARDANA_USER_PASSWORD_ENCRYPT_KEY=&lt;encryption key&gt;</pre></div></li><li class="step "><p>
       Run the python script below and follow the instructions. Enter a
       password that you want to encrypt.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>./ardanaencrypt.py</pre></div></li><li class="step "><p>
       Take the string generated and place it in the
       <code class="literal">ilo-password</code> field in your
       <code class="filename">~/openstack/my_cloud/definition/data/servers.yml</code>
       file, remembering to enclose it in quotes.
      </p></li><li class="step "><p>
       Repeat the above for each server.
      </p><div id="id-1.3.6.7.4.4.2.2.5.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>
        Before you run any playbooks, remember that you need to export the
        encryption key in the following environment variable: <code class="literal">export
        ARDANA_USER_PASSWORD_ENCRYPT_KEY=&lt;encryption key&gt;</code>
       </p></div></li></ol></li><li class="step "><p>
     Commit your configuration to the local git repo
     (<a class="xref" href="using-git.html" title="Chapter 22. Using Git for Configuration Management">Chapter 22, <em>Using Git for Configuration Management</em></a>), as follows:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>git add -A
<code class="prompt user">ardana &gt; </code>git commit -m "My config or other commit message"</pre></div><div id="id-1.3.6.7.4.4.3.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important</h6><p>
      This step needs to be repeated any time you make changes to your
      configuration files before you move on to the following steps. See
      <a class="xref" href="using-git.html" title="Chapter 22. Using Git for Configuration Management">Chapter 22, <em>Using Git for Configuration Management</em></a> for more information.
     </p></div></li></ol></div></div></div><div class="sect1" id="sec-kvm-provision"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Provisioning Your Baremetal Nodes</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-provision">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-provision</li></ul></div></div></div></div><p>
   To provision the baremetal nodes in your cloud deployment you can either use
   the automated operating system installation process provided by <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> or
   you can use the 3rd party installation tooling of your choice. We will
   outline both methods below:
  </p><div class="sect2" id="id-1.3.6.7.5.3"><div class="titlepage"><div><div><h3 class="title"><span class="number">24.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using Third Party Baremetal Installers</span> <a title="Permalink" class="permalink" href="install-kvm.html#id-1.3.6.7.5.3">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
    If you do not wish to use the automated operating system installation
    tooling included with <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> then the requirements that have to be met
    using the installation tooling of your choice are:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      The operating system must be installed via the SLES ISO provided on
      the <a class="link" href="https://scc.suse.com/" target="_blank">SUSE Customer Center</a>.
     </p></li><li class="listitem "><p>
      Each node must have SSH keys in place that allows the same user from the
      Cloud Lifecycle Manager node who will be doing the deployment to SSH to each node without a
      password.
     </p></li><li class="listitem "><p>
      Passwordless sudo needs to be enabled for the user.
     </p></li><li class="listitem "><p>
      There should be a LVM logical volume as <code class="literal">/root</code> on each
      node.
     </p></li><li class="listitem "><p>
      If the LVM volume group name for the volume group holding the
      <code class="literal">root</code> LVM logical volume is
      <code class="literal">ardana-vg</code>, then it will align with the disk input
      models in the examples.
     </p></li><li class="listitem "><p>
      <span class="phrase">Ensure that <code class="literal">openssh-server</code>,
      <code class="literal">python</code>, <code class="literal">python-apt</code>, and
      <code class="literal">rsync</code> are installed.</span>
     </p></li></ul></div><p>
    If you chose this method for installing your baremetal hardware, skip
    forward to the step
    <em class="citetitle ">Running the Configuration Processor</em>.
   </p></div><div class="sect2" id="id-1.3.6.7.5.4"><div class="titlepage"><div><div><h3 class="title"><span class="number">24.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using the Automated Operating System Installation Provided by <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <a title="Permalink" class="permalink" href="install-kvm.html#id-1.3.6.7.5.4">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h3><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
    If you would like to use the automated operating system installation tools
    provided by <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, complete the steps below.
   </p><div class="sect3" id="id-1.3.6.7.5.4.3"><div class="titlepage"><div><div><h4 class="title"><span class="number">24.4.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying Cobbler</span> <a title="Permalink" class="permalink" href="install-kvm.html#id-1.3.6.7.5.4.3">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
     This phase of the install process takes the baremetal information that was
     provided in <code class="literal">servers.yml</code> and installs the Cobbler
     provisioning tool and loads this information into Cobbler. This sets each
     node to <code class="literal">netboot-enabled: true</code> in Cobbler. Each node
     will be automatically marked as <code class="literal">netboot-enabled: false</code>
     when it completes its operating system install successfully. Even if the
     node tries to PXE boot subsequently, Cobbler will not serve it. This is
     deliberate so that you cannot reimage a live node by accident.
    </p><p>
     The <code class="literal">cobbler-deploy.yml</code> playbook prompts for a password
     - this is the password that will be encrypted and stored in Cobbler, which
     is associated with the user running the command on the Cloud Lifecycle Manager, that you
     will use to log in to the nodes via their consoles after install. The
     username is the same as the user set up in the initial dialogue when
     installing the Cloud Lifecycle Manager from the ISO, and is the same user that is running
     the cobbler-deploy play.
    </p><div id="id-1.3.6.7.5.4.3.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>
      When imaging servers with your own tooling, it is still necessary to have
      ILO/IPMI settings for all nodes. Even if you are not using Cobbler, the
      username and password fields in <code class="filename">servers.yml</code> need to
      be filled in with dummy settings. For example, add the following to
      <code class="filename">servers.yml</code>:
     </p><div class="verbatim-wrap"><pre class="screen">ilo-user: manual
ilo-password: deployment</pre></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
       Run the following playbook which confirms that there is IPMI connectivity
       for each of your nodes so that they are accessible to be re-imaged in a
       later step:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost bm-power-status.yml</pre></div></li><li class="step "><p>
       Run the following playbook to deploy Cobbler:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost cobbler-deploy.yml</pre></div></li></ol></div></div></div><div class="sect3" id="id-1.3.6.7.5.4.4"><div class="titlepage"><div><div><h4 class="title"><span class="number">24.4.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Imaging the Nodes</span> <a title="Permalink" class="permalink" href="install-kvm.html#id-1.3.6.7.5.4.4">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h4><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
     This phase of the install process goes through a number of distinct steps:
    </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
       Powers down the nodes to be installed
      </p></li><li class="step "><p>
       Sets the nodes hardware boot order so that the first option is a network
       boot.
      </p></li><li class="step "><p>
       Powers on the nodes. (The nodes will then boot from the network and be
       installed using infrastructure set up in the previous phase)
      </p></li><li class="step "><p>
       Waits for the nodes to power themselves down (this indicates a
       successful install). This can take some time.
      </p></li><li class="step "><p>
       Sets the boot order to hard disk and powers on the nodes.
      </p></li><li class="step "><p>
       Waits for the nodes to be reachable by SSH and verifies that they have the
       signature expected.
      </p></li></ol></div></div><p>
     Deploying nodes has been automated in the Cloud Lifecycle Manager and requires the
     following:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       All of your nodes using SLES must already be installed, either
       manually or via Cobbler.
      </p></li><li class="listitem "><p>
       Your input model should be configured for your SLES nodes.
      </p></li><li class="listitem "><p>
       You should have run the configuration processor and the
       <code class="filename">ready-deployment.yml</code> playbook.
      </p></li></ul></div><p>
     Execute the following steps to re-image one or more nodes after you have
     run the <code class="filename">ready-deployment.yml</code> playbook.
    </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
       Run the following playbook, specifying your SLES nodes using the
       nodelist. This playbook will reconfigure Cobbler for the nodes listed.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook prepare-sles-grub2.yml -e \
      nodelist=node1[,node2,node3]</pre></div></li><li class="step "><p>
       Re-image the node(s) with the following command:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost bm-reimage.yml \
      -e nodelist=node1[,node2,node3]</pre></div></li></ol></div></div><p>
     If a nodelist is not specified then the set of nodes in Cobbler with
     <code class="literal">netboot-enabled: True</code> is selected. The playbook pauses
     at the start to give you a chance to review the set of nodes that it is
     targeting and to confirm that it is correct.
    </p><p>
     You can use the command below which will list all of your nodes with the
     <code class="literal">netboot-enabled: True</code> flag set:
    </p><div class="verbatim-wrap"><pre class="screen">sudo cobbler system find --netboot-enabled=1</pre></div></div></div></div><div class="sect1" id="sec-kvm-config-processor"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Running the Configuration Processor</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-config-processor">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-config-processor</li></ul></div></div></div></div><p>
   Once you have your configuration files setup, you need to run the
   configuration processor to complete your configuration.
  </p><p>
   When you run the configuration processor, you will be prompted for two
   passwords. Enter the first password to make the configuration processor
   encrypt its sensitive data, which consists of the random inter-service
   passwords that it generates and the ansible <code class="literal">group_vars</code>
   and <code class="literal">host_vars</code> that it produces for subsequent deploy
   runs. You will need this password for subsequent Ansible deploy and
   configuration processor runs. If you wish to change an encryption password
   that you have already used when running the configuration processor then
   enter the new password at the second prompt, otherwise just press
   <span class="keycap">Enter</span> to bypass this.
  </p><p>
   Run the configuration processor with this command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/openstack/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml</pre></div><p>
   For automated installation (for example CI), you can specify the required
   passwords on the ansible command line. For example, the command below will
   disable encryption by the configuration processor:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/localhost config-processor-run.yml \
  -e encrypt="" -e rekey=""</pre></div><p>
   If you receive an error during this step, there is probably an issue with
   one or more of your configuration files. Verify that all information in each
   of your configuration files is correct for your environment. Then commit
   those changes to Git using the instructions in the previous section before
   re-running the configuration processor again.
  </p><p>
   For any troubleshooting information regarding these steps, see
   <a class="xref" href="troubleshooting-installation.html#sec-trouble-config-processor" title="36.2. Issues while Updating Configuration Files">Section 36.2, “Issues while Updating Configuration Files”</a>.
  </p></div><div class="sect1" id="sec-kvm-security"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring TLS</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-security">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-security</li></ul></div></div></div></div><div id="id-1.3.6.7.7.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg" /><h6>Important</h6><p>
    This section is optional, but recommended, for a <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> installation.
   </p></div><p>
   After you run the configuration processor the first time, the IP addresses
   for your environment will be generated and populated in the
   <code class="filename">~/openstack/my_cloud/info/address_info.yml</code> file. At
   this point, consider whether to configure TLS and set up an SSL certificate
   for your environment. Please read <a class="xref" href="tls30.html" title="Chapter 41. Configuring Transport Layer Security (TLS)">Chapter 41, <em>Configuring Transport Layer Security (TLS)</em></a> before proceeding
   for how to achieve this.
  </p></div><div class="sect1" id="sec-kvm-deploy"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying the Cloud</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-deploy">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-deploy</li></ul></div></div></div></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Use the playbook below to create a deployment directory:
    </p><div class="verbatim-wrap"><pre class="screen">cd ~/openstack/ardana/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</pre></div></li><li class="step "><p>
     [OPTIONAL] - Run the <code class="literal">wipe_disks.yml</code> playbook to ensure
     all of your non-OS partitions on your nodes are completely wiped before
     continuing with the installation. The <code class="filename">wipe_disks.yml</code>
     playbook is only meant to be run on systems immediately after running
     <code class="filename">bm-reimage.yml</code>. If used for any other case, it may
     not wipe all of the expected partitions.
    </p><p>
     If you are using fresh machines this step may not be necessary.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/scratch/ansible/next/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts wipe_disks.yml</pre></div><p>
     If you have used an encryption password when running the configuration
     processor use the command below and enter the encryption password when
     prompted:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts wipe_disks.yml --ask-vault-pass</pre></div></li><li class="step "><p>
     Run the <code class="literal">site.yml</code> playbook below:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>cd ~/scratch/ansible/next/ardana/ansible
<code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts site.yml</pre></div><p>
     If you have used an encryption password when running the configuration
     processor use the command below and enter the encryption password when
     prompted:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">ardana &gt; </code>ansible-playbook -i hosts/verb_hosts site.yml --ask-vault-pass</pre></div><div id="id-1.3.6.7.8.2.3.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg" /><h6>Note</h6><p>
      The step above runs <code class="literal">osconfig</code> to configure the cloud
      and <code class="literal">ardana-deploy</code> to deploy the cloud. Therefore, this
      step may run for a while, perhaps 45 minutes or more, depending on the
      number of nodes in your environment.
     </p></div></li><li class="step "><p>
     Verify that the network is working correctly. Ping each IP in the
     <code class="literal">/etc/hosts</code> file from one of the controller nodes.
    </p></li></ol></div></div><p>
   For any troubleshooting information regarding these steps, see
   <a class="xref" href="troubleshooting-installation.html#sec-trouble-deploy-cloud" title="36.3. Issues while Deploying the Cloud">Section 36.3, “Issues while Deploying the Cloud”</a>.
  </p></div><div class="sect1" id="sec-kvm-configure-backend"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Configuring a Block Storage Backend</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-configure-backend">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-configure-backend</li></ul></div></div></div></div><p>
    <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> supports multiple Block Storage backend options. You can use one or
    more of these for setting up multiple Block Storage backends. Multiple
    volume types are also supported. For more information on configuring backends,
    see <a class="link" href="https://docs.openstack.org/cinder/latest/admin/blockstorage-multi-backend.html" target="_blank">Configure multiple-storage back ends</a>
   </p><div class="procedure " id="id-1.3.6.7.9.3"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 24.1: </span><span class="name">Specifying the <code class="literal">default_volume_type</code> </span><a title="Permalink" class="permalink" href="install-kvm.html#id-1.3.6.7.9.3">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Create a volume type:
       </p><div class="verbatim-wrap"><pre class="screen">         openstack volume type create --public NAME</pre></div></li><li class="step "><p>
         Volume types do not have to be tied to a backend. They can contain
         attributes that can be applied to a volume during creation, these are referred
         to as extra specs. One of those attributes is the <code class="literal">volume_backend_name</code>.
         By setting the value to the same as the <code class="literal">volume_backend_name</code> of
         a specific backend as defined in <code class="literal">cinder.conf</code>, then
         volumes created with that type will always land on that backend.
         For example, if the <code class="literal">cinder.conf</code> has an LVM volume
         backend defined as:
       </p><div class="verbatim-wrap"><pre class="screen">         [lvmdriver-1]
         image_volume_cache_enabled = True
         volume_clear = zero
         lvm_type = auto
         target_helper = lioadm
         volume_group = stack-volumes-lvmdriver-1
         volume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver
         volume_backend_name = lvmdriver-1</pre></div><p>
         You can tie a volume type to that specific backend by doing:
       </p><div class="verbatim-wrap"><pre class="screen">         $ openstack volume type create --public my_lvm_type
         $ openstack volume type set --property volume_backend_name=lvmdriver-1 my_lvm_type
         $ openstack volume type show my_lvm_type
         +--------------------+--------------------------------------+
         | Field              | Value                                |
         +--------------------+--------------------------------------+
         | access_project_ids | None                                 |
         | description        | None                                 |
         | id                 | a2049509-7789-4949-95e2-89cf7fd5792f |
         | is_public          | True                                 |
         | name               | my_lvm_type                          |
         | properties         | volume_backend_name='lvmdriver-1'    |
         | qos_specs_id       | None                                 |
         +--------------------+--------------------------------------+</pre></div></li></ol></div></div></div><div class="sect1" id="sec-kvm-post-installation"><div class="titlepage"><div><div><h2 class="title"><span class="number">24.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Post-Installation Verification and Administration</span> <a title="Permalink" class="permalink" href="install-kvm.html#sec-kvm-post-installation">#</a><a class="report-bug" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/installation-installation-installing_kvm.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>installation-installation-installing_kvm.xml</li><li><span class="ds-label">ID: </span>sec-kvm-post-installation</li></ul></div></div></div></div><p>
   We recommend verifying the installation using the instructions in
   <a class="xref" href="cloud-verification.html" title="Chapter 38. Post Installation Tasks">Chapter 38, <em>Post Installation Tasks</em></a>.
  </p><p>
   There are also a list of other common post-installation administrative tasks
   listed in the <a class="xref" href="postinstall-checklist.html" title="Chapter 44. Other Common Post-Installation Tasks">Chapter 44, <em>Other Common Post-Installation Tasks</em></a> list.
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="DesignateInstallOverview.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 25 </span>DNS Service Installation Overview</span></a><a class="nav-link" href="install-standalone.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 23 </span>Installing a Stand-Alone Cloud Lifecycle Manager</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>