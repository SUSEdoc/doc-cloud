<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>SUSE OpenStack Cloud 9 | Security Guide | Security Audit Logs</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Security Audit Logs | SUSE OpenStack Cloud 9"/>
<meta name="description" content="Enterprises need the ability to audit and monitor workflows and data in accordance with their strict corporate, industry or governmental policies and…"/>
<meta name="product-name" content="SUSE OpenStack Cloud"/>
<meta name="product-number" content="9"/>
<meta name="book-title" content="Security Guide"/>
<meta name="chapter-title" content="Chapter 15. Security Audit Logs"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9"/>
<meta property="og:title" content="Security Audit Logs | SUSE OpenStack Cloud 9"/>
<meta property="og:description" content="Enterprises need the ability to audit and monitor workflows and data in accordance with their strict corporate, industry or governmental policies and…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Security Audit Logs | SUSE OpenStack Cloud 9"/>
<meta name="twitter:description" content="Enterprises need the ability to audit and monitor workflows and data in accordance with their strict corporate, industry or governmental policies and…"/>
<link rel="prev" href="glance-rate-limit.html" title="Chapter 14. glance-API Rate Limit (CVE-2016-8611)"/><link rel="next" href="book-operations.html" title="Operations Guide CLM"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Security Guide</a><span> / </span><a class="crumb" href="idg-all-security-middleware-auditing-xml-1.html">Security Audit Logs</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Security Guide</div><ol><li><a href="newsecurity.html" class=" "><span class="title-number">1 </span><span class="title-name"><span class="phrase"><span class="phrase">SUSE® <span class="productname">OpenStack</span> Cloud</span></span>: Security Planning and Features</span></a></li><li><a href="barbican.html" class=" "><span class="title-number">2 </span><span class="title-name">Key Management with the barbican Service</span></a></li><li><a href="barbicanAdmin.html" class=" "><span class="title-number">3 </span><span class="title-name">Key Management Service Administration</span></a></li><li><a href="roleSegregation.html" class=" "><span class="title-number">4 </span><span class="title-name">Service Admin Role Segregation in the Identity Service</span></a></li><li><a href="cha-security-rbac.html" class=" "><span class="title-number">5 </span><span class="title-name">Role-Based Access Control in neutron</span></a></li><li><a href="sg-logging.html" class=" "><span class="title-number">6 </span><span class="title-name">Enabling Network Security Group Logging</span></a></li><li><a href="x509-certificate-auth.html" class=" "><span class="title-number">7 </span><span class="title-name">Configuring keystone and horizon to use X.509 Client Certificates</span></a></li><li><a href="tls30overview.html" class=" "><span class="title-number">8 </span><span class="title-name">Transport Layer Security (TLS) Overview</span></a></li><li><a href="header-poisoning.html" class=" "><span class="title-number">9 </span><span class="title-name">Preventing Host Header Poisoning</span></a></li><li><a href="password-encryption.html" class=" "><span class="title-number">10 </span><span class="title-name">Encryption of Passwords and Sensitive Data</span></a></li><li><a href="encryption-ephemeral.html" class=" "><span class="title-number">11 </span><span class="title-name">Encryption of Ephemeral Volumes</span></a></li><li><a href="topic-rmq-j1v-4t.html" class=" "><span class="title-number">12 </span><span class="title-name">Refining Access Control with AppArmor</span></a></li><li><a href="dar.html" class=" "><span class="title-number">13 </span><span class="title-name">Data at Rest Encryption</span></a></li><li><a href="glance-rate-limit.html" class=" "><span class="title-number">14 </span><span class="title-name">glance-API Rate Limit (CVE-2016-8611)</span></a></li><li><a href="idg-all-security-middleware-auditing-xml-1.html" class=" you-are-here"><span class="title-number">15 </span><span class="title-name">Security Audit Logs</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="idg-all-security-middleware-auditing-xml-1" data-id-title="Security Audit Logs"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber">9</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">15 </span><span class="title-name">Security Audit Logs</span></span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect1" id="id-1.4.17.2" data-id-title="The need for auditing"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.1 </span><span class="title-name">The need for auditing</span></span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.2">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Enterprises need the ability to audit and monitor workflows and data in
   accordance with their strict corporate, industry or governmental policies
   and compliance requirements such as FIPS-140-2, PCI-DSS, HIPAA, SOX, or ISO.
   To meet this need, <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> supports CADF (Cloud Auditing Data
   Federation)-compliant security audit logs that can easily be integrated with
   your organization's Security Information and Event Management (SIEM) tools.
   Such auditing is valuable not only to meet regulatory compliance
   requirements, but also for correlating threat forensics.
  </p><p>
   Note that logs from existing OpenStack services can also be used for
   auditing purposes, even though they are not in a consistent audit friendly
   CADF format today. All logs can easily be integrated with a SIEM tool such
   as ArcSight, Splunk etc.
  </p></section><section class="sect1" id="id-1.4.17.3" data-id-title="Audit middleware"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.2 </span><span class="title-name">Audit middleware</span></span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.3">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Audit middleware is python middleware logic that addresses the
   aforementioned logging shortcomings. Audit middleware constructs audit event
   data in easily consumed CADF format. This data can be mined to answer
   critical questions about activities over REST resources such as who made the
   request, when, why, and so forth.
  </p><p>
   Audit middleware supports delivery of audit data via the Oslo messaging
   notifier feature. Each service is configured to route data to an
   audit-specific log file.
  </p><p>
   The following are key aspects of auditing support in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> 9:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Auditing is disabled by default and can be enabled only after <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>
     installation.
    </p></li><li class="listitem"><p>
     Auditing support has been added to eight <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> services (nova, cinder,
     glance, keystone, neutron, heat, barbican, and ceilometer).
    </p></li><li class="listitem"><p>
     Auditing has been added for interactions where REST API calls are invoked.
    </p></li><li class="listitem"><p>
     All audit events are recorded in a service-specific audit log file.
    </p></li><li class="listitem"><p>
     Auditing configuration is centrally managed and indicates for which
     services auditing is currently disabled or enabled.
    </p></li><li class="listitem"><p>
     Auditing can be enabled or disabled on a per-service basis.
    </p></li></ul></div></section><section class="sect1" id="id-1.4.17.4" data-id-title="Centralized auditing configuration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">15.3 </span><span class="title-name">Centralized auditing configuration</span></span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, all auditing configuration is centrally managed and controlled
   via input model YAML files on the Cloud Lifecycle Manager node. The settings are
   configured in the file
   <code class="literal">~/openstack/my_cloud/definition/cloudConfig.yml</code> in an
   audit-settings section shown below the following table.
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col1"/><col class="col2"/><col class="col3"/><col class="col4"/><col class="col5"/><col class="col6"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Key</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Value (default)</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Type</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Description</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">Expected value(s)</th><th style="border-bottom: 1px solid ; ">Comments</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">default</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">disabled</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">String</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">Flag to globally enable or disable auditing for all services.</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; "><span class="emphasis"><em>disabled, enabled</em></span>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        A service's auditing behavior is determined via this default key value
        unless it is listed explicitly in the enabled-services or
        disabled-services list.
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">enabled-services</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">[] (empty list)</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">yaml list</td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Setting to explicitly enable auditing for listed services regardless of
        default flag setting.
       </p>
      </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        <span class="emphasis"><em>nova, cinder, glance, keystone, neutron, heat, barbican,
        ceilometer </em></span>
       </p>
      </td><td style="border-bottom: 1px solid ; ">
       <p>
        To enable a specific service, either add the service name in the
        enabled-services list when default is set to
        <code class="literal">disabled</code> or remove from disabled-services list when
        default is set to <code class="literal">enabled</code>.
       </p>
       <p>
        If a service name is present in both enabled-services and
        disabled-services, then auditing will be enabled for that service.
       </p>
      </td></tr><tr><td style="border-right: 1px solid ; ">disabled-services</td><td style="border-right: 1px solid ; ">nova, barbican, keystone, cinder, ceilometer, neutron</td><td style="border-right: 1px solid ; ">yaml list</td><td style="border-right: 1px solid ; ">
       <p>
        Setting to explicitly disable auditing for listed services regardless
        of default flag setting.
       </p>
      </td><td style="border-right: 1px solid ; ">
       <p>
        <span class="emphasis"><em>nova, cinder, glance, keystone,neutron, heat, barbican,
        ceilometer </em></span>
       </p>
      </td><td>
       <p>
        To disable a specific service, either add the service name in
        disabled-services when default is set to <code class="literal">enabled</code>. or
        remove from enabled-services list when default is set to
        <code class="literal">disabled</code>.
       </p>
      </td></tr></tbody></table></div><p>
   Audit settings in <code class="literal">cloudConfig.yml</code> with default set to
   <code class="literal">disabled</code> and services selectively enabled:
  </p><div class="verbatim-wrap"><pre class="screen">product:
    version: 2
    cloud:
    ....
    ....
    # Disc space needs to be allocated to the audit directory before enabling
    # auditing.
    # keystone and nova has auditing enabled
    # cinder, ceilometer, glance, neutron, heat, barbican have auditing disabled
    audit-settings:
    audit-dir: /var/audit
    default: disabled
    enabled-services:
    - keystone
    - nova
    disabled-services:
    - cinder
    - ceilometer</pre></div><p>
   Audit setting in <code class="literal">cloudConfig.yml</code> with default set to
   <code class="literal">enabled</code> and services selectively disabled:
  </p><div class="verbatim-wrap"><pre class="screen">product:
    version: 2
    cloud:
    ....
    ....
    # Disc space needs to be allocated to the audit directory before enabling
    # auditing.
    # keystone, nova, glance, neutron, heat, barbican has auditing enabled
    # cinder, ceilometer has auditing disabled
    audit-settings:
    audit-dir: /var/audit
    default: enabled
    enabled-services:
    - keystone
    - nova
    disabled-services:
    - cinder
    - ceilometer</pre></div><p>
   Because auditing is disabled by default, you will need to follow the steps
   below to enable it:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     <span class="intraxref">Book “Operations Guide CLM”, Chapter 13 “Managing Monitoring, Logging, and Usage Reporting”, Section 13.2 “Centralized Logging Service”, Section 13.2.7 “Audit Logging Overview”, Section 13.2.7.1 “Audit Logging Checklist”</span>
    </p></li><li class="step"><p>
     <span class="intraxref">Book “Operations Guide CLM”, Chapter 13 “Managing Monitoring, Logging, and Usage Reporting”, Section 13.2 “Centralized Logging Service”, Section 13.2.7 “Audit Logging Overview”, Section 13.2.7.2 “Enable Audit Logging”</span>
    </p></li></ol></div></div><p>
   For instructions on backing up and restoring audit logs, see:
   <span class="intraxref">Book “Operations Guide CLM”, Chapter 17 “Backup and Restore”, Section 17.3 “Manual Backup and Restore Procedures”, Section 17.3.4 “Audit Log Backup and Restore”</span> .
  </p></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="glance-rate-limit.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 14 </span>glance-API Rate Limit (CVE-2016-8611)</span></a> </div><div> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.2"><span class="title-number">15.1 </span><span class="title-name">The need for auditing</span></a></span></li><li><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.3"><span class="title-number">15.2 </span><span class="title-name">Audit middleware</span></a></span></li><li><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.4"><span class="title-number">15.3 </span><span class="title-name">Centralized auditing configuration</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>