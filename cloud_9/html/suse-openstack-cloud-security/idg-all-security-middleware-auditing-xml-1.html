<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Security Audit Logs | Security Guide | SUSE OpenStack Cloud 9</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets 1.79.2) - chunked" /><meta name="product-name" content="SUSE OpenStack Cloud" /><meta name="product-number" content="9" /><meta name="book-title" content="Security Guide" /><meta name="chapter-title" content="Chapter 15. Security Audit Logs" /><meta name="description" content="Enterprises need the ability to audit and monitor workflows and data in accordance with their strict corporate, industry or governmental policies and compliance requirements such as FIPS-140-2, PCI-DSS, HIPAA, SOX, or ISO. To meet this need, SUSE OpenStack Cloud supports CADF (Cloud Auditing Data Fe…" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE OpenStack Cloud 9" /><link rel="home" href="index.html" title="Documentation" /><link rel="up" href="book-security.html" title="Security Guide" /><link rel="prev" href="glance-rate-limit.html" title="Chapter 14. glance-API Rate Limit (CVE-2016-8611)" /><link rel="next" href="book-operations.html" title="Operations Guide CLM" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #E11;"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="Security Guide"><span class="book-icon">Security Guide</span></a><span> › </span><a class="crumb" href="idg-all-security-middleware-auditing-xml-1.html">Security Audit Logs</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="newsecurity.html"><span class="number">1 </span><span class="name"><span class="phrase"><span class="phrase">SUSE® <span class="productname">OpenStack</span> Cloud</span></span>: Security Planning and Features</span></a></li><li class="inactive"><a href="barbican.html"><span class="number">2 </span><span class="name">Key Management with the barbican Service</span></a></li><li class="inactive"><a href="barbicanAdmin.html"><span class="number">3 </span><span class="name">Key Management Service Administration</span></a></li><li class="inactive"><a href="roleSegregation.html"><span class="number">4 </span><span class="name">Service Admin Role Segregation in the Identity Service</span></a></li><li class="inactive"><a href="cha-security-rbac.html"><span class="number">5 </span><span class="name">Role-Based Access Control in neutron</span></a></li><li class="inactive"><a href="sg-logging.html"><span class="number">6 </span><span class="name">Enabling Network Security Group Logging</span></a></li><li class="inactive"><a href="x509-certificate-auth.html"><span class="number">7 </span><span class="name">Configuring keystone and horizon to use X.509 Client Certificates</span></a></li><li class="inactive"><a href="tls30overview.html"><span class="number">8 </span><span class="name">Transport Layer Security (TLS) Overview</span></a></li><li class="inactive"><a href="header-poisoning.html"><span class="number">9 </span><span class="name">Preventing Host Header Poisoning</span></a></li><li class="inactive"><a href="password-encryption.html"><span class="number">10 </span><span class="name">Encryption of Passwords and Sensitive Data</span></a></li><li class="inactive"><a href="encryption-ephemeral.html"><span class="number">11 </span><span class="name">Encryption of Ephemeral Volumes</span></a></li><li class="inactive"><a href="topic-rmq-j1v-4t.html"><span class="number">12 </span><span class="name">Refining Access Control with AppArmor</span></a></li><li class="inactive"><a href="dar.html"><span class="number">13 </span><span class="name">Data at Rest Encryption</span></a></li><li class="inactive"><a href="glance-rate-limit.html"><span class="number">14 </span><span class="name">glance-API Rate Limit (CVE-2016-8611)</span></a></li><li class="inactive"><a href="idg-all-security-middleware-auditing-xml-1.html"><span class="number">15 </span><span class="name">Security Audit Logs</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 14. glance-API Rate Limit (CVE-2016-8611)" href="glance-rate-limit.html"><span class="prev-icon">←</span></a><span class="tool-spacer"><span class="next-icon">→</span></span></span></div></div></div></div><div id="_fixed-header-wrap" style="background-color: #E11;" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="Security Guide"><span class="book-icon">Security Guide</span></a><span> › </span><a class="crumb" href="idg-all-security-middleware-auditing-xml-1.html">Security Audit Logs</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 14. glance-API Rate Limit (CVE-2016-8611)" href="glance-rate-limit.html"><span class="prev-icon">←</span></a><span class="tool-spacer"><span class="next-icon">→</span></span></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="idg-all-security-middleware-auditing-xml-1"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname "><span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span></span> <span class="productnumber ">9</span></div><div><h1 class="title"><span class="number">15 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Security Audit Logs</span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit the source file for this section">Edit source</a></h1><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security-middleware_auditing.xml</li><li><span class="ds-label">ID: </span>idg-all-security-middleware-auditing-xml-1</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.2"><span class="number">15.1 </span><span class="name">The need for auditing</span></a></span></dt><dt><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.3"><span class="number">15.2 </span><span class="name">Audit middleware</span></a></span></dt><dt><span class="section"><a href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.4"><span class="number">15.3 </span><span class="name">Centralized auditing configuration</span></a></span></dt></dl></div></div><div class="sect1" id="id-1.4.17.2"><div class="titlepage"><div><div><h2 class="title"><span class="number">15.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">The need for auditing</span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.2">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security-middleware_auditing.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   Enterprises need the ability to audit and monitor workflows and data in
   accordance with their strict corporate, industry or governmental policies
   and compliance requirements such as FIPS-140-2, PCI-DSS, HIPAA, SOX, or ISO.
   To meet this need, <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> supports CADF (Cloud Auditing Data
   Federation)-compliant security audit logs that can easily be integrated with
   your organization's Security Information and Event Management (SIEM) tools.
   Such auditing is valuable not only to meet regulatory compliance
   requirements, but also for correlating threat forensics.
  </p><p>
   Note that logs from existing OpenStack services can also be used for
   auditing purposes, even though they are not in a consistent audit friendly
   CADF format today. All logs can easily be integrated with a SIEM tool such
   as ArcSight, Splunk etc.
  </p></div><div class="sect1" id="id-1.4.17.3"><div class="titlepage"><div><div><h2 class="title"><span class="number">15.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Audit middleware</span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.3">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security-middleware_auditing.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   Audit middleware is python middleware logic that addresses the
   aforementioned logging shortcomings. Audit middleware constructs audit event
   data in easily consumed CADF format. This data can be mined to answer
   critical questions about activities over REST resources such as who made the
   request, when, why, and so forth.
  </p><p>
   Audit middleware supports delivery of audit data via the Oslo messaging
   notifier feature. Each service is configured to route data to an
   audit-specific log file.
  </p><p>
   The following are key aspects of auditing support in <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> 9:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Auditing is disabled by default and can be enabled only after <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>
     installation.
    </p></li><li class="listitem "><p>
     Auditing support has been added to eight <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span> services (nova, cinder,
     glance, keystone, neutron, heat, barbican, and ceilometer).
    </p></li><li class="listitem "><p>
     Auditing has been added for interactions where REST API calls are invoked.
    </p></li><li class="listitem "><p>
     All audit events are recorded in a service-specific audit log file.
    </p></li><li class="listitem "><p>
     Auditing configuration is centrally managed and indicates for which
     services auditing is currently disabled or enabled.
    </p></li><li class="listitem "><p>
     Auditing can be enabled or disabled on a per-service basis.
    </p></li></ul></div></div><div class="sect1" id="id-1.4.17.4"><div class="titlepage"><div><div><h2 class="title"><span class="number">15.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Centralized auditing configuration</span> <a title="Permalink" class="permalink" href="idg-all-security-middleware-auditing-xml-1.html#id-1.4.17.4">#</a><a class="report-bug" rel="nofollow" target="_blank" href="https://github.com/SUSE-Cloud/doc-cloud/blob/maintenance/cloud_9/xml/security-middleware_auditing.xml" title="Edit the source file for this section">Edit source</a></h2><div class="doc-status"><ul><li><span class="ds-label">File Name: </span>security-middleware_auditing.xml</li><li><span class="ds-label">ID: </span><span class="ds-message">no ID found</span></li></ul></div></div></div></div><p>
   In <span class="phrase"><span class="phrase">SUSE <span class="productname">OpenStack</span> Cloud</span></span>, all auditing configuration is centrally managed and controlled
   via input model YAML files on the Cloud Lifecycle Manager node. The settings are
   configured in the file
   <code class="literal">~/openstack/my_cloud/definition/cloudConfig.yml</code> in an
   audit-settings section shown below the following table.
  </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /><col class="col5" /><col class="col6" /></colgroup><thead><tr><th>Key</th><th>Value (default)</th><th>Type</th><th>Description</th><th>Expected value(s)</th><th>Comments</th></tr></thead><tbody><tr><td>default</td><td>disabled</td><td>String</td><td>Flag to globally enable or disable auditing for all services.</td><td><span class="emphasis"><em>disabled, enabled</em></span>
      </td><td>
       <p>
        A service's auditing behavior is determined via this default key value
        unless it is listed explicitly in the enabled-services or
        disabled-services list.
       </p>
      </td></tr><tr><td>enabled-services</td><td>[] (empty list)</td><td>yaml list</td><td>
       <p>
        Setting to explicitly enable auditing for listed services regardless of
        default flag setting.
       </p>
      </td><td>
       <p>
        <span class="emphasis"><em>nova, cinder, glance, keystone, neutron, heat, barbican,
        ceilometer </em></span>
       </p>
      </td><td>
       <p>
        To enable a specific service, either add the service name in the
        enabled-services list when default is set to
        <code class="literal">disabled</code> or remove from disabled-services list when
        default is set to <code class="literal">enabled</code>.
       </p>
       <p>
        If a service name is present in both enabled-services and
        disabled-services, then auditing will be enabled for that service.
       </p>
      </td></tr><tr><td>disabled-services</td><td>nova, barbican, keystone, cinder, ceilometer, neutron</td><td>yaml list</td><td>
       <p>
        Setting to explicitly disable auditing for listed services regardless
        of default flag setting.
       </p>
      </td><td>
       <p>
        <span class="emphasis"><em>nova, cinder, glance, keystone,neutron, heat, barbican,
        ceilometer </em></span>
       </p>
      </td><td>
       <p>
        To disable a specific service, either add the service name in
        disabled-services when default is set to <code class="literal">enabled</code>. or
        remove from enabled-services list when default is set to
        <code class="literal">disabled</code>.
       </p>
      </td></tr></tbody></table></div><p>
   Audit settings in <code class="literal">cloudConfig.yml</code> with default set to
   <code class="literal">disabled</code> and services selectively enabled:
  </p><div class="verbatim-wrap"><pre class="screen">product:
    version: 2
    cloud:
    ....
    ....
    # Disc space needs to be allocated to the audit directory before enabling
    # auditing.
    # keystone and nova has auditing enabled
    # cinder, ceilometer, glance, neutron, heat, barbican have auditing disabled
    audit-settings:
    audit-dir: /var/audit
    default: disabled
    enabled-services:
    - keystone
    - nova
    disabled-services:
    - cinder
    - ceilometer</pre></div><p>
   Audit setting in <code class="literal">cloudConfig.yml</code> with default set to
   <code class="literal">enabled</code> and services selectively disabled:
  </p><div class="verbatim-wrap"><pre class="screen">product:
    version: 2
    cloud:
    ....
    ....
    # Disc space needs to be allocated to the audit directory before enabling
    # auditing.
    # keystone, nova, glance, neutron, heat, barbican has auditing enabled
    # cinder, ceilometer has auditing disabled
    audit-settings:
    audit-dir: /var/audit
    default: enabled
    enabled-services:
    - keystone
    - nova
    disabled-services:
    - cinder
    - ceilometer</pre></div><p>
   Because auditing is disabled by default, you will need to follow the steps
   below to enable it:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     <span class="intraxref">Book “Operations Guide CLM”, Chapter 13 “Managing Monitoring, Logging, and Usage Reporting”, Section 13.2 “Centralized Logging Service”, Section 13.2.7 “Audit Logging Overview”, Section 13.2.7.1 “Audit Logging Checklist”</span>
    </p></li><li class="step "><p>
     <span class="intraxref">Book “Operations Guide CLM”, Chapter 13 “Managing Monitoring, Logging, and Usage Reporting”, Section 13.2 “Centralized Logging Service”, Section 13.2.7 “Audit Logging Overview”, Section 13.2.7.2 “Enable Audit Logging”</span>
    </p></li></ol></div></div><p>
   For instructions on backing up and restoring audit logs, see:
   <span class="intraxref">Book “Operations Guide CLM”, Chapter 17 “Backup and Restore”, Section 17.3 “Manual Backup and Restore Procedures”, Section 17.3.4 “Audit Log Backup and Restore”</span> .
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="glance-rate-limit.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 14 </span>glance-API Rate Limit (CVE-2016-8611)</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2022 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>